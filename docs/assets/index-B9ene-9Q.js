function em(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(s,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();function tm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dc={exports:{}},yl={},Jc={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),rm=Symbol.for("react.portal"),nm=Symbol.for("react.fragment"),sm=Symbol.for("react.strict_mode"),lm=Symbol.for("react.profiler"),om=Symbol.for("react.provider"),im=Symbol.for("react.context"),am=Symbol.for("react.forward_ref"),cm=Symbol.for("react.suspense"),dm=Symbol.for("react.memo"),um=Symbol.for("react.lazy"),Ea=Symbol.iterator;function mm(e){return e===null||typeof e!="object"?null:(e=Ea&&e[Ea]||e["@@iterator"],typeof e=="function"?e:null)}var Zc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kc=Object.assign,Yc={};function sn(e,t,r){this.props=e,this.context=t,this.refs=Yc,this.updater=r||Zc}sn.prototype.isReactComponent={};sn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xc(){}Xc.prototype=sn.prototype;function yi(e,t,r){this.props=e,this.context=t,this.refs=Yc,this.updater=r||Zc}var vi=yi.prototype=new Xc;vi.constructor=yi;Kc(vi,sn.prototype);vi.isPureReactComponent=!0;var Ia=Array.isArray,ed=Object.prototype.hasOwnProperty,wi={current:null},td={key:!0,ref:!0,__self:!0,__source:!0};function rd(e,t,r){var s,l={},o=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)ed.call(t,s)&&!td.hasOwnProperty(s)&&(l[s]=t[s]);var a=arguments.length-2;if(a===1)l.children=r;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(s in a=e.defaultProps,a)l[s]===void 0&&(l[s]=a[s]);return{$$typeof:rs,type:e,key:o,ref:i,props:l,_owner:wi.current}}function hm(e,t){return{$$typeof:rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bi(e){return typeof e=="object"&&e!==null&&e.$$typeof===rs}function fm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Aa=/\/+/g;function Fl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fm(""+e.key):t.toString(36)}function Ps(e,t,r,s,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case rs:case rm:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+Fl(i,0):s,Ia(l)?(r="",e!=null&&(r=e.replace(Aa,"$&/")+"/"),Ps(l,t,r,"",function(d){return d})):l!=null&&(bi(l)&&(l=hm(l,r+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Aa,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",Ia(e))for(var a=0;a<e.length;a++){o=e[a];var c=s+Fl(o,a);i+=Ps(o,t,r,c,l)}else if(c=mm(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=s+Fl(o,a++),i+=Ps(o,t,r,c,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function gs(e,t,r){if(e==null)return e;var s=[],l=0;return Ps(e,s,"","",function(o){return t.call(r,o,l++)}),s}function pm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},Rs={transition:null},gm={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:wi};function nd(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:gs,forEach:function(e,t,r){gs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!bi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=sn;Y.Fragment=nm;Y.Profiler=lm;Y.PureComponent=yi;Y.StrictMode=sm;Y.Suspense=cm;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gm;Y.act=nd;Y.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Kc({},e.props),l=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=wi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)ed.call(t,c)&&!td.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];s.children=a}return{$$typeof:rs,type:e.type,key:l,ref:o,props:s,_owner:i}};Y.createContext=function(e){return e={$$typeof:im,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:om,_context:e},e.Consumer=e};Y.createElement=rd;Y.createFactory=function(e){var t=rd.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:am,render:e}};Y.isValidElement=bi;Y.lazy=function(e){return{$$typeof:um,_payload:{_status:-1,_result:e},_init:pm}};Y.memo=function(e,t){return{$$typeof:dm,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=Rs.transition;Rs.transition={};try{e()}finally{Rs.transition=t}};Y.unstable_act=nd;Y.useCallback=function(e,t){return $e.current.useCallback(e,t)};Y.useContext=function(e){return $e.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};Y.useEffect=function(e,t){return $e.current.useEffect(e,t)};Y.useId=function(){return $e.current.useId()};Y.useImperativeHandle=function(e,t,r){return $e.current.useImperativeHandle(e,t,r)};Y.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return $e.current.useMemo(e,t)};Y.useReducer=function(e,t,r){return $e.current.useReducer(e,t,r)};Y.useRef=function(e){return $e.current.useRef(e)};Y.useState=function(e){return $e.current.useState(e)};Y.useSyncExternalStore=function(e,t,r){return $e.current.useSyncExternalStore(e,t,r)};Y.useTransition=function(){return $e.current.useTransition()};Y.version="18.3.1";Jc.exports=Y;var y=Jc.exports;const xm=tm(y),ym=em({__proto__:null,default:xm},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=y,wm=Symbol.for("react.element"),bm=Symbol.for("react.fragment"),jm=Object.prototype.hasOwnProperty,Nm=vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,km={key:!0,ref:!0,__self:!0,__source:!0};function sd(e,t,r){var s,l={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)jm.call(t,s)&&!km.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:wm,type:e,key:o,ref:i,props:l,_owner:Nm.current}}yl.Fragment=bm;yl.jsx=sd;yl.jsxs=sd;Dc.exports=yl;var n=Dc.exports,ld={exports:{}},Ye={},od={exports:{}},id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(f,S){var I=f.length;f.push(S);e:for(;0<I;){var $=I-1>>>1,q=f[$];if(0<l(q,S))f[$]=S,f[I]=q,I=$;else break e}}function r(f){return f.length===0?null:f[0]}function s(f){if(f.length===0)return null;var S=f[0],I=f.pop();if(I!==S){f[0]=I;e:for(var $=0,q=f.length,re=q>>>1;$<re;){var Q=2*($+1)-1,G=f[Q],D=Q+1,X=f[D];if(0>l(G,I))D<q&&0>l(X,G)?(f[$]=X,f[D]=I,$=D):(f[$]=G,f[Q]=I,$=Q);else if(D<q&&0>l(X,I))f[$]=X,f[D]=I,$=D;else break e}}return S}function l(f,S){var I=f.sortIndex-S.sortIndex;return I!==0?I:f.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],d=[],g=1,w=null,b=3,N=!1,j=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(f){for(var S=r(d);S!==null;){if(S.callback===null)s(d);else if(S.startTime<=f)s(d),S.sortIndex=S.expirationTime,t(c,S);else break;S=r(d)}}function M(f){if(k=!1,p(f),!j)if(r(c)!==null)j=!0,Be(L);else{var S=r(d);S!==null&&Ne(M,S.startTime-f)}}function L(f,S){j=!1,k&&(k=!1,m(U),U=-1),N=!0;var I=b;try{for(p(S),w=r(c);w!==null&&(!(w.expirationTime>S)||f&&!z());){var $=w.callback;if(typeof $=="function"){w.callback=null,b=w.priorityLevel;var q=$(w.expirationTime<=S);S=e.unstable_now(),typeof q=="function"?w.callback=q:w===r(c)&&s(c),p(S)}else s(c);w=r(c)}if(w!==null)var re=!0;else{var Q=r(d);Q!==null&&Ne(M,Q.startTime-S),re=!1}return re}finally{w=null,b=I,N=!1}}var R=!1,P=null,U=-1,Z=5,x=-1;function z(){return!(e.unstable_now()-x<Z)}function te(){if(P!==null){var f=e.unstable_now();x=f;var S=!0;try{S=P(!0,f)}finally{S?de():(R=!1,P=null)}}else R=!1}var de;if(typeof u=="function")de=function(){u(te)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Re=Pe.port2;Pe.port1.onmessage=te,de=function(){Re.postMessage(null)}}else de=function(){C(te,0)};function Be(f){P=f,R||(R=!0,de())}function Ne(f,S){U=C(function(){f(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(f){f.callback=null},e.unstable_continueExecution=function(){j||N||(j=!0,Be(L))},e.unstable_forceFrameRate=function(f){0>f||125<f?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<f?Math.floor(1e3/f):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(f){switch(b){case 1:case 2:case 3:var S=3;break;default:S=b}var I=b;b=S;try{return f()}finally{b=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(f,S){switch(f){case 1:case 2:case 3:case 4:case 5:break;default:f=3}var I=b;b=f;try{return S()}finally{b=I}},e.unstable_scheduleCallback=function(f,S,I){var $=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?$+I:$):I=$,f){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=I+q,f={id:g++,callback:S,priorityLevel:f,startTime:I,expirationTime:q,sortIndex:-1},I>$?(f.sortIndex=I,t(d,f),r(c)===null&&f===r(d)&&(k?(m(U),U=-1):k=!0,Ne(M,I-$))):(f.sortIndex=q,t(c,f),j||N||(j=!0,Be(L))),f},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(f){var S=b;return function(){var I=b;b=S;try{return f.apply(this,arguments)}finally{b=I}}}})(id);od.exports=id;var Sm=od.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=y,Ke=Sm;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ad=new Set,Rn={};function Sr(e,t){Zr(e,t),Zr(e+"Capture",t)}function Zr(e,t){for(Rn[e]=t,e=0;e<t.length;e++)ad.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=Object.prototype.hasOwnProperty,Mm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_a={},Ta={};function Em(e){return go.call(Ta,e)?!0:go.call(_a,e)?!1:Mm.test(e)?Ta[e]=!0:(_a[e]=!0,!1)}function Im(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Am(e,t,r,s){if(t===null||typeof t>"u"||Im(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,r,s,l,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var ji=/[\-:]([a-z])/g;function Ni(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ji,Ni);Ie[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ji,Ni);Ie[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ji,Ni);Ie[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ki(e,t,r,s){var l=Ie.hasOwnProperty(t)?Ie[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Am(t,r,l,s)&&(r=null),s||l===null?Em(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Pt=Cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xs=Symbol.for("react.element"),Tr=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),Si=Symbol.for("react.strict_mode"),xo=Symbol.for("react.profiler"),cd=Symbol.for("react.provider"),dd=Symbol.for("react.context"),Ci=Symbol.for("react.forward_ref"),yo=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Mi=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),ud=Symbol.for("react.offscreen"),La=Symbol.iterator;function un(e){return e===null||typeof e!="object"?null:(e=La&&e[La]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,Bl;function vn(e){if(Bl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var Vl=!1;function ql(e,t){if(!e||Vl)return"";Vl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),o=s.stack.split(`
`),i=l.length-1,a=o.length-1;1<=i&&0<=a&&l[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(l[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||l[i]!==o[a]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Vl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?vn(e):""}function _m(e){switch(e.tag){case 5:return vn(e.type);case 16:return vn("Lazy");case 13:return vn("Suspense");case 19:return vn("SuspenseList");case 0:case 2:case 15:return e=ql(e.type,!1),e;case 11:return e=ql(e.type.render,!1),e;case 1:return e=ql(e.type,!0),e;default:return""}}function wo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case Tr:return"Portal";case xo:return"Profiler";case Si:return"StrictMode";case yo:return"Suspense";case vo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dd:return(e.displayName||"Context")+".Consumer";case cd:return(e._context.displayName||"Context")+".Provider";case Ci:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mi:return t=e.displayName||null,t!==null?t:wo(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return wo(e(t))}catch{}}return null}function Tm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wo(t);case 8:return t===Si?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function md(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lm(e){var t=md(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ys(e){e._valueTracker||(e._valueTracker=Lm(e))}function hd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=md(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bo(e,t){var r=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pa(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=er(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fd(e,t){t=t.checked,t!=null&&ki(e,"checked",t,!1)}function jo(e,t){fd(e,t);var r=er(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?No(e,t.type,r):t.hasOwnProperty("defaultValue")&&No(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ra(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function No(e,t,r){(t!=="number"||Ds(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wn=Array.isArray;function Hr(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+er(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ko(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function za(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(wn(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:er(r)}}function pd(e,t){var r=er(t.value),s=er(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Oa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function So(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vs,xd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pm=["Webkit","ms","Moz","O"];Object.keys(Nn).forEach(function(e){Pm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nn[t]=Nn[e]})});function yd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nn.hasOwnProperty(e)&&Nn[e]?(""+t).trim():t+"px"}function vd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=yd(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,l):e[r]=l}}var Rm=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Co(e,t){if(t){if(Rm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Mo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=null;function Ei(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Io=null,Wr=null,Qr=null;function Ua(e){if(e=ls(e)){if(typeof Io!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Nl(t),Io(e.stateNode,e.type,t))}}function wd(e){Wr?Qr?Qr.push(e):Qr=[e]:Wr=e}function bd(){if(Wr){var e=Wr,t=Qr;if(Qr=Wr=null,Ua(e),t)for(e=0;e<t.length;e++)Ua(t[e])}}function jd(e,t){return e(t)}function Nd(){}var Hl=!1;function kd(e,t,r){if(Hl)return e(t,r);Hl=!0;try{return jd(e,t,r)}finally{Hl=!1,(Wr!==null||Qr!==null)&&(Nd(),bd())}}function On(e,t){var r=e.stateNode;if(r===null)return null;var s=Nl(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Ao=!1;if(At)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Ao=!1}function zm(e,t,r,s,l,o,i,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(g){this.onError(g)}}var kn=!1,Js=null,Zs=!1,_o=null,Om={onError:function(e){kn=!0,Js=e}};function Um(e,t,r,s,l,o,i,a,c){kn=!1,Js=null,zm.apply(Om,arguments)}function $m(e,t,r,s,l,o,i,a,c){if(Um.apply(this,arguments),kn){if(kn){var d=Js;kn=!1,Js=null}else throw Error(T(198));Zs||(Zs=!0,_o=d)}}function Cr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Sd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $a(e){if(Cr(e)!==e)throw Error(T(188))}function Fm(e){var t=e.alternate;if(!t){if(t=Cr(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var o=l.alternate;if(o===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===r)return $a(l),e;if(o===s)return $a(l),t;o=o.sibling}throw Error(T(188))}if(r.return!==s.return)r=l,s=o;else{for(var i=!1,a=l.child;a;){if(a===r){i=!0,r=l,s=o;break}if(a===s){i=!0,s=l,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,s=l;break}if(a===s){i=!0,s=o,r=l;break}a=a.sibling}if(!i)throw Error(T(189))}}if(r.alternate!==s)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function Cd(e){return e=Fm(e),e!==null?Md(e):null}function Md(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Md(e);if(t!==null)return t;e=e.sibling}return null}var Ed=Ke.unstable_scheduleCallback,Fa=Ke.unstable_cancelCallback,Bm=Ke.unstable_shouldYield,Vm=Ke.unstable_requestPaint,ye=Ke.unstable_now,qm=Ke.unstable_getCurrentPriorityLevel,Ii=Ke.unstable_ImmediatePriority,Id=Ke.unstable_UserBlockingPriority,Ks=Ke.unstable_NormalPriority,Hm=Ke.unstable_LowPriority,Ad=Ke.unstable_IdlePriority,vl=null,bt=null;function Wm(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(vl,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:Dm,Qm=Math.log,Gm=Math.LN2;function Dm(e){return e>>>=0,e===0?32:31-(Qm(e)/Gm|0)|0}var ws=64,bs=4194304;function bn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ys(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~l;a!==0?s=bn(a):(o&=i,o!==0&&(s=bn(o)))}else i=r&~l,i!==0?s=bn(i):o!==0&&(s=bn(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-ht(t),l=1<<r,s|=e[r],t&=~l;return s}function Jm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zm(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ht(o),a=1<<i,c=l[i];c===-1?(!(a&r)||a&s)&&(l[i]=Jm(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function To(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _d(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function Wl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ns(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=r}function Km(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-ht(r),o=1<<l;t[l]=0,s[l]=-1,e[l]=-1,r&=~o}}function Ai(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-ht(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}var le=0;function Td(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ld,_i,Pd,Rd,zd,Lo=!1,js=[],Qt=null,Gt=null,Dt=null,Un=new Map,$n=new Map,Vt=[],Ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ba(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(t.pointerId)}}function hn(e,t,r,s,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:o,targetContainers:[l]},t!==null&&(t=ls(t),t!==null&&_i(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Xm(e,t,r,s,l){switch(t){case"focusin":return Qt=hn(Qt,e,t,r,s,l),!0;case"dragenter":return Gt=hn(Gt,e,t,r,s,l),!0;case"mouseover":return Dt=hn(Dt,e,t,r,s,l),!0;case"pointerover":var o=l.pointerId;return Un.set(o,hn(Un.get(o)||null,e,t,r,s,l)),!0;case"gotpointercapture":return o=l.pointerId,$n.set(o,hn($n.get(o)||null,e,t,r,s,l)),!0}return!1}function Od(e){var t=cr(e.target);if(t!==null){var r=Cr(t);if(r!==null){if(t=r.tag,t===13){if(t=Sd(r),t!==null){e.blockedOn=t,zd(e.priority,function(){Pd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Po(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Eo=s,r.target.dispatchEvent(s),Eo=null}else return t=ls(r),t!==null&&_i(t),e.blockedOn=r,!1;t.shift()}return!0}function Va(e,t,r){zs(e)&&r.delete(t)}function eh(){Lo=!1,Qt!==null&&zs(Qt)&&(Qt=null),Gt!==null&&zs(Gt)&&(Gt=null),Dt!==null&&zs(Dt)&&(Dt=null),Un.forEach(Va),$n.forEach(Va)}function fn(e,t){e.blockedOn===t&&(e.blockedOn=null,Lo||(Lo=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,eh)))}function Fn(e){function t(l){return fn(l,e)}if(0<js.length){fn(js[0],e);for(var r=1;r<js.length;r++){var s=js[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Qt!==null&&fn(Qt,e),Gt!==null&&fn(Gt,e),Dt!==null&&fn(Dt,e),Un.forEach(t),$n.forEach(t),r=0;r<Vt.length;r++)s=Vt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Vt.length&&(r=Vt[0],r.blockedOn===null);)Od(r),r.blockedOn===null&&Vt.shift()}var Gr=Pt.ReactCurrentBatchConfig,Xs=!0;function th(e,t,r,s){var l=le,o=Gr.transition;Gr.transition=null;try{le=1,Ti(e,t,r,s)}finally{le=l,Gr.transition=o}}function rh(e,t,r,s){var l=le,o=Gr.transition;Gr.transition=null;try{le=4,Ti(e,t,r,s)}finally{le=l,Gr.transition=o}}function Ti(e,t,r,s){if(Xs){var l=Po(e,t,r,s);if(l===null)to(e,t,s,el,r),Ba(e,s);else if(Xm(l,e,t,r,s))s.stopPropagation();else if(Ba(e,s),t&4&&-1<Ym.indexOf(e)){for(;l!==null;){var o=ls(l);if(o!==null&&Ld(o),o=Po(e,t,r,s),o===null&&to(e,t,s,el,r),o===l)break;l=o}l!==null&&s.stopPropagation()}else to(e,t,s,null,r)}}var el=null;function Po(e,t,r,s){if(el=null,e=Ei(s),e=cr(e),e!==null)if(t=Cr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Sd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return el=e,null}function Ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qm()){case Ii:return 1;case Id:return 4;case Ks:case Hm:return 16;case Ad:return 536870912;default:return 16}default:return 16}}var Ht=null,Li=null,Os=null;function $d(){if(Os)return Os;var e,t=Li,r=t.length,s,l="value"in Ht?Ht.value:Ht.textContent,o=l.length;for(e=0;e<r&&t[e]===l[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===l[o-s];s++);return Os=l.slice(e,1<s?1-s:void 0)}function Us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function qa(){return!1}function Xe(e){function t(r,s,l,o,i){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ns:qa,this.isPropagationStopped=qa,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Xe(ln),ss=fe({},ln,{view:0,detail:0}),nh=Xe(ss),Ql,Gl,pn,wl=fe({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&e.type==="mousemove"?(Ql=e.screenX-pn.screenX,Gl=e.screenY-pn.screenY):Gl=Ql=0,pn=e),Ql)},movementY:function(e){return"movementY"in e?e.movementY:Gl}}),Ha=Xe(wl),sh=fe({},wl,{dataTransfer:0}),lh=Xe(sh),oh=fe({},ss,{relatedTarget:0}),Dl=Xe(oh),ih=fe({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),ah=Xe(ih),ch=fe({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dh=Xe(ch),uh=fe({},ln,{data:0}),Wa=Xe(uh),mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ph(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fh[e])?!!t[e]:!1}function Ri(){return ph}var gh=fe({},ss,{key:function(e){if(e.key){var t=mh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xh=Xe(gh),yh=fe({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=Xe(yh),vh=fe({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri}),wh=Xe(vh),bh=fe({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),jh=Xe(bh),Nh=fe({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kh=Xe(Nh),Sh=[9,13,27,32],zi=At&&"CompositionEvent"in window,Sn=null;At&&"documentMode"in document&&(Sn=document.documentMode);var Ch=At&&"TextEvent"in window&&!Sn,Fd=At&&(!zi||Sn&&8<Sn&&11>=Sn),Ga=" ",Da=!1;function Bd(e,t){switch(e){case"keyup":return Sh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function Mh(e,t){switch(e){case"compositionend":return Vd(t);case"keypress":return t.which!==32?null:(Da=!0,Ga);case"textInput":return e=t.data,e===Ga&&Da?null:e;default:return null}}function Eh(e,t){if(Pr)return e==="compositionend"||!zi&&Bd(e,t)?(e=$d(),Os=Li=Ht=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fd&&t.locale!=="ko"?null:t.data;default:return null}}var Ih={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ih[e.type]:t==="textarea"}function qd(e,t,r,s){wd(s),t=tl(t,"onChange"),0<t.length&&(r=new Pi("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Cn=null,Bn=null;function Ah(e){eu(e,0)}function bl(e){var t=Or(e);if(hd(t))return e}function _h(e,t){if(e==="change")return t}var Hd=!1;if(At){var Jl;if(At){var Zl="oninput"in document;if(!Zl){var Za=document.createElement("div");Za.setAttribute("oninput","return;"),Zl=typeof Za.oninput=="function"}Jl=Zl}else Jl=!1;Hd=Jl&&(!document.documentMode||9<document.documentMode)}function Ka(){Cn&&(Cn.detachEvent("onpropertychange",Wd),Bn=Cn=null)}function Wd(e){if(e.propertyName==="value"&&bl(Bn)){var t=[];qd(t,Bn,e,Ei(e)),kd(Ah,t)}}function Th(e,t,r){e==="focusin"?(Ka(),Cn=t,Bn=r,Cn.attachEvent("onpropertychange",Wd)):e==="focusout"&&Ka()}function Lh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bl(Bn)}function Ph(e,t){if(e==="click")return bl(t)}function Rh(e,t){if(e==="input"||e==="change")return bl(t)}function zh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:zh;function Vn(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!go.call(t,l)||!pt(e[l],t[l]))return!1}return!0}function Ya(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xa(e,t){var r=Ya(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ya(r)}}function Qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gd(){for(var e=window,t=Ds();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ds(e.document)}return t}function Oi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Oh(e){var t=Gd(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Qd(r.ownerDocument.documentElement,r)){if(s!==null&&Oi(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,o=Math.min(s.start,l);s=s.end===void 0?o:Math.min(s.end,l),!e.extend&&o>s&&(l=s,s=o,o=l),l=Xa(r,o);var i=Xa(r,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uh=At&&"documentMode"in document&&11>=document.documentMode,Rr=null,Ro=null,Mn=null,zo=!1;function ec(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zo||Rr==null||Rr!==Ds(s)||(s=Rr,"selectionStart"in s&&Oi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mn&&Vn(Mn,s)||(Mn=s,s=tl(Ro,"onSelect"),0<s.length&&(t=new Pi("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Rr)))}function ks(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zr={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},Kl={},Dd={};At&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function jl(e){if(Kl[e])return Kl[e];if(!zr[e])return e;var t=zr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Dd)return Kl[e]=t[r];return e}var Jd=jl("animationend"),Zd=jl("animationiteration"),Kd=jl("animationstart"),Yd=jl("transitionend"),Xd=new Map,tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){Xd.set(e,t),Sr(t,[e])}for(var Yl=0;Yl<tc.length;Yl++){var Xl=tc[Yl],$h=Xl.toLowerCase(),Fh=Xl[0].toUpperCase()+Xl.slice(1);rr($h,"on"+Fh)}rr(Jd,"onAnimationEnd");rr(Zd,"onAnimationIteration");rr(Kd,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(Yd,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bh=new Set("cancel close invalid load scroll toggle".split(" ").concat(jn));function rc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,$m(s,t,void 0,e),e.currentTarget=null}function eu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var i=s.length-1;0<=i;i--){var a=s[i],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==o&&l.isPropagationStopped())break e;rc(l,a,d),o=c}else for(i=0;i<s.length;i++){if(a=s[i],c=a.instance,d=a.currentTarget,a=a.listener,c!==o&&l.isPropagationStopped())break e;rc(l,a,d),o=c}}}if(Zs)throw e=_o,Zs=!1,_o=null,e}function ie(e,t){var r=t[Bo];r===void 0&&(r=t[Bo]=new Set);var s=e+"__bubble";r.has(s)||(tu(t,e,2,!1),r.add(s))}function eo(e,t,r){var s=0;t&&(s|=4),tu(r,e,s,t)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Ss]){e[Ss]=!0,ad.forEach(function(r){r!=="selectionchange"&&(Bh.has(r)||eo(r,!1,e),eo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ss]||(t[Ss]=!0,eo("selectionchange",!1,t))}}function tu(e,t,r,s){switch(Ud(t)){case 1:var l=th;break;case 4:l=rh;break;default:l=Ti}r=l.bind(null,t,r,e),l=void 0,!Ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function to(e,t,r,s,l){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var a=s.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;a!==null;){if(i=cr(a),i===null)return;if(c=i.tag,c===5||c===6){s=o=i;continue e}a=a.parentNode}}s=s.return}kd(function(){var d=o,g=Ei(r),w=[];e:{var b=Xd.get(e);if(b!==void 0){var N=Pi,j=e;switch(e){case"keypress":if(Us(r)===0)break e;case"keydown":case"keyup":N=xh;break;case"focusin":j="focus",N=Dl;break;case"focusout":j="blur",N=Dl;break;case"beforeblur":case"afterblur":N=Dl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=wh;break;case Jd:case Zd:case Kd:N=ah;break;case Yd:N=jh;break;case"scroll":N=nh;break;case"wheel":N=kh;break;case"copy":case"cut":case"paste":N=dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Qa}var k=(t&4)!==0,C=!k&&e==="scroll",m=k?b!==null?b+"Capture":null:b;k=[];for(var u=d,p;u!==null;){p=u;var M=p.stateNode;if(p.tag===5&&M!==null&&(p=M,m!==null&&(M=On(u,m),M!=null&&k.push(Hn(u,M,p)))),C)break;u=u.return}0<k.length&&(b=new N(b,j,null,r,g),w.push({event:b,listeners:k}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",b&&r!==Eo&&(j=r.relatedTarget||r.fromElement)&&(cr(j)||j[_t]))break e;if((N||b)&&(b=g.window===g?g:(b=g.ownerDocument)?b.defaultView||b.parentWindow:window,N?(j=r.relatedTarget||r.toElement,N=d,j=j?cr(j):null,j!==null&&(C=Cr(j),j!==C||j.tag!==5&&j.tag!==6)&&(j=null)):(N=null,j=d),N!==j)){if(k=Ha,M="onMouseLeave",m="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(k=Qa,M="onPointerLeave",m="onPointerEnter",u="pointer"),C=N==null?b:Or(N),p=j==null?b:Or(j),b=new k(M,u+"leave",N,r,g),b.target=C,b.relatedTarget=p,M=null,cr(g)===d&&(k=new k(m,u+"enter",j,r,g),k.target=p,k.relatedTarget=C,M=k),C=M,N&&j)t:{for(k=N,m=j,u=0,p=k;p;p=_r(p))u++;for(p=0,M=m;M;M=_r(M))p++;for(;0<u-p;)k=_r(k),u--;for(;0<p-u;)m=_r(m),p--;for(;u--;){if(k===m||m!==null&&k===m.alternate)break t;k=_r(k),m=_r(m)}k=null}else k=null;N!==null&&nc(w,b,N,k,!1),j!==null&&C!==null&&nc(w,C,j,k,!0)}}e:{if(b=d?Or(d):window,N=b.nodeName&&b.nodeName.toLowerCase(),N==="select"||N==="input"&&b.type==="file")var L=_h;else if(Ja(b))if(Hd)L=Rh;else{L=Lh;var R=Th}else(N=b.nodeName)&&N.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(L=Ph);if(L&&(L=L(e,d))){qd(w,L,r,g);break e}R&&R(e,b,d),e==="focusout"&&(R=b._wrapperState)&&R.controlled&&b.type==="number"&&No(b,"number",b.value)}switch(R=d?Or(d):window,e){case"focusin":(Ja(R)||R.contentEditable==="true")&&(Rr=R,Ro=d,Mn=null);break;case"focusout":Mn=Ro=Rr=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,ec(w,r,g);break;case"selectionchange":if(Uh)break;case"keydown":case"keyup":ec(w,r,g)}var P;if(zi)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Pr?Bd(e,r)&&(U="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(Fd&&r.locale!=="ko"&&(Pr||U!=="onCompositionStart"?U==="onCompositionEnd"&&Pr&&(P=$d()):(Ht=g,Li="value"in Ht?Ht.value:Ht.textContent,Pr=!0)),R=tl(d,U),0<R.length&&(U=new Wa(U,e,null,r,g),w.push({event:U,listeners:R}),P?U.data=P:(P=Vd(r),P!==null&&(U.data=P)))),(P=Ch?Mh(e,r):Eh(e,r))&&(d=tl(d,"onBeforeInput"),0<d.length&&(g=new Wa("onBeforeInput","beforeinput",null,r,g),w.push({event:g,listeners:d}),g.data=P))}eu(w,t)})}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tl(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=On(e,r),o!=null&&s.unshift(Hn(e,o,l)),o=On(e,t),o!=null&&s.push(Hn(e,o,l))),e=e.return}return s}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nc(e,t,r,s,l){for(var o=t._reactName,i=[];r!==null&&r!==s;){var a=r,c=a.alternate,d=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&d!==null&&(a=d,l?(c=On(r,o),c!=null&&i.unshift(Hn(r,c,a))):l||(c=On(r,o),c!=null&&i.push(Hn(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Vh=/\r\n?/g,qh=/\u0000|\uFFFD/g;function sc(e){return(typeof e=="string"?e:""+e).replace(Vh,`
`).replace(qh,"")}function Cs(e,t,r){if(t=sc(t),sc(e)!==t&&r)throw Error(T(425))}function rl(){}var Oo=null,Uo=null;function $o(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fo=typeof setTimeout=="function"?setTimeout:void 0,Hh=typeof clearTimeout=="function"?clearTimeout:void 0,lc=typeof Promise=="function"?Promise:void 0,Wh=typeof queueMicrotask=="function"?queueMicrotask:typeof lc<"u"?function(e){return lc.resolve(null).then(e).catch(Qh)}:Fo;function Qh(e){setTimeout(function(){throw e})}function ro(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){e.removeChild(l),Fn(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);Fn(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var on=Math.random().toString(36).slice(2),wt="__reactFiber$"+on,Wn="__reactProps$"+on,_t="__reactContainer$"+on,Bo="__reactEvents$"+on,Gh="__reactListeners$"+on,Dh="__reactHandles$"+on;function cr(e){var t=e[wt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_t]||r[wt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=oc(e);e!==null;){if(r=e[wt])return r;e=oc(e)}return t}e=r,r=e.parentNode}return null}function ls(e){return e=e[wt]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Nl(e){return e[Wn]||null}var Vo=[],Ur=-1;function nr(e){return{current:e}}function ae(e){0>Ur||(e.current=Vo[Ur],Vo[Ur]=null,Ur--)}function oe(e,t){Ur++,Vo[Ur]=e.current,e.current=t}var tr={},Le=nr(tr),We=nr(!1),vr=tr;function Kr(e,t){var r=e.type.contextTypes;if(!r)return tr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in r)l[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Qe(e){return e=e.childContextTypes,e!=null}function nl(){ae(We),ae(Le)}function ic(e,t,r){if(Le.current!==tr)throw Error(T(168));oe(Le,t),oe(We,r)}function ru(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(T(108,Tm(e)||"Unknown",l));return fe({},r,s)}function sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,vr=Le.current,oe(Le,e),oe(We,We.current),!0}function ac(e,t,r){var s=e.stateNode;if(!s)throw Error(T(169));r?(e=ru(e,t,vr),s.__reactInternalMemoizedMergedChildContext=e,ae(We),ae(Le),oe(Le,e)):ae(We),oe(We,r)}var Ct=null,kl=!1,no=!1;function nu(e){Ct===null?Ct=[e]:Ct.push(e)}function Jh(e){kl=!0,nu(e)}function sr(){if(!no&&Ct!==null){no=!0;var e=0,t=le;try{var r=Ct;for(le=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Ct=null,kl=!1}catch(l){throw Ct!==null&&(Ct=Ct.slice(e+1)),Ed(Ii,sr),l}finally{le=t,no=!1}}return null}var $r=[],Fr=0,ll=null,ol=0,rt=[],nt=0,wr=null,Mt=1,Et="";function ir(e,t){$r[Fr++]=ol,$r[Fr++]=ll,ll=e,ol=t}function su(e,t,r){rt[nt++]=Mt,rt[nt++]=Et,rt[nt++]=wr,wr=e;var s=Mt;e=Et;var l=32-ht(s)-1;s&=~(1<<l),r+=1;var o=32-ht(t)+l;if(30<o){var i=l-l%5;o=(s&(1<<i)-1).toString(32),s>>=i,l-=i,Mt=1<<32-ht(t)+l|r<<l|s,Et=o+e}else Mt=1<<o|r<<l|s,Et=e}function Ui(e){e.return!==null&&(ir(e,1),su(e,1,0))}function $i(e){for(;e===ll;)ll=$r[--Fr],$r[Fr]=null,ol=$r[--Fr],$r[Fr]=null;for(;e===wr;)wr=rt[--nt],rt[nt]=null,Et=rt[--nt],rt[nt]=null,Mt=rt[--nt],rt[nt]=null}var Ze=null,Je=null,ce=!1,ut=null;function lu(e,t){var r=st(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function cc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Je=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wr!==null?{id:Mt,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=st(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ze=e,Je=null,!0):!1;default:return!1}}function qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ho(e){if(ce){var t=Je;if(t){var r=t;if(!cc(e,t)){if(qo(e))throw Error(T(418));t=Jt(r.nextSibling);var s=Ze;t&&cc(e,t)?lu(s,r):(e.flags=e.flags&-4097|2,ce=!1,Ze=e)}}else{if(qo(e))throw Error(T(418));e.flags=e.flags&-4097|2,ce=!1,Ze=e}}}function dc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Ms(e){if(e!==Ze)return!1;if(!ce)return dc(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$o(e.type,e.memoizedProps)),t&&(t=Je)){if(qo(e))throw ou(),Error(T(418));for(;t;)lu(e,t),t=Jt(t.nextSibling)}if(dc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Je=Jt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Ze?Jt(e.stateNode.nextSibling):null;return!0}function ou(){for(var e=Je;e;)e=Jt(e.nextSibling)}function Yr(){Je=Ze=null,ce=!1}function Fi(e){ut===null?ut=[e]:ut.push(e)}var Zh=Pt.ReactCurrentBatchConfig;function gn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var s=r.stateNode}if(!s)throw Error(T(147,e));var l=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=l.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Es(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uc(e){var t=e._init;return t(e._payload)}function iu(e){function t(m,u){if(e){var p=m.deletions;p===null?(m.deletions=[u],m.flags|=16):p.push(u)}}function r(m,u){if(!e)return null;for(;u!==null;)t(m,u),u=u.sibling;return null}function s(m,u){for(m=new Map;u!==null;)u.key!==null?m.set(u.key,u):m.set(u.index,u),u=u.sibling;return m}function l(m,u){return m=Xt(m,u),m.index=0,m.sibling=null,m}function o(m,u,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<u?(m.flags|=2,u):p):(m.flags|=2,u)):(m.flags|=1048576,u)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,u,p,M){return u===null||u.tag!==6?(u=uo(p,m.mode,M),u.return=m,u):(u=l(u,p),u.return=m,u)}function c(m,u,p,M){var L=p.type;return L===Lr?g(m,u,p.props.children,M,p.key):u!==null&&(u.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ft&&uc(L)===u.type)?(M=l(u,p.props),M.ref=gn(m,u,p),M.return=m,M):(M=Ws(p.type,p.key,p.props,null,m.mode,M),M.ref=gn(m,u,p),M.return=m,M)}function d(m,u,p,M){return u===null||u.tag!==4||u.stateNode.containerInfo!==p.containerInfo||u.stateNode.implementation!==p.implementation?(u=mo(p,m.mode,M),u.return=m,u):(u=l(u,p.children||[]),u.return=m,u)}function g(m,u,p,M,L){return u===null||u.tag!==7?(u=fr(p,m.mode,M,L),u.return=m,u):(u=l(u,p),u.return=m,u)}function w(m,u,p){if(typeof u=="string"&&u!==""||typeof u=="number")return u=uo(""+u,m.mode,p),u.return=m,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case xs:return p=Ws(u.type,u.key,u.props,null,m.mode,p),p.ref=gn(m,null,u),p.return=m,p;case Tr:return u=mo(u,m.mode,p),u.return=m,u;case Ft:var M=u._init;return w(m,M(u._payload),p)}if(wn(u)||un(u))return u=fr(u,m.mode,p,null),u.return=m,u;Es(m,u)}return null}function b(m,u,p,M){var L=u!==null?u.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return L!==null?null:a(m,u,""+p,M);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xs:return p.key===L?c(m,u,p,M):null;case Tr:return p.key===L?d(m,u,p,M):null;case Ft:return L=p._init,b(m,u,L(p._payload),M)}if(wn(p)||un(p))return L!==null?null:g(m,u,p,M,null);Es(m,p)}return null}function N(m,u,p,M,L){if(typeof M=="string"&&M!==""||typeof M=="number")return m=m.get(p)||null,a(u,m,""+M,L);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case xs:return m=m.get(M.key===null?p:M.key)||null,c(u,m,M,L);case Tr:return m=m.get(M.key===null?p:M.key)||null,d(u,m,M,L);case Ft:var R=M._init;return N(m,u,p,R(M._payload),L)}if(wn(M)||un(M))return m=m.get(p)||null,g(u,m,M,L,null);Es(u,M)}return null}function j(m,u,p,M){for(var L=null,R=null,P=u,U=u=0,Z=null;P!==null&&U<p.length;U++){P.index>U?(Z=P,P=null):Z=P.sibling;var x=b(m,P,p[U],M);if(x===null){P===null&&(P=Z);break}e&&P&&x.alternate===null&&t(m,P),u=o(x,u,U),R===null?L=x:R.sibling=x,R=x,P=Z}if(U===p.length)return r(m,P),ce&&ir(m,U),L;if(P===null){for(;U<p.length;U++)P=w(m,p[U],M),P!==null&&(u=o(P,u,U),R===null?L=P:R.sibling=P,R=P);return ce&&ir(m,U),L}for(P=s(m,P);U<p.length;U++)Z=N(P,m,U,p[U],M),Z!==null&&(e&&Z.alternate!==null&&P.delete(Z.key===null?U:Z.key),u=o(Z,u,U),R===null?L=Z:R.sibling=Z,R=Z);return e&&P.forEach(function(z){return t(m,z)}),ce&&ir(m,U),L}function k(m,u,p,M){var L=un(p);if(typeof L!="function")throw Error(T(150));if(p=L.call(p),p==null)throw Error(T(151));for(var R=L=null,P=u,U=u=0,Z=null,x=p.next();P!==null&&!x.done;U++,x=p.next()){P.index>U?(Z=P,P=null):Z=P.sibling;var z=b(m,P,x.value,M);if(z===null){P===null&&(P=Z);break}e&&P&&z.alternate===null&&t(m,P),u=o(z,u,U),R===null?L=z:R.sibling=z,R=z,P=Z}if(x.done)return r(m,P),ce&&ir(m,U),L;if(P===null){for(;!x.done;U++,x=p.next())x=w(m,x.value,M),x!==null&&(u=o(x,u,U),R===null?L=x:R.sibling=x,R=x);return ce&&ir(m,U),L}for(P=s(m,P);!x.done;U++,x=p.next())x=N(P,m,U,x.value,M),x!==null&&(e&&x.alternate!==null&&P.delete(x.key===null?U:x.key),u=o(x,u,U),R===null?L=x:R.sibling=x,R=x);return e&&P.forEach(function(te){return t(m,te)}),ce&&ir(m,U),L}function C(m,u,p,M){if(typeof p=="object"&&p!==null&&p.type===Lr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case xs:e:{for(var L=p.key,R=u;R!==null;){if(R.key===L){if(L=p.type,L===Lr){if(R.tag===7){r(m,R.sibling),u=l(R,p.props.children),u.return=m,m=u;break e}}else if(R.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ft&&uc(L)===R.type){r(m,R.sibling),u=l(R,p.props),u.ref=gn(m,R,p),u.return=m,m=u;break e}r(m,R);break}else t(m,R);R=R.sibling}p.type===Lr?(u=fr(p.props.children,m.mode,M,p.key),u.return=m,m=u):(M=Ws(p.type,p.key,p.props,null,m.mode,M),M.ref=gn(m,u,p),M.return=m,m=M)}return i(m);case Tr:e:{for(R=p.key;u!==null;){if(u.key===R)if(u.tag===4&&u.stateNode.containerInfo===p.containerInfo&&u.stateNode.implementation===p.implementation){r(m,u.sibling),u=l(u,p.children||[]),u.return=m,m=u;break e}else{r(m,u);break}else t(m,u);u=u.sibling}u=mo(p,m.mode,M),u.return=m,m=u}return i(m);case Ft:return R=p._init,C(m,u,R(p._payload),M)}if(wn(p))return j(m,u,p,M);if(un(p))return k(m,u,p,M);Es(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,u!==null&&u.tag===6?(r(m,u.sibling),u=l(u,p),u.return=m,m=u):(r(m,u),u=uo(p,m.mode,M),u.return=m,m=u),i(m)):r(m,u)}return C}var Xr=iu(!0),au=iu(!1),il=nr(null),al=null,Br=null,Bi=null;function Vi(){Bi=Br=al=null}function qi(e){var t=il.current;ae(il),e._currentValue=t}function Wo(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Dr(e,t){al=e,Bi=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(Bi!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(al===null)throw Error(T(308));Br=e,al.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var dr=null;function Hi(e){dr===null?dr=[e]:dr.push(e)}function cu(e,t,r,s){var l=t.interleaved;return l===null?(r.next=r,Hi(t)):(r.next=l.next,l.next=r),t.interleaved=r,Tt(e,s)}function Tt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bt=!1;function Wi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function du(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ne&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Tt(e,r)}return l=s.interleaved,l===null?(t.next=t,Hi(s)):(t.next=l.next,l.next=t),s.interleaved=t,Tt(e,r)}function $s(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ai(e,r)}}function mc(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?l=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?l=o=t:o=o.next=t}else l=o=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cl(e,t,r,s){var l=e.updateQueue;Bt=!1;var o=l.firstBaseUpdate,i=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==i&&(a===null?g.firstBaseUpdate=d:a.next=d,g.lastBaseUpdate=c))}if(o!==null){var w=l.baseState;i=0,g=d=c=null,a=o;do{var b=a.lane,N=a.eventTime;if((s&b)===b){g!==null&&(g=g.next={eventTime:N,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var j=e,k=a;switch(b=t,N=r,k.tag){case 1:if(j=k.payload,typeof j=="function"){w=j.call(N,w,b);break e}w=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=k.payload,b=typeof j=="function"?j.call(N,w,b):j,b==null)break e;w=fe({},w,b);break e;case 2:Bt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,b=l.effects,b===null?l.effects=[a]:b.push(a))}else N={eventTime:N,lane:b,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(d=g=N,c=w):g=g.next=N,i|=b;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;b=a,a=b.next,b.next=null,l.lastBaseUpdate=b,l.shared.pending=null}}while(!0);if(g===null&&(c=w),l.baseState=c,l.firstBaseUpdate=d,l.lastBaseUpdate=g,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);jr|=i,e.lanes=i,e.memoizedState=w}}function hc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error(T(191,l));l.call(s)}}}var os={},jt=nr(os),Qn=nr(os),Gn=nr(os);function ur(e){if(e===os)throw Error(T(174));return e}function Qi(e,t){switch(oe(Gn,t),oe(Qn,e),oe(jt,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:So(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=So(t,e)}ae(jt),oe(jt,t)}function en(){ae(jt),ae(Qn),ae(Gn)}function uu(e){ur(Gn.current);var t=ur(jt.current),r=So(t,e.type);t!==r&&(oe(Qn,e),oe(jt,r))}function Gi(e){Qn.current===e&&(ae(jt),ae(Qn))}var me=nr(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function Di(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var Fs=Pt.ReactCurrentDispatcher,lo=Pt.ReactCurrentBatchConfig,br=0,he=null,be=null,Se=null,ul=!1,En=!1,Dn=0,Kh=0;function Ae(){throw Error(T(321))}function Ji(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pt(e[r],t[r]))return!1;return!0}function Zi(e,t,r,s,l,o){if(br=o,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fs.current=e===null||e.memoizedState===null?tf:rf,e=r(s,l),En){o=0;do{if(En=!1,Dn=0,25<=o)throw Error(T(301));o+=1,Se=be=null,t.updateQueue=null,Fs.current=nf,e=r(s,l)}while(En)}if(Fs.current=ml,t=be!==null&&be.next!==null,br=0,Se=be=he=null,ul=!1,t)throw Error(T(300));return e}function Ki(){var e=Dn!==0;return Dn=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?he.memoizedState=Se=e:Se=Se.next=e,Se}function it(){if(be===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Se===null?he.memoizedState:Se.next;if(t!==null)Se=t,be=e;else{if(e===null)throw Error(T(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Se===null?he.memoizedState=Se=e:Se=Se.next=e}return Se}function Jn(e,t){return typeof t=="function"?t(e):t}function oo(e){var t=it(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var s=be,l=s.baseQueue,o=r.pending;if(o!==null){if(l!==null){var i=l.next;l.next=o.next,o.next=i}s.baseQueue=l=o,r.pending=null}if(l!==null){o=l.next,s=s.baseState;var a=i=null,c=null,d=o;do{var g=d.lane;if((br&g)===g)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var w={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=w,i=s):c=c.next=w,he.lanes|=g,jr|=g}d=d.next}while(d!==null&&d!==o);c===null?i=s:c.next=a,pt(s,t.memoizedState)||(He=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){l=e;do o=l.lane,he.lanes|=o,jr|=o,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function io(e){var t=it(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,o=t.memoizedState;if(l!==null){r.pending=null;var i=l=l.next;do o=e(o,i.action),i=i.next;while(i!==l);pt(o,t.memoizedState)||(He=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,s]}function mu(){}function hu(e,t){var r=he,s=it(),l=t(),o=!pt(s.memoizedState,l);if(o&&(s.memoizedState=l,He=!0),s=s.queue,Yi(gu.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,Zn(9,pu.bind(null,r,s,l,t),void 0,null),Ce===null)throw Error(T(349));br&30||fu(r,t,l)}return l}function fu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function pu(e,t,r,s){t.value=r,t.getSnapshot=s,xu(t)&&yu(e)}function gu(e,t,r){return r(function(){xu(t)&&yu(e)})}function xu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pt(e,r)}catch{return!0}}function yu(e){var t=Tt(e,1);t!==null&&ft(t,e,1,-1)}function fc(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:e},t.queue=e,e=e.dispatch=ef.bind(null,he,e),[t.memoizedState,e]}function Zn(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function vu(){return it().memoizedState}function Bs(e,t,r,s){var l=vt();he.flags|=e,l.memoizedState=Zn(1|t,r,void 0,s===void 0?null:s)}function Sl(e,t,r,s){var l=it();s=s===void 0?null:s;var o=void 0;if(be!==null){var i=be.memoizedState;if(o=i.destroy,s!==null&&Ji(s,i.deps)){l.memoizedState=Zn(t,r,o,s);return}}he.flags|=e,l.memoizedState=Zn(1|t,r,o,s)}function pc(e,t){return Bs(8390656,8,e,t)}function Yi(e,t){return Sl(2048,8,e,t)}function wu(e,t){return Sl(4,2,e,t)}function bu(e,t){return Sl(4,4,e,t)}function ju(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nu(e,t,r){return r=r!=null?r.concat([e]):null,Sl(4,4,ju.bind(null,t,e),r)}function Xi(){}function ku(e,t){var r=it();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ji(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Su(e,t){var r=it();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ji(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Cu(e,t,r){return br&21?(pt(r,t)||(r=_d(),he.lanes|=r,jr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=r)}function Yh(e,t){var r=le;le=r!==0&&4>r?r:4,e(!0);var s=lo.transition;lo.transition={};try{e(!1),t()}finally{le=r,lo.transition=s}}function Mu(){return it().memoizedState}function Xh(e,t,r){var s=Yt(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Eu(e))Iu(t,r);else if(r=cu(e,t,r,s),r!==null){var l=Ue();ft(r,e,s,l),Au(r,t,s)}}function ef(e,t,r){var s=Yt(e),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Eu(e))Iu(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(l.hasEagerState=!0,l.eagerState=a,pt(a,i)){var c=t.interleaved;c===null?(l.next=l,Hi(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}r=cu(e,t,l,s),r!==null&&(l=Ue(),ft(r,e,s,l),Au(r,t,s))}}function Eu(e){var t=e.alternate;return e===he||t!==null&&t===he}function Iu(e,t){En=ul=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Au(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ai(e,r)}}var ml={readContext:ot,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},tf={readContext:ot,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:pc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bs(4194308,4,ju.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var r=vt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=vt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Xh.bind(null,he,e),[s.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:fc,useDebugValue:Xi,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=fc(!1),t=e[0];return e=Yh.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=he,l=vt();if(ce){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Ce===null)throw Error(T(349));br&30||fu(s,t,r)}l.memoizedState=r;var o={value:r,getSnapshot:t};return l.queue=o,pc(gu.bind(null,s,o,e),[e]),s.flags|=2048,Zn(9,pu.bind(null,s,o,r,t),void 0,null),r},useId:function(){var e=vt(),t=Ce.identifierPrefix;if(ce){var r=Et,s=Mt;r=(s&~(1<<32-ht(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Kh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rf={readContext:ot,useCallback:ku,useContext:ot,useEffect:Yi,useImperativeHandle:Nu,useInsertionEffect:wu,useLayoutEffect:bu,useMemo:Su,useReducer:oo,useRef:vu,useState:function(){return oo(Jn)},useDebugValue:Xi,useDeferredValue:function(e){var t=it();return Cu(t,be.memoizedState,e)},useTransition:function(){var e=oo(Jn)[0],t=it().memoizedState;return[e,t]},useMutableSource:mu,useSyncExternalStore:hu,useId:Mu,unstable_isNewReconciler:!1},nf={readContext:ot,useCallback:ku,useContext:ot,useEffect:Yi,useImperativeHandle:Nu,useInsertionEffect:wu,useLayoutEffect:bu,useMemo:Su,useReducer:io,useRef:vu,useState:function(){return io(Jn)},useDebugValue:Xi,useDeferredValue:function(e){var t=it();return be===null?t.memoizedState=e:Cu(t,be.memoizedState,e)},useTransition:function(){var e=io(Jn)[0],t=it().memoizedState;return[e,t]},useMutableSource:mu,useSyncExternalStore:hu,useId:Mu,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qo(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cl={isMounted:function(e){return(e=e._reactInternals)?Cr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Ue(),l=Yt(e),o=It(s,l);o.payload=t,r!=null&&(o.callback=r),t=Zt(e,o,l),t!==null&&(ft(t,e,l,s),$s(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Ue(),l=Yt(e),o=It(s,l);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Zt(e,o,l),t!==null&&(ft(t,e,l,s),$s(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ue(),s=Yt(e),l=It(r,s);l.tag=2,t!=null&&(l.callback=t),t=Zt(e,l,s),t!==null&&(ft(t,e,s,r),$s(t,e,s))}};function gc(e,t,r,s,l,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,i):t.prototype&&t.prototype.isPureReactComponent?!Vn(r,s)||!Vn(l,o):!0}function _u(e,t,r){var s=!1,l=tr,o=t.contextType;return typeof o=="object"&&o!==null?o=ot(o):(l=Qe(t)?vr:Le.current,s=t.contextTypes,o=(s=s!=null)?Kr(e,l):tr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function xc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Cl.enqueueReplaceState(t,t.state,null)}function Go(e,t,r,s){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Wi(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=ot(o):(o=Qe(t)?vr:Le.current,l.context=Kr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qo(e,t,o,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Cl.enqueueReplaceState(l,l.state,null),cl(e,r,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function tn(e,t){try{var r="",s=t;do r+=_m(s),s=s.return;while(s);var l=r}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function ao(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Do(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sf=typeof WeakMap=="function"?WeakMap:Map;function Tu(e,t,r){r=It(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){fl||(fl=!0,si=s),Do(e,t)},r}function Lu(e,t,r){r=It(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){Do(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Do(e,t),typeof s!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function yc(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new sf;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),e=vf.bind(null,e,t,r),t.then(e,e))}function vc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wc(e,t,r,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=It(-1,1),t.tag=2,Zt(r,t,1))),r.lanes|=1),e)}var lf=Pt.ReactCurrentOwner,He=!1;function Oe(e,t,r,s){t.child=e===null?au(t,null,r,s):Xr(t,e.child,r,s)}function bc(e,t,r,s,l){r=r.render;var o=t.ref;return Dr(t,l),s=Zi(e,t,r,s,o,l),r=Ki(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(ce&&r&&Ui(t),t.flags|=1,Oe(e,t,s,l),t.child)}function jc(e,t,r,s,l){if(e===null){var o=r.type;return typeof o=="function"&&!ia(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Pu(e,t,o,s,l)):(e=Ws(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Vn,r(i,s)&&e.ref===t.ref)return Lt(e,t,l)}return t.flags|=1,e=Xt(o,s),e.ref=t.ref,e.return=t,t.child=e}function Pu(e,t,r,s,l){if(e!==null){var o=e.memoizedProps;if(Vn(o,s)&&e.ref===t.ref)if(He=!1,t.pendingProps=s=o,(e.lanes&l)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Lt(e,t,l)}return Jo(e,t,r,s,l)}function Ru(e,t,r){var s=t.pendingProps,l=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(qr,De),De|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(qr,De),De|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:r,oe(qr,De),De|=s}else o!==null?(s=o.baseLanes|r,t.memoizedState=null):s=r,oe(qr,De),De|=s;return Oe(e,t,l,r),t.child}function zu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Jo(e,t,r,s,l){var o=Qe(r)?vr:Le.current;return o=Kr(t,o),Dr(t,l),r=Zi(e,t,r,s,o,l),s=Ki(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(ce&&s&&Ui(t),t.flags|=1,Oe(e,t,r,l),t.child)}function Nc(e,t,r,s,l){if(Qe(r)){var o=!0;sl(t)}else o=!1;if(Dr(t,l),t.stateNode===null)Vs(e,t),_u(t,r,s),Go(t,r,s,l),s=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=ot(d):(d=Qe(r)?vr:Le.current,d=Kr(t,d));var g=r.getDerivedStateFromProps,w=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function";w||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==s||c!==d)&&xc(t,i,s,d),Bt=!1;var b=t.memoizedState;i.state=b,cl(t,s,i,l),c=t.memoizedState,a!==s||b!==c||We.current||Bt?(typeof g=="function"&&(Qo(t,r,g,s),c=t.memoizedState),(a=Bt||gc(t,r,a,s,b,c,d))?(w||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=d,s=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,du(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:ct(t.type,a),i.props=d,w=t.pendingProps,b=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=ot(c):(c=Qe(r)?vr:Le.current,c=Kr(t,c));var N=r.getDerivedStateFromProps;(g=typeof N=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==w||b!==c)&&xc(t,i,s,c),Bt=!1,b=t.memoizedState,i.state=b,cl(t,s,i,l);var j=t.memoizedState;a!==w||b!==j||We.current||Bt?(typeof N=="function"&&(Qo(t,r,N,s),j=t.memoizedState),(d=Bt||gc(t,r,d,s,b,j,c)||!1)?(g||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,j,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,j,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),i.props=s,i.state=j,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),s=!1)}return Zo(e,t,r,s,o,l)}function Zo(e,t,r,s,l,o){zu(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&ac(t,r,!1),Lt(e,t,o);s=t.stateNode,lf.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Xr(t,e.child,null,o),t.child=Xr(t,null,a,o)):Oe(e,t,a,o),t.memoizedState=s.state,l&&ac(t,r,!0),t.child}function Ou(e){var t=e.stateNode;t.pendingContext?ic(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ic(e,t.context,!1),Qi(e,t.containerInfo)}function kc(e,t,r,s,l){return Yr(),Fi(l),t.flags|=256,Oe(e,t,r,s),t.child}var Ko={dehydrated:null,treeContext:null,retryLane:0};function Yo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,r){var s=t.pendingProps,l=me.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),oe(me,l&1),e===null)return Ho(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,o?(s=t.mode,o=t.child,i={mode:"hidden",children:i},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Il(i,s,0,null),e=fr(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Yo(r),t.memoizedState=Ko,e):ea(t,i));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return of(e,t,i,s,a,l,r);if(o){o=s.fallback,i=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Xt(l,c),s.subtreeFlags=l.subtreeFlags&14680064),a!==null?o=Xt(a,o):(o=fr(o,i,r,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,i=e.child.memoizedState,i=i===null?Yo(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Ko,s}return o=e.child,e=o.sibling,s=Xt(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function ea(e,t){return t=Il({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Is(e,t,r,s){return s!==null&&Fi(s),Xr(t,e.child,null,r),e=ea(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function of(e,t,r,s,l,o,i){if(r)return t.flags&256?(t.flags&=-257,s=ao(Error(T(422))),Is(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,l=t.mode,s=Il({mode:"visible",children:s.children},l,0,null),o=fr(o,l,i,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&Xr(t,e.child,null,i),t.child.memoizedState=Yo(i),t.memoizedState=Ko,o);if(!(t.mode&1))return Is(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var a=s.dgst;return s=a,o=Error(T(419)),s=ao(o,s,void 0),Is(e,t,i,s)}if(a=(i&e.childLanes)!==0,He||a){if(s=Ce,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Tt(e,l),ft(s,e,l,-1))}return oa(),s=ao(Error(T(421))),Is(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=wf.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,Je=Jt(l.nextSibling),Ze=t,ce=!0,ut=null,e!==null&&(rt[nt++]=Mt,rt[nt++]=Et,rt[nt++]=wr,Mt=e.id,Et=e.overflow,wr=t),t=ea(t,s.children),t.flags|=4096,t)}function Sc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Wo(e.return,t,r)}function co(e,t,r,s,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=r,o.tailMode=l)}function $u(e,t,r){var s=t.pendingProps,l=s.revealOrder,o=s.tail;if(Oe(e,t,s.children,r),s=me.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sc(e,r,t);else if(e.tag===19)Sc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(oe(me,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&dl(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),co(t,!1,l,r,o);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&dl(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}co(t,!0,r,null,o);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=Xt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function af(e,t,r){switch(t.tag){case 3:Ou(t),Yr();break;case 5:uu(t);break;case 1:Qe(t.type)&&sl(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;oe(il,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(oe(me,me.current&1),t.flags|=128,null):r&t.child.childLanes?Uu(e,t,r):(oe(me,me.current&1),e=Lt(e,t,r),e!==null?e.sibling:null);oe(me,me.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return $u(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),oe(me,me.current),s)break;return null;case 22:case 23:return t.lanes=0,Ru(e,t,r)}return Lt(e,t,r)}var Fu,Xo,Bu,Vu;Fu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xo=function(){};Bu=function(e,t,r,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,ur(jt.current);var o=null;switch(r){case"input":l=bo(e,l),s=bo(e,s),o=[];break;case"select":l=fe({},l,{value:void 0}),s=fe({},s,{value:void 0}),o=[];break;case"textarea":l=ko(e,l),s=ko(e,s),o=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=rl)}Co(r,s);var i;r=null;for(d in l)if(!s.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var a=l[d];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rn.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in s){var c=s[d];if(a=l!=null?l[d]:void 0,s.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ie("scroll",e),o||a===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};Vu=function(e,t,r,s){r!==s&&(t.flags|=4)};function xn(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function cf(e,t,r){var s=t.pendingProps;switch($i(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Qe(t.type)&&nl(),_e(t),null;case 3:return s=t.stateNode,en(),ae(We),ae(Le),Di(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ms(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(ii(ut),ut=null))),Xo(e,t),_e(t),null;case 5:Gi(t);var l=ur(Gn.current);if(r=t.type,e!==null&&t.stateNode!=null)Bu(e,t,r,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(T(166));return _e(t),null}if(e=ur(jt.current),Ms(t)){s=t.stateNode,r=t.type;var o=t.memoizedProps;switch(s[wt]=t,s[Wn]=o,e=(t.mode&1)!==0,r){case"dialog":ie("cancel",s),ie("close",s);break;case"iframe":case"object":case"embed":ie("load",s);break;case"video":case"audio":for(l=0;l<jn.length;l++)ie(jn[l],s);break;case"source":ie("error",s);break;case"img":case"image":case"link":ie("error",s),ie("load",s);break;case"details":ie("toggle",s);break;case"input":Pa(s,o),ie("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},ie("invalid",s);break;case"textarea":za(s,o),ie("invalid",s)}Co(r,o),l=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?s.textContent!==a&&(o.suppressHydrationWarning!==!0&&Cs(s.textContent,a,e),l=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Cs(s.textContent,a,e),l=["children",""+a]):Rn.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ie("scroll",s)}switch(r){case"input":ys(s),Ra(s,o,!0);break;case"textarea":ys(s),Oa(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=rl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[wt]=t,e[Wn]=s,Fu(e,t,!1,!1),t.stateNode=e;e:{switch(i=Mo(r,s),r){case"dialog":ie("cancel",e),ie("close",e),l=s;break;case"iframe":case"object":case"embed":ie("load",e),l=s;break;case"video":case"audio":for(l=0;l<jn.length;l++)ie(jn[l],e);l=s;break;case"source":ie("error",e),l=s;break;case"img":case"image":case"link":ie("error",e),ie("load",e),l=s;break;case"details":ie("toggle",e),l=s;break;case"input":Pa(e,s),l=bo(e,s),ie("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=fe({},s,{value:void 0}),ie("invalid",e);break;case"textarea":za(e,s),l=ko(e,s),ie("invalid",e);break;default:l=s}Co(r,l),a=l;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?vd(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xd(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&zn(e,c):typeof c=="number"&&zn(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rn.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ie("scroll",e):c!=null&&ki(e,o,c,i))}switch(r){case"input":ys(e),Ra(e,s,!1);break;case"textarea":ys(e),Oa(e);break;case"option":s.value!=null&&e.setAttribute("value",""+er(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?Hr(e,!!s.multiple,o,!1):s.defaultValue!=null&&Hr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=rl)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)Vu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(T(166));if(r=ur(Gn.current),ur(jt.current),Ms(t)){if(s=t.stateNode,r=t.memoizedProps,s[wt]=t,(o=s.nodeValue!==r)&&(e=Ze,e!==null))switch(e.tag){case 3:Cs(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cs(s.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[wt]=t,t.stateNode=s}return _e(t),null;case 13:if(ae(me),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Je!==null&&t.mode&1&&!(t.flags&128))ou(),Yr(),t.flags|=98560,o=!1;else if(o=Ms(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(T(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(T(317));o[wt]=t}else Yr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),o=!1}else ut!==null&&(ii(ut),ut=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?je===0&&(je=3):oa())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return en(),Xo(e,t),e===null&&qn(t.stateNode.containerInfo),_e(t),null;case 10:return qi(t.type._context),_e(t),null;case 17:return Qe(t.type)&&nl(),_e(t),null;case 19:if(ae(me),o=t.memoizedState,o===null)return _e(t),null;if(s=(t.flags&128)!==0,i=o.rendering,i===null)if(s)xn(o,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=dl(e),i!==null){for(t.flags|=128,xn(o,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)o=r,e=s,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return oe(me,me.current&1|2),t.child}e=e.sibling}o.tail!==null&&ye()>rn&&(t.flags|=128,s=!0,xn(o,!1),t.lanes=4194304)}else{if(!s)if(e=dl(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ce)return _e(t),null}else 2*ye()-o.renderingStartTime>rn&&r!==1073741824&&(t.flags|=128,s=!0,xn(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ye(),t.sibling=null,r=me.current,oe(me,s?r&1|2:r&1),t):(_e(t),null);case 22:case 23:return la(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?De&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function df(e,t){switch($i(t),t.tag){case 1:return Qe(t.type)&&nl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return en(),ae(We),ae(Le),Di(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gi(t),null;case 13:if(ae(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(me),null;case 4:return en(),null;case 10:return qi(t.type._context),null;case 22:case 23:return la(),null;case 24:return null;default:return null}}var As=!1,Te=!1,uf=typeof WeakSet=="function"?WeakSet:Set,B=null;function Vr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ge(e,t,s)}else r.current=null}function ei(e,t,r){try{r()}catch(s){ge(e,t,s)}}var Cc=!1;function mf(e,t){if(Oo=Xs,e=Gd(),Oi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,d=0,g=0,w=e,b=null;t:for(;;){for(var N;w!==r||l!==0&&w.nodeType!==3||(a=i+l),w!==o||s!==0&&w.nodeType!==3||(c=i+s),w.nodeType===3&&(i+=w.nodeValue.length),(N=w.firstChild)!==null;)b=w,w=N;for(;;){if(w===e)break t;if(b===r&&++d===l&&(a=i),b===o&&++g===s&&(c=i),(N=w.nextSibling)!==null)break;w=b,b=w.parentNode}w=N}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uo={focusedElem:e,selectionRange:r},Xs=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var k=j.memoizedProps,C=j.memoizedState,m=t.stateNode,u=m.getSnapshotBeforeUpdate(t.elementType===t.type?k:ct(t.type,k),C);m.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(M){ge(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return j=Cc,Cc=!1,j}function In(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&ei(t,r,o)}l=l.next}while(l!==s)}}function Ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function ti(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qu(e){var t=e.alternate;t!==null&&(e.alternate=null,qu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[Wn],delete t[Bo],delete t[Gh],delete t[Dh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hu(e){return e.tag===5||e.tag===3||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ri(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rl));else if(s!==4&&(e=e.child,e!==null))for(ri(e,t,r),e=e.sibling;e!==null;)ri(e,t,r),e=e.sibling}function ni(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ni(e,t,r),e=e.sibling;e!==null;)ni(e,t,r),e=e.sibling}var Me=null,dt=!1;function $t(e,t,r){for(r=r.child;r!==null;)Wu(e,t,r),r=r.sibling}function Wu(e,t,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(vl,r)}catch{}switch(r.tag){case 5:Te||Vr(r,t);case 6:var s=Me,l=dt;Me=null,$t(e,t,r),Me=s,dt=l,Me!==null&&(dt?(e=Me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Me.removeChild(r.stateNode));break;case 18:Me!==null&&(dt?(e=Me,r=r.stateNode,e.nodeType===8?ro(e.parentNode,r):e.nodeType===1&&ro(e,r),Fn(e)):ro(Me,r.stateNode));break;case 4:s=Me,l=dt,Me=r.stateNode.containerInfo,dt=!0,$t(e,t,r),Me=s,dt=l;break;case 0:case 11:case 14:case 15:if(!Te&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var o=l,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ei(r,t,i),l=l.next}while(l!==s)}$t(e,t,r);break;case 1:if(!Te&&(Vr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(a){ge(r,t,a)}$t(e,t,r);break;case 21:$t(e,t,r);break;case 22:r.mode&1?(Te=(s=Te)||r.memoizedState!==null,$t(e,t,r),Te=s):$t(e,t,r);break;default:$t(e,t,r)}}function Ec(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uf),t.forEach(function(s){var l=bf.bind(null,e,s);r.has(s)||(r.add(s),s.then(l,l))})}}function at(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Me=a.stateNode,dt=!1;break e;case 3:Me=a.stateNode.containerInfo,dt=!0;break e;case 4:Me=a.stateNode.containerInfo,dt=!0;break e}a=a.return}if(Me===null)throw Error(T(160));Wu(o,i,l),Me=null,dt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(d){ge(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qu(t,e),t=t.sibling}function Qu(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),yt(e),s&4){try{In(3,e,e.return),Ml(3,e)}catch(k){ge(e,e.return,k)}try{In(5,e,e.return)}catch(k){ge(e,e.return,k)}}break;case 1:at(t,e),yt(e),s&512&&r!==null&&Vr(r,r.return);break;case 5:if(at(t,e),yt(e),s&512&&r!==null&&Vr(r,r.return),e.flags&32){var l=e.stateNode;try{zn(l,"")}catch(k){ge(e,e.return,k)}}if(s&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&fd(l,o),Mo(a,i);var d=Mo(a,o);for(i=0;i<c.length;i+=2){var g=c[i],w=c[i+1];g==="style"?vd(l,w):g==="dangerouslySetInnerHTML"?xd(l,w):g==="children"?zn(l,w):ki(l,g,w,d)}switch(a){case"input":jo(l,o);break;case"textarea":pd(l,o);break;case"select":var b=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var N=o.value;N!=null?Hr(l,!!o.multiple,N,!1):b!==!!o.multiple&&(o.defaultValue!=null?Hr(l,!!o.multiple,o.defaultValue,!0):Hr(l,!!o.multiple,o.multiple?[]:"",!1))}l[Wn]=o}catch(k){ge(e,e.return,k)}}break;case 6:if(at(t,e),yt(e),s&4){if(e.stateNode===null)throw Error(T(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(k){ge(e,e.return,k)}}break;case 3:if(at(t,e),yt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Fn(t.containerInfo)}catch(k){ge(e,e.return,k)}break;case 4:at(t,e),yt(e);break;case 13:at(t,e),yt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(na=ye())),s&4&&Ec(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(Te=(d=Te)||g,at(t,e),Te=d):at(t,e),yt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!g&&e.mode&1)for(B=e,g=e.child;g!==null;){for(w=B=g;B!==null;){switch(b=B,N=b.child,b.tag){case 0:case 11:case 14:case 15:In(4,b,b.return);break;case 1:Vr(b,b.return);var j=b.stateNode;if(typeof j.componentWillUnmount=="function"){s=b,r=b.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(k){ge(s,r,k)}}break;case 5:Vr(b,b.return);break;case 22:if(b.memoizedState!==null){Ac(w);continue}}N!==null?(N.return=b,B=N):Ac(w)}g=g.sibling}e:for(g=null,w=e;;){if(w.tag===5){if(g===null){g=w;try{l=w.stateNode,d?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=w.stateNode,c=w.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=yd("display",i))}catch(k){ge(e,e.return,k)}}}else if(w.tag===6){if(g===null)try{w.stateNode.nodeValue=d?"":w.memoizedProps}catch(k){ge(e,e.return,k)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;g===w&&(g=null),w=w.return}g===w&&(g=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:at(t,e),yt(e),s&4&&Ec(e);break;case 21:break;default:at(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Hu(r)){var s=r;break e}r=r.return}throw Error(T(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(zn(l,""),s.flags&=-33);var o=Mc(e);ni(e,o,l);break;case 3:case 4:var i=s.stateNode.containerInfo,a=Mc(e);ri(e,a,i);break;default:throw Error(T(161))}}catch(c){ge(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hf(e,t,r){B=e,Gu(e)}function Gu(e,t,r){for(var s=(e.mode&1)!==0;B!==null;){var l=B,o=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||As;if(!i){var a=l.alternate,c=a!==null&&a.memoizedState!==null||Te;a=As;var d=Te;if(As=i,(Te=c)&&!d)for(B=l;B!==null;)i=B,c=i.child,i.tag===22&&i.memoizedState!==null?_c(l):c!==null?(c.return=i,B=c):_c(l);for(;o!==null;)B=o,Gu(o),o=o.sibling;B=l,As=a,Te=d}Ic(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,B=o):Ic(e)}}function Ic(e){for(;B!==null;){var t=B;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||Ml(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Te)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:ct(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&hc(t,o,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}hc(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var w=g.dehydrated;w!==null&&Fn(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Te||t.flags&512&&ti(t)}catch(b){ge(t,t.return,b)}}if(t===e){B=null;break}if(r=t.sibling,r!==null){r.return=t.return,B=r;break}B=t.return}}function Ac(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var r=t.sibling;if(r!==null){r.return=t.return,B=r;break}B=t.return}}function _c(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ml(4,t)}catch(c){ge(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){ge(t,l,c)}}var o=t.return;try{ti(t)}catch(c){ge(t,o,c)}break;case 5:var i=t.return;try{ti(t)}catch(c){ge(t,i,c)}}}catch(c){ge(t,t.return,c)}if(t===e){B=null;break}var a=t.sibling;if(a!==null){a.return=t.return,B=a;break}B=t.return}}var ff=Math.ceil,hl=Pt.ReactCurrentDispatcher,ta=Pt.ReactCurrentOwner,lt=Pt.ReactCurrentBatchConfig,ne=0,Ce=null,ve=null,Ee=0,De=0,qr=nr(0),je=0,Kn=null,jr=0,El=0,ra=0,An=null,qe=null,na=0,rn=1/0,St=null,fl=!1,si=null,Kt=null,_s=!1,Wt=null,pl=0,_n=0,li=null,qs=-1,Hs=0;function Ue(){return ne&6?ye():qs!==-1?qs:qs=ye()}function Yt(e){return e.mode&1?ne&2&&Ee!==0?Ee&-Ee:Zh.transition!==null?(Hs===0&&(Hs=_d()),Hs):(e=le,e!==0||(e=window.event,e=e===void 0?16:Ud(e.type)),e):1}function ft(e,t,r,s){if(50<_n)throw _n=0,li=null,Error(T(185));ns(e,r,s),(!(ne&2)||e!==Ce)&&(e===Ce&&(!(ne&2)&&(El|=r),je===4&&qt(e,Ee)),Ge(e,s),r===1&&ne===0&&!(t.mode&1)&&(rn=ye()+500,kl&&sr()))}function Ge(e,t){var r=e.callbackNode;Zm(e,t);var s=Ys(e,e===Ce?Ee:0);if(s===0)r!==null&&Fa(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Fa(r),t===1)e.tag===0?Jh(Tc.bind(null,e)):nu(Tc.bind(null,e)),Wh(function(){!(ne&6)&&sr()}),r=null;else{switch(Td(s)){case 1:r=Ii;break;case 4:r=Id;break;case 16:r=Ks;break;case 536870912:r=Ad;break;default:r=Ks}r=t0(r,Du.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Du(e,t){if(qs=-1,Hs=0,ne&6)throw Error(T(327));var r=e.callbackNode;if(Jr()&&e.callbackNode!==r)return null;var s=Ys(e,e===Ce?Ee:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=gl(e,s);else{t=s;var l=ne;ne|=2;var o=Zu();(Ce!==e||Ee!==t)&&(St=null,rn=ye()+500,hr(e,t));do try{xf();break}catch(a){Ju(e,a)}while(!0);Vi(),hl.current=o,ne=l,ve!==null?t=0:(Ce=null,Ee=0,t=je)}if(t!==0){if(t===2&&(l=To(e),l!==0&&(s=l,t=oi(e,l))),t===1)throw r=Kn,hr(e,0),qt(e,s),Ge(e,ye()),r;if(t===6)qt(e,s);else{if(l=e.current.alternate,!(s&30)&&!pf(l)&&(t=gl(e,s),t===2&&(o=To(e),o!==0&&(s=o,t=oi(e,o))),t===1))throw r=Kn,hr(e,0),qt(e,s),Ge(e,ye()),r;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(T(345));case 2:ar(e,qe,St);break;case 3:if(qt(e,s),(s&130023424)===s&&(t=na+500-ye(),10<t)){if(Ys(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Ue(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Fo(ar.bind(null,e,qe,St),t);break}ar(e,qe,St);break;case 4:if(qt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-ht(s);o=1<<i,i=t[i],i>l&&(l=i),s&=~o}if(s=l,s=ye()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ff(s/1960))-s,10<s){e.timeoutHandle=Fo(ar.bind(null,e,qe,St),s);break}ar(e,qe,St);break;case 5:ar(e,qe,St);break;default:throw Error(T(329))}}}return Ge(e,ye()),e.callbackNode===r?Du.bind(null,e):null}function oi(e,t){var r=An;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=gl(e,t),e!==2&&(t=qe,qe=r,t!==null&&ii(t)),e}function ii(e){qe===null?qe=e:qe.push.apply(qe,e)}function pf(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],o=l.getSnapshot;l=l.value;try{if(!pt(o(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~ra,t&=~El,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ht(t),s=1<<r;e[r]=-1,t&=~s}}function Tc(e){if(ne&6)throw Error(T(327));Jr();var t=Ys(e,0);if(!(t&1))return Ge(e,ye()),null;var r=gl(e,t);if(e.tag!==0&&r===2){var s=To(e);s!==0&&(t=s,r=oi(e,s))}if(r===1)throw r=Kn,hr(e,0),qt(e,t),Ge(e,ye()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e,qe,St),Ge(e,ye()),null}function sa(e,t){var r=ne;ne|=1;try{return e(t)}finally{ne=r,ne===0&&(rn=ye()+500,kl&&sr())}}function Nr(e){Wt!==null&&Wt.tag===0&&!(ne&6)&&Jr();var t=ne;ne|=1;var r=lt.transition,s=le;try{if(lt.transition=null,le=1,e)return e()}finally{le=s,lt.transition=r,ne=t,!(ne&6)&&sr()}}function la(){De=qr.current,ae(qr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Hh(r)),ve!==null)for(r=ve.return;r!==null;){var s=r;switch($i(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&nl();break;case 3:en(),ae(We),ae(Le),Di();break;case 5:Gi(s);break;case 4:en();break;case 13:ae(me);break;case 19:ae(me);break;case 10:qi(s.type._context);break;case 22:case 23:la()}r=r.return}if(Ce=e,ve=e=Xt(e.current,null),Ee=De=t,je=0,Kn=null,ra=El=jr=0,qe=An=null,dr!==null){for(t=0;t<dr.length;t++)if(r=dr[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,o=r.pending;if(o!==null){var i=o.next;o.next=l,s.next=i}r.pending=s}dr=null}return e}function Ju(e,t){do{var r=ve;try{if(Vi(),Fs.current=ml,ul){for(var s=he.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ul=!1}if(br=0,Se=be=he=null,En=!1,Dn=0,ta.current=null,r===null||r.return===null){je=1,Kn=t,ve=null;break}e:{var o=e,i=r.return,a=r,c=t;if(t=Ee,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,g=a,w=g.tag;if(!(g.mode&1)&&(w===0||w===11||w===15)){var b=g.alternate;b?(g.updateQueue=b.updateQueue,g.memoizedState=b.memoizedState,g.lanes=b.lanes):(g.updateQueue=null,g.memoizedState=null)}var N=vc(i);if(N!==null){N.flags&=-257,wc(N,i,a,o,t),N.mode&1&&yc(o,d,t),t=N,c=d;var j=t.updateQueue;if(j===null){var k=new Set;k.add(c),t.updateQueue=k}else j.add(c);break e}else{if(!(t&1)){yc(o,d,t),oa();break e}c=Error(T(426))}}else if(ce&&a.mode&1){var C=vc(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),wc(C,i,a,o,t),Fi(tn(c,a));break e}}o=c=tn(c,a),je!==4&&(je=2),An===null?An=[o]:An.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Tu(o,c,t);mc(o,m);break e;case 1:a=c;var u=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof u.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Kt===null||!Kt.has(p)))){o.flags|=65536,t&=-t,o.lanes|=t;var M=Lu(o,a,t);mc(o,M);break e}}o=o.return}while(o!==null)}Yu(r)}catch(L){t=L,ve===r&&r!==null&&(ve=r=r.return);continue}break}while(!0)}function Zu(){var e=hl.current;return hl.current=ml,e===null?ml:e}function oa(){(je===0||je===3||je===2)&&(je=4),Ce===null||!(jr&268435455)&&!(El&268435455)||qt(Ce,Ee)}function gl(e,t){var r=ne;ne|=2;var s=Zu();(Ce!==e||Ee!==t)&&(St=null,hr(e,t));do try{gf();break}catch(l){Ju(e,l)}while(!0);if(Vi(),ne=r,hl.current=s,ve!==null)throw Error(T(261));return Ce=null,Ee=0,je}function gf(){for(;ve!==null;)Ku(ve)}function xf(){for(;ve!==null&&!Bm();)Ku(ve)}function Ku(e){var t=e0(e.alternate,e,De);e.memoizedProps=e.pendingProps,t===null?Yu(e):ve=t,ta.current=null}function Yu(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=df(r,t),r!==null){r.flags&=32767,ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,ve=null;return}}else if(r=cf(r,t,De),r!==null){ve=r;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);je===0&&(je=5)}function ar(e,t,r){var s=le,l=lt.transition;try{lt.transition=null,le=1,yf(e,t,r,s)}finally{lt.transition=l,le=s}return null}function yf(e,t,r,s){do Jr();while(Wt!==null);if(ne&6)throw Error(T(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Km(e,o),e===Ce&&(ve=Ce=null,Ee=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_s||(_s=!0,t0(Ks,function(){return Jr(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=lt.transition,lt.transition=null;var i=le;le=1;var a=ne;ne|=4,ta.current=null,mf(e,r),Qu(r,e),Oh(Uo),Xs=!!Oo,Uo=Oo=null,e.current=r,hf(r),Vm(),ne=a,le=i,lt.transition=o}else e.current=r;if(_s&&(_s=!1,Wt=e,pl=l),o=e.pendingLanes,o===0&&(Kt=null),Wm(r.stateNode),Ge(e,ye()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(fl)throw fl=!1,e=si,si=null,e;return pl&1&&e.tag!==0&&Jr(),o=e.pendingLanes,o&1?e===li?_n++:(_n=0,li=e):_n=0,sr(),null}function Jr(){if(Wt!==null){var e=Td(pl),t=lt.transition,r=le;try{if(lt.transition=null,le=16>e?16:e,Wt===null)var s=!1;else{if(e=Wt,Wt=null,pl=0,ne&6)throw Error(T(331));var l=ne;for(ne|=4,B=e.current;B!==null;){var o=B,i=o.child;if(B.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(B=d;B!==null;){var g=B;switch(g.tag){case 0:case 11:case 15:In(8,g,o)}var w=g.child;if(w!==null)w.return=g,B=w;else for(;B!==null;){g=B;var b=g.sibling,N=g.return;if(qu(g),g===d){B=null;break}if(b!==null){b.return=N,B=b;break}B=N}}}var j=o.alternate;if(j!==null){var k=j.child;if(k!==null){j.child=null;do{var C=k.sibling;k.sibling=null,k=C}while(k!==null)}}B=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,B=i;else e:for(;B!==null;){if(o=B,o.flags&2048)switch(o.tag){case 0:case 11:case 15:In(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,B=m;break e}B=o.return}}var u=e.current;for(B=u;B!==null;){i=B;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,B=p;else e:for(i=u;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ml(9,a)}}catch(L){ge(a,a.return,L)}if(a===i){B=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,B=M;break e}B=a.return}}if(ne=l,sr(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(vl,e)}catch{}s=!0}return s}finally{le=r,lt.transition=t}}return!1}function Lc(e,t,r){t=tn(r,t),t=Tu(e,t,1),e=Zt(e,t,1),t=Ue(),e!==null&&(ns(e,1,t),Ge(e,t))}function ge(e,t,r){if(e.tag===3)Lc(e,e,r);else for(;t!==null;){if(t.tag===3){Lc(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Kt===null||!Kt.has(s))){e=tn(r,e),e=Lu(t,e,1),t=Zt(t,e,1),e=Ue(),t!==null&&(ns(t,1,e),Ge(t,e));break}}t=t.return}}function vf(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&r,Ce===e&&(Ee&r)===r&&(je===4||je===3&&(Ee&130023424)===Ee&&500>ye()-na?hr(e,0):ra|=r),Ge(e,t)}function Xu(e,t){t===0&&(e.mode&1?(t=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):t=1);var r=Ue();e=Tt(e,t),e!==null&&(ns(e,t,r),Ge(e,r))}function wf(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Xu(e,r)}function bf(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(T(314))}s!==null&&s.delete(t),Xu(e,r)}var e0;e0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)He=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return He=!1,af(e,t,r);He=!!(e.flags&131072)}else He=!1,ce&&t.flags&1048576&&su(t,ol,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Vs(e,t),e=t.pendingProps;var l=Kr(t,Le.current);Dr(t,r),l=Zi(null,t,s,e,l,r);var o=Ki();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(s)?(o=!0,sl(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Wi(t),l.updater=Cl,t.stateNode=l,l._reactInternals=t,Go(t,s,e,r),t=Zo(null,t,s,!0,o,r)):(t.tag=0,ce&&o&&Ui(t),Oe(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Nf(s),e=ct(s,e),l){case 0:t=Jo(null,t,s,e,r);break e;case 1:t=Nc(null,t,s,e,r);break e;case 11:t=bc(null,t,s,e,r);break e;case 14:t=jc(null,t,s,ct(s.type,e),r);break e}throw Error(T(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ct(s,l),Jo(e,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ct(s,l),Nc(e,t,s,l,r);case 3:e:{if(Ou(t),e===null)throw Error(T(387));s=t.pendingProps,o=t.memoizedState,l=o.element,du(e,t),cl(t,s,null,r);var i=t.memoizedState;if(s=i.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=tn(Error(T(423)),t),t=kc(e,t,s,r,l);break e}else if(s!==l){l=tn(Error(T(424)),t),t=kc(e,t,s,r,l);break e}else for(Je=Jt(t.stateNode.containerInfo.firstChild),Ze=t,ce=!0,ut=null,r=au(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yr(),s===l){t=Lt(e,t,r);break e}Oe(e,t,s,r)}t=t.child}return t;case 5:return uu(t),e===null&&Ho(t),s=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,i=l.children,$o(s,l)?i=null:o!==null&&$o(s,o)&&(t.flags|=32),zu(e,t),Oe(e,t,i,r),t.child;case 6:return e===null&&Ho(t),null;case 13:return Uu(e,t,r);case 4:return Qi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Xr(t,null,s,r):Oe(e,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ct(s,l),bc(e,t,s,l,r);case 7:return Oe(e,t,t.pendingProps,r),t.child;case 8:return Oe(e,t,t.pendingProps.children,r),t.child;case 12:return Oe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,o=t.memoizedProps,i=l.value,oe(il,s._currentValue),s._currentValue=i,o!==null)if(pt(o.value,i)){if(o.children===l.children&&!We.current){t=Lt(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=It(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?c.next=c:(c.next=g.next,g.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Wo(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(T(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Wo(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Oe(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Dr(t,r),l=ot(l),s=s(l),t.flags|=1,Oe(e,t,s,r),t.child;case 14:return s=t.type,l=ct(s,t.pendingProps),l=ct(s.type,l),jc(e,t,s,l,r);case 15:return Pu(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:ct(s,l),Vs(e,t),t.tag=1,Qe(s)?(e=!0,sl(t)):e=!1,Dr(t,r),_u(t,s,l),Go(t,s,l,r),Zo(null,t,s,!0,e,r);case 19:return $u(e,t,r);case 22:return Ru(e,t,r)}throw Error(T(156,t.tag))};function t0(e,t){return Ed(e,t)}function jf(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,r,s){return new jf(e,t,r,s)}function ia(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nf(e){if(typeof e=="function")return ia(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ci)return 11;if(e===Mi)return 14}return 2}function Xt(e,t){var r=e.alternate;return r===null?(r=st(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ws(e,t,r,s,l,o){var i=2;if(s=e,typeof e=="function")ia(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Lr:return fr(r.children,l,o,t);case Si:i=8,l|=8;break;case xo:return e=st(12,r,t,l|2),e.elementType=xo,e.lanes=o,e;case yo:return e=st(13,r,t,l),e.elementType=yo,e.lanes=o,e;case vo:return e=st(19,r,t,l),e.elementType=vo,e.lanes=o,e;case ud:return Il(r,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cd:i=10;break e;case dd:i=9;break e;case Ci:i=11;break e;case Mi:i=14;break e;case Ft:i=16,s=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=st(i,r,t,l),t.elementType=e,t.type=s,t.lanes=o,t}function fr(e,t,r,s){return e=st(7,e,s,t),e.lanes=r,e}function Il(e,t,r,s){return e=st(22,e,s,t),e.elementType=ud,e.lanes=r,e.stateNode={isHidden:!1},e}function uo(e,t,r){return e=st(6,e,null,t),e.lanes=r,e}function mo(e,t,r){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kf(e,t,r,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function aa(e,t,r,s,l,o,i,a,c){return e=new kf(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=st(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wi(o),e}function Sf(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function r0(e){if(!e)return tr;e=e._reactInternals;e:{if(Cr(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(Qe(r))return ru(e,r,t)}return t}function n0(e,t,r,s,l,o,i,a,c){return e=aa(r,s,!0,e,l,o,i,a,c),e.context=r0(null),r=e.current,s=Ue(),l=Yt(r),o=It(s,l),o.callback=t??null,Zt(r,o,l),e.current.lanes=l,ns(e,l,s),Ge(e,s),e}function Al(e,t,r,s){var l=t.current,o=Ue(),i=Yt(l);return r=r0(r),t.context===null?t.context=r:t.pendingContext=r,t=It(o,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Zt(l,t,i),e!==null&&(ft(e,l,i,o),$s(e,l,i)),i}function xl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ca(e,t){Pc(e,t),(e=e.alternate)&&Pc(e,t)}function Cf(){return null}var s0=typeof reportError=="function"?reportError:function(e){console.error(e)};function da(e){this._internalRoot=e}_l.prototype.render=da.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Al(e,t,null,null)};_l.prototype.unmount=da.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){Al(null,e,null,null)}),t[_t]=null}};function _l(e){this._internalRoot=e}_l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vt.length&&t!==0&&t<Vt[r].priority;r++);Vt.splice(r,0,e),r===0&&Od(e)}};function ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rc(){}function Mf(e,t,r,s,l){if(l){if(typeof s=="function"){var o=s;s=function(){var d=xl(i);o.call(d)}}var i=n0(t,s,e,0,null,!1,!1,"",Rc);return e._reactRootContainer=i,e[_t]=i.current,qn(e.nodeType===8?e.parentNode:e),Nr(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var a=s;s=function(){var d=xl(c);a.call(d)}}var c=aa(e,0,!1,null,null,!1,!1,"",Rc);return e._reactRootContainer=c,e[_t]=c.current,qn(e.nodeType===8?e.parentNode:e),Nr(function(){Al(t,c,r,s)}),c}function Ll(e,t,r,s,l){var o=r._reactRootContainer;if(o){var i=o;if(typeof l=="function"){var a=l;l=function(){var c=xl(i);a.call(c)}}Al(t,i,e,l)}else i=Mf(r,t,e,l,s);return xl(i)}Ld=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bn(t.pendingLanes);r!==0&&(Ai(t,r|1),Ge(t,ye()),!(ne&6)&&(rn=ye()+500,sr()))}break;case 13:Nr(function(){var s=Tt(e,1);if(s!==null){var l=Ue();ft(s,e,1,l)}}),ca(e,1)}};_i=function(e){if(e.tag===13){var t=Tt(e,134217728);if(t!==null){var r=Ue();ft(t,e,134217728,r)}ca(e,134217728)}};Pd=function(e){if(e.tag===13){var t=Yt(e),r=Tt(e,t);if(r!==null){var s=Ue();ft(r,e,t,s)}ca(e,t)}};Rd=function(){return le};zd=function(e,t){var r=le;try{return le=e,t()}finally{le=r}};Io=function(e,t,r){switch(t){case"input":if(jo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=Nl(s);if(!l)throw Error(T(90));hd(s),jo(s,l)}}}break;case"textarea":pd(e,r);break;case"select":t=r.value,t!=null&&Hr(e,!!r.multiple,t,!1)}};jd=sa;Nd=Nr;var Ef={usingClientEntryPoint:!1,Events:[ls,Or,Nl,wd,bd,sa]},yn={findFiberByHostInstance:cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},If={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cd(e),e===null?null:e.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||Cf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{vl=Ts.inject(If),bt=Ts}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ef;Ye.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ua(t))throw Error(T(200));return Sf(e,t,null,r)};Ye.createRoot=function(e,t){if(!ua(e))throw Error(T(299));var r=!1,s="",l=s0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=aa(e,1,!1,null,null,r,!1,s,l),e[_t]=t.current,qn(e.nodeType===8?e.parentNode:e),new da(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Cd(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return Nr(e)};Ye.hydrate=function(e,t,r){if(!Tl(t))throw Error(T(200));return Ll(null,e,t,!0,r)};Ye.hydrateRoot=function(e,t,r){if(!ua(e))throw Error(T(405));var s=r!=null&&r.hydratedSources||null,l=!1,o="",i=s0;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=n0(t,null,e,1,r??null,l,!1,o,i),e[_t]=t.current,qn(e),s)for(e=0;e<s.length;e++)r=s[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new _l(t)};Ye.render=function(e,t,r){if(!Tl(t))throw Error(T(200));return Ll(null,e,t,!1,r)};Ye.unmountComponentAtNode=function(e){if(!Tl(e))throw Error(T(40));return e._reactRootContainer?(Nr(function(){Ll(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};Ye.unstable_batchedUpdates=sa;Ye.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Tl(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Ll(e,t,r,!1,s)};Ye.version="18.3.1-next-f1338f8080-20240426";function l0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l0)}catch(e){console.error(e)}}l0(),ld.exports=Ye;var Af=ld.exports,o0,zc=Af;o0=zc.createRoot,zc.hydrateRoot;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i0=(...e)=>e.filter((t,r,s)=>!!t&&s.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:i,...a},c)=>y.createElement("svg",{ref:c,...Tf,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:i0("lucide",l),...a},[...i.map(([d,g])=>y.createElement(d,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=(e,t)=>{const r=y.forwardRef(({className:s,...l},o)=>y.createElement(Lf,{ref:o,iconNode:t,className:i0(`lucide-${_f(e)}`,s),...l}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=F("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=F("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=F("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=F("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=F("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=F("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=F("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=F("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=F("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=F("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=F("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=F("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=F("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=F("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=F("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=F("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=F("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=F("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=F("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=F("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=F("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=F("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=F("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=F("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=F("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=F("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=F("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=F("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=F("MessageSquareOff",[["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M3.6 3.6c-.4.3-.6.8-.6 1.4v16l4-4h10",key:"pwpm4a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=F("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=F("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=F("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=F("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=F("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=F("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=F("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=F("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=F("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=F("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=F("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=F("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=F("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=F("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=F("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=F("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=F("Volume1",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=F("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=F("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=F("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=F("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=F("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),fo={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Xf=(fo==null?void 0:fo.VITE_API_URL)||"";class ep{constructor(){this.token=null,this.token=localStorage.getItem("token")}async request(t,r={}){const s=`${Xf}${t}`,l={headers:{"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...r.headers},...r};try{const o=await fetch(s,l);if(!o.ok){const i=await o.json().catch(()=>({}));throw o.status===401&&i.code==="MULTIPLE_LOGIN"&&(this.token=null,localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("isAdmin"),window.location.reload()),new Error(i.message||`HTTP error! status: ${o.status}`)}return await o.json()}catch(o){throw console.error("API request failed:",o),o}}async login(t,r){const s=await this.request("/api/auth/login",{method:"POST",body:JSON.stringify({username:t,password:r})});return this.token=s.token,localStorage.setItem("token",s.token),localStorage.setItem("username",s.user.username),localStorage.setItem("isAdmin",s.user.isAdmin?"true":"false"),{...s,username:s.user.username,isAdmin:s.user.isAdmin}}async register(t,r,s){return this.request("/api/auth/register",{method:"POST",body:JSON.stringify({username:t,email:r,password:s})})}async logout(){try{await this.request("/api/auth/logout",{method:"POST"})}catch{}this.token=null,localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("isAdmin")}async getCurrentUser(){return this.request("/api/user")}async updateProfile(t){return this.request("/api/users/profile",{method:"PUT",body:JSON.stringify(t)})}async uploadAvatar(t){const r=new FormData;return r.append("avatar",t),this.request("/api/users/upload-avatar",{method:"POST",headers:{},body:r})}async getAllUsersAdmin(){return this.request("/api/admin/users")}async searchUsersAdmin(t){return this.request(`/api/users/admin/search?q=${encodeURIComponent(t)}`)}async updateUserAdmin(t,r){return this.request(`/api/users/admin/update/${t}`,{method:"PUT",body:JSON.stringify(r)})}async updateCurrency(t,r){return this.request("/api/user/currency",{method:"PUT",body:JSON.stringify({goldCoins:t,pearls:r})})}async getNotifications(){return this.request("/api/notifications")}async markNotificationAsRead(t){return this.request(`/api/notifications/${t}/read`,{method:"PUT"})}async markAllNotificationsAsRead(){return this.request("/api/notifications/mark-all-read",{method:"PUT"})}async getMessages(t){return this.request(`/api/messages/${t}`)}async sendMessage(t,r,s="text"){return this.request("/api/messages",{method:"POST",body:JSON.stringify({recipientId:t,content:r,messageType:s})})}async getFriends(){return this.request("/api/profile/friends")}async getFriendRequests(){return this.request("/api/profile/friend-requests")}async sendFriendRequest(t){return this.request("/api/profile/friend-request",{method:"POST",body:JSON.stringify({friendId:t})})}async acceptFriendRequest(t){return this.request("/api/profile/accept-friend",{method:"POST",body:JSON.stringify({friendshipId:t})})}async checkFriendship(t){return this.request(`/api/friends/check/${t}`)}async searchUserById(t){return this.request(`/api/users/search-by-id/${t}`)}async exchangeGoldToPearls(t){return this.request("/api/profile/exchange-gold-to-pearls",{method:"POST",body:JSON.stringify({goldAmount:t})})}async sendItem(t,r,s){return this.request("/api/profile/send-item",{method:"POST",body:JSON.stringify({toUserId:t,itemType:r,message:s})})}async getGifts(){return this.request("/api/profile/gifts")}async sendGift(t,r,s,l){return this.request("/api/profile/send-gift",{method:"POST",body:JSON.stringify({toUserId:t,giftType:r,amount:s,message:l})})}async claimGift(t){return this.request("/api/profile/claim-gift",{method:"POST",body:JSON.stringify({giftId:t})})}async getItems(){return this.request("/api/profile/items")}async getVoiceRoom(){return this.request("/api/voice-room")}async joinVoiceSeat(t){return this.request("/api/voice-room/join-seat",{method:"POST",body:JSON.stringify({seatNumber:t})})}async leaveVoiceSeat(){try{return await this.request("/api/voice-room/leave-seat",{method:"POST"})}catch(t){console.error("Error leaving voice seat:",t);try{return await this.request("/api/voice-room/leave-seat",{method:"POST"})}catch(r){throw r}}}async requestMic(){try{return await this.request("/api/voice-room/request-mic",{method:"POST"})}catch(t){throw console.error("Error requesting mic:",t),t}}async cancelMicRequest(){try{return await this.request("/api/voice-room/cancel-mic-request",{method:"POST"})}catch(t){throw console.error("Error canceling mic request:",t),t}}async sendVoiceRoomMessage(t){try{return await this.request("/api/voice-room/send-message",{method:"POST",body:JSON.stringify({content:t})})}catch(r){throw console.error("Error sending voice room message:",r),r}}async getVoiceRoomMessages(){try{return await this.request("/api/voice-room/messages")}catch(t){throw console.error("Error getting voice room messages:",t),t}}async toggleMute(t){try{return await this.request("/api/voice-room/toggle-mute",{method:"POST",body:JSON.stringify({isMuted:t})})}catch(r){console.error("Error toggling mute:",r);try{return await this.request("/api/voice-room/toggle-mute",{method:"POST",body:JSON.stringify({isMuted:t})})}catch(s){throw s}}}async kickUserFromVoiceRoom(t,r){return this.request("/api/voice-room/admin/kick",{method:"POST",body:JSON.stringify({userId:t,durationInMinutes:r})})}async muteUserInVoiceRoom(t){return this.request("/api/voice-room/admin/mute",{method:"POST",body:JSON.stringify({userId:t})})}async unmuteUserInVoiceRoom(t){return this.request("/api/voice-room/admin/unmute",{method:"POST",body:JSON.stringify({userId:t})})}async removeUserFromSeat(t){return this.request("/api/voice-room/admin/remove-seat",{method:"POST",body:JSON.stringify({userId:t})})}async removeUserFromQueue(t){return this.request("/api/voice-room/admin/remove-queue",{method:"POST",body:JSON.stringify({userId:t})})}async banUserFromChat(t){return this.request("/api/voice-room/admin/ban-chat",{method:"POST",body:JSON.stringify({userId:t})})}async unbanUserFromChat(t){return this.request("/api/voice-room/admin/unban-chat",{method:"POST",body:JSON.stringify({userId:t})})}async getUserItems(t){return this.request(`/api/user-items/${t}`)}async getShield(t){return this.request(`/api/profile/shield/${t}`)}async activateShield(t){return this.request("/api/profile/activate-shield",{method:"POST",body:JSON.stringify({shieldType:t})})}async getTransactions(t=1,r=20){return this.request(`/api/profile/transactions?page=${t}&limit=${r}`)}async chargeBalance(t){return this.request("/api/profile/charge-balance",{method:"POST",body:JSON.stringify({amount:t})})}async activateItem(t){return this.request("/api/profile/activate-item",{method:"POST",body:JSON.stringify({itemId:t})})}async getGameSettings(){return this.request("/api/game/settings")}async updateGameSettings(t){return this.request("/api/game/settings",{method:"POST",body:t})}async getSuspiciousActivities(){return this.request("/api/admin/suspicious-activities")}async getPlayerId(t){return this.request(`/api/admin/users/${t}/player-id`)}async updatePlayerId(t,r){return this.request(`/api/admin/users/${t}/player-id`,{method:"PUT",body:JSON.stringify({playerId:r})})}async getUsersWithIds(t=1,r=12,s=""){return this.request(`/api/users/admin/users-with-ids?page=${t}&limit=${r}&search=${s}`)}async updateUser(t,r){return this.request(`/api/users/admin/update/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteUser(t){return this.request(`/api/users/admin/delete/${t}`,{method:"DELETE"})}async deleteUserImage(t){return this.request(`/api/users/admin/delete-image/${t}`,{method:"DELETE"})}async manageUserImage(t,r,s,l){return this.request("/api/users/admin/manage-user-image",{method:"PUT",body:JSON.stringify({targetUserId:t,action:r,imageData:s,imageType:l})})}async debugAllUsers(){return this.request("/api/admin/debug/all-users")}async updateBalance(t,r,s,l){return this.request("/api/users/update-balance",{method:"POST",body:JSON.stringify({balanceChange:t,gameType:r,sessionId:s,gameResult:l})})}async getGameProfile(){return this.request("/api/users/profile")}async endGameSession(t){return this.request("/api/games/session-end",{method:"POST",body:t})}async getPlayerStats(){return this.request("/api/games/player-stats")}clearLocalData(){localStorage.removeItem("token"),localStorage.removeItem("userData"),localStorage.removeItem("adminToken"),localStorage.removeItem("selectedUser"),localStorage.removeItem("userCache"),console.log("🧹 Cleared all local storage data")}}const ee=new ep,Fc={ar:{login:"تسجيل الدخول",username:"اسم المستخدم",password:"كلمة المرور",loginButton:"دخول",switchToRegister:"ليس لديك حساب؟ إنشاء حساب",loginDesc:"أنشطة مربحة تمتزج مع المرح والصداقات",requiredFields:"الرجاء إدخال اسم المستخدم وكلمة المرور",loginFailed:"فشل في تسجيل الدخول"},en:{login:"Login",username:"Username",password:"Password",loginButton:"Login",switchToRegister:"Don't have an account? Register",loginDesc:"Profitable activities that blend with fun and friendships",requiredFields:"Please enter username and password",loginFailed:"Login failed"},ur:{login:"لاگ ان",username:"صارف نام",password:"پاس ورڈ",loginButton:"داخل ہوں",switchToRegister:"اکاؤنٹ نہیں ہے؟ رجسٹر کریں",loginDesc:"منافع بخش سرگرمیاں جو تفریح اور دوستی کے ساتھ ملتی ہیں",requiredFields:"براہ کرم صارف نام اور پاس ورڈ درج کریں",loginFailed:"لاگ ان ناکام"},es:{login:"Iniciar Sesión",username:"Nombre de Usuario",password:"Contraseña",loginButton:"Entrar",switchToRegister:"¿No tienes cuenta? Regístrate",loginDesc:"Actividades rentables que se mezclan con diversión y amistades",requiredFields:"Por favor ingresa nombre de usuario y contraseña",loginFailed:"Error al iniciar sesión"}},tp=({onLoginSuccess:e,onSwitchToRegister:t})=>{const[r,s]=y.useState({username:"",password:""}),[l,o]=y.useState(!1),[i,a]=y.useState(!1),[c,d]=y.useState(""),g=localStorage.getItem("selectedLanguage")||"ar",w=j=>{var k;return((k=Fc[g])==null?void 0:k[j])||Fc.ar[j]||j},b=async j=>{if(j.preventDefault(),d(""),!r.username.trim()||!r.password.trim()){d(w("requiredFields"));return}a(!0);try{const k=await ee.login(r.username,r.password);e(k)}catch(k){d(k.message||w("loginFailed"))}finally{a(!1)}},N=j=>{const{name:k,value:C}=j.target;s(m=>({...m,[k]:C})),c&&d("")};return n.jsx("div",{className:"w-full max-w-sm mx-auto",children:n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-800/20 via-blue-900/25 to-slate-800/20 rounded-2xl blur-lg group-hover:blur-xl transition-all duration-500 animate-pulse"}),n.jsx("div",{className:"relative bg-gradient-to-br from-blue-900/40 via-blue-800/30 to-slate-800/40 backdrop-blur-2xl rounded-2xl p-5 border border-blue-400/30 shadow-xl hover:shadow-blue-500/30 transition-all duration-500 hover:border-blue-300/50",children:n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsxs("div",{className:"relative mx-auto mb-4",children:[n.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 rounded-full flex items-center justify-center mx-auto relative shadow-xl shadow-blue-500/40 hover:shadow-blue-500/60 transition-all duration-500 hover:scale-105 group",children:[n.jsx(ci,{className:"w-8 h-8 text-white drop-shadow-lg"}),n.jsx(Rl,{className:"w-4 h-4 text-white absolute -top-0.5 -right-0.5 animate-spin",style:{animationDuration:"8s"}})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 rounded-full blur-lg opacity-30 animate-pulse"})]}),n.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:w("login")}),n.jsxs("p",{className:"text-purple-200 font-medium text-sm",children:["🌟 ",w("loginDesc")," 🌟"]})]}),c&&n.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4 mb-6",children:n.jsx("p",{className:"text-red-300 text-sm text-center",children:c})}),n.jsxs("form",{onSubmit:b,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none z-10",children:n.jsx(hi,{className:"h-4 w-4 text-blue-300 group-focus-within:text-white transition-colors duration-300"})}),n.jsx("input",{type:"text",name:"username",value:r.username,onChange:N,placeholder:w("username"),className:"w-full bg-blue-900/20 border border-blue-400/30 rounded-xl px-4 py-3 pr-10 text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-400 hover:border-blue-300/50 transition-all duration-300 text-sm backdrop-blur-sm",autoComplete:"username",required:!0}),n.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-blue-500/10 to-blue-600/10 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none z-10",children:n.jsx(mi,{className:"h-4 w-4 text-blue-300 group-focus-within:text-white transition-colors duration-300"})}),n.jsx("input",{type:l?"text":"password",name:"password",value:r.password,onChange:N,placeholder:w("password"),className:"w-full bg-blue-900/20 border border-blue-400/30 rounded-xl px-4 py-3 pr-10 pl-10 text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-400 hover:border-blue-300/50 transition-all duration-300 text-sm backdrop-blur-sm",autoComplete:"current-password",required:!0}),n.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute inset-y-0 left-0 pl-3 flex items-center z-10 group/eye",children:l?n.jsx(ui,{className:"h-4 w-4 text-blue-300 hover:text-white group-hover/eye:scale-110 transition-all duration-300"}):n.jsx(Yn,{className:"h-4 w-4 text-blue-300 hover:text-white group-hover/eye:scale-110 transition-all duration-300"})}),n.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-blue-500/10 to-blue-600/10 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 pointer-events-none"})]})]}),n.jsxs("button",{type:"submit",disabled:i,className:"relative w-full group overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-700 via-blue-800 to-blue-900 rounded-xl transition-all duration-500 group-hover:from-blue-600 group-hover:via-blue-700 group-hover:to-blue-800"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-700 via-blue-800 to-blue-900 rounded-xl blur-md opacity-40 group-hover:opacity-60 transition-opacity duration-500"}),n.jsx("div",{className:"relative bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 hover:from-blue-500 hover:via-blue-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105 active:scale-95 flex items-center justify-center gap-2 text-sm shadow-xl",children:i?n.jsxs(n.Fragment,{children:[n.jsx(f0,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{className:"animate-pulse",children:w("loggingIn")||"جاري تسجيل الدخول..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(ci,{className:"w-4 h-4 group-hover:rotate-12 transition-transform duration-300"}),n.jsxs("span",{className:"group-hover:tracking-wider transition-all duration-300",children:["🚀 ",w("loginButton")]})]})}),n.jsx("div",{className:"absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})})]})]}),n.jsxs("div",{className:"mt-5 space-y-4",children:[n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-3 border border-white/10",children:[n.jsx("p",{className:"text-blue-200 mb-2 text-sm",children:w("switchToRegister")}),n.jsxs("button",{onClick:t,className:"group relative inline-flex items-center gap-2 bg-gradient-to-r from-blue-800/20 to-blue-900/20 hover:from-blue-700/30 hover:to-blue-800/30 text-blue-300 hover:text-white font-bold py-2 px-4 rounded-lg border border-blue-400/30 hover:border-blue-300/60 transition-all duration-300 hover:scale-105",children:[n.jsx(yr,{className:"w-4 h-4 group-hover:rotate-12 transition-transform duration-300"}),n.jsx("span",{className:"group-hover:tracking-wider transition-all duration-300 text-sm",children:"✨ إنشاء حساب جديد"})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-blue-800/20 via-blue-900/15 to-slate-800/20 backdrop-blur-sm rounded-xl p-4 border border-blue-400/20",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsx("h3",{className:"text-blue-200 font-bold text-sm mb-3",children:"📞 للاستفسار وشحن العملات في INFINITY BOX"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-300 text-xs",children:[n.jsx(hi,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"YASER.HAROON79@GMAIL.COM"})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-300 text-xs",children:[n.jsx(Wf,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"00966554593007"})]})]}),n.jsx("div",{className:"pt-2 border-t border-blue-400/20",children:n.jsx("p",{className:"text-blue-400/70 text-xs",children:"© 2024 INFINITY BOX - جميع الحقوق محفوظة"})})]})})]})]})})]})})},Bc={ar:{register:"إنشاء حساب",username:"اسم المستخدم",email:"البريد الإلكتروني",password:"كلمة المرور",confirmPassword:"تأكيد كلمة المرور",registerButton:"إنشاء حساب",switchToLogin:"لديك حساب؟ تسجيل الدخول",registerDesc:"انضم إلينا واستمتع بتجربة فريدة",usernameRequired:"اسم المستخدم مطلوب",usernameMinLength:"اسم المستخدم يجب أن يكون 3 أحرف على الأقل",emailRequired:"البريد الإلكتروني مطلوب",emailInvalid:"البريد الإلكتروني غير صالح",passwordRequired:"كلمة المرور مطلوبة",passwordMinLength:"كلمة المرور يجب أن تكون 6 أحرف على الأقل",passwordMismatch:"كلمات المرور غير متطابقة",registering:"جاري إنشاء الحساب...",registerFailed:"فشل في إنشاء الحساب"},en:{register:"Register",username:"Username",email:"Email",password:"Password",confirmPassword:"Confirm Password",registerButton:"Create Account",switchToLogin:"Have an account? Login",registerDesc:"Join us and enjoy a unique experience",usernameRequired:"Username is required",usernameMinLength:"Username must be at least 3 characters",emailRequired:"Email is required",emailInvalid:"Invalid email address",passwordRequired:"Password is required",passwordMinLength:"Password must be at least 6 characters",passwordMismatch:"Passwords do not match",registering:"Creating account...",registerFailed:"Failed to create account"},ur:{register:"رجسٹر",username:"صارف نام",email:"ای میل",password:"پاس ورڈ",confirmPassword:"پاس ورڈ کی تصدیق",registerButton:"اکاؤنٹ بنائیں",switchToLogin:"اکاؤنٹ ہے؟ لاگ ان کریں",registerDesc:"ہمارے ساتھ شامل ہوں اور منفرد تجربہ کا لطف اٹھائیں",usernameRequired:"صارف نام ضروری ہے",usernameMinLength:"صارف نام کم از کم 3 حروف کا ہونا چاہیے",emailRequired:"ای میل ضروری ہے",emailInvalid:"غلط ای میل ایڈریس",passwordRequired:"پاس ورڈ ضروری ہے",passwordMinLength:"پاس ورڈ کم از کم 6 حروف کا ہونا چاہیے",passwordMismatch:"پاس ورڈ میل نہیں کھاتے",registering:"اکاؤنٹ بنایا جا رہا ہے...",registerFailed:"اکاؤنٹ بنانے میں ناکامی"},es:{register:"Registrarse",username:"Nombre de Usuario",email:"Correo Electrónico",password:"Contraseña",confirmPassword:"Confirmar Contraseña",registerButton:"Crear Cuenta",switchToLogin:"¿Tienes cuenta? Inicia sesión",registerDesc:"Únete a nosotros y disfruta de una experiencia única",usernameRequired:"El nombre de usuario es requerido",usernameMinLength:"El nombre de usuario debe tener al menos 3 caracteres",emailRequired:"El correo electrónico es requerido",emailInvalid:"Dirección de correo electrónico inválida",passwordRequired:"La contraseña es requerida",passwordMinLength:"La contraseña debe tener al menos 6 caracteres",passwordMismatch:"Las contraseñas no coinciden",registering:"Creando cuenta...",registerFailed:"Error al crear la cuenta"}},rp=({onRegisterSuccess:e,onSwitchToLogin:t})=>{const[r,s]=y.useState({username:"",email:"",password:"",confirmPassword:""}),[l,o]=y.useState(!1),[i,a]=y.useState(!1),[c,d]=y.useState(!1),[g,w]=y.useState(""),b=localStorage.getItem("selectedLanguage")||"ar",N=m=>{var u;return((u=Bc[b])==null?void 0:u[m])||Bc.ar[m]||m},j=()=>r.username.trim()?r.username.length<3?N("usernameMinLength"):r.email.trim()?/\S+@\S+\.\S+/.test(r.email)?r.password?r.password.length<6?N("passwordMinLength"):r.password!==r.confirmPassword?N("passwordMismatch"):null:N("passwordRequired"):N("emailInvalid"):N("emailRequired"):N("usernameRequired"),k=async m=>{m.preventDefault(),w("");const u=j();if(u){w(u);return}d(!0);try{const p=await ee.register(r.username,r.email,r.password);p.token&&p.user&&(localStorage.setItem("token",p.token),localStorage.setItem("userData",JSON.stringify(p.user))),p.isNewUser&&p.welcomeMessage?alert(p.welcomeMessage):p.rewards&&alert(`🎉 مرحباً بك في المنصة!

هدية الترحيب:
🪙 ${p.rewards.goldCoins.toLocaleString()} عملة ذهبية
🦪 ${p.rewards.pearls} لآلئ

استمتع باللعب واربح المزيد!`),e(p.user)}catch(p){w(p.message||N("registerFailed"))}finally{d(!1)}},C=m=>{const{name:u,value:p}=m.target;s(M=>({...M,[u]:p})),g&&w("")};return n.jsx("div",{className:"w-full max-w-md mx-auto",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 shadow-2xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-4 relative",children:[n.jsx(zl,{className:"w-10 h-10 text-white"}),n.jsx(Rl,{className:"w-5 h-5 text-white absolute -top-1 -right-1"})]}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:N("register")}),n.jsx("p",{className:"text-gray-300",children:N("registerDesc")})]}),g&&n.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4 mb-6",children:n.jsx("p",{className:"text-red-300 text-sm text-center",children:g})}),n.jsxs("form",{onSubmit:k,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx(yr,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",name:"username",value:r.username,onChange:C,placeholder:N("username"),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 pr-12 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",autoComplete:"username",required:!0})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx(hi,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"email",name:"email",value:r.email,onChange:C,placeholder:N("email"),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 pr-12 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",autoComplete:"email",required:!0})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx(mi,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:l?"text":"password",name:"password",value:r.password,onChange:C,placeholder:N("password"),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 pr-12 pl-12 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",autoComplete:"new-password",required:!0}),n.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:l?n.jsx(ui,{className:"h-5 w-5 text-gray-400 hover:text-white transition-colors"}):n.jsx(Yn,{className:"h-5 w-5 text-gray-400 hover:text-white transition-colors"})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx(mi,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:r.confirmPassword,onChange:C,placeholder:N("confirmPassword"),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 pr-12 pl-12 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0}),n.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:i?n.jsx(ui,{className:"h-5 w-5 text-gray-400 hover:text-white transition-colors"}):n.jsx(Yn,{className:"h-5 w-5 text-gray-400 hover:text-white transition-colors"})})]})]}),n.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 flex items-center justify-center gap-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx(f0,{className:"w-5 h-5 animate-spin"}),N("registering")]}):n.jsxs(n.Fragment,{children:[n.jsx(ci,{className:"w-5 h-5"}),N("registerButton")]})})]}),n.jsxs("div",{className:"mt-6 text-center",children:[n.jsx("p",{className:"text-gray-300",children:N("switchToLogin")}),n.jsx("button",{onClick:t,className:"text-blue-400 hover:text-blue-300 font-semibold transition-colors mt-2",children:N("login")})]})]})})},Vc={ar:{welcome:"مرحباً بك",login:"تسجيل الدخول",register:"إنشاء حساب",selectLanguage:"اختر اللغة",loginDesc:"أنشطة مربحة تمتزج مع المرح والصداقات",registerDesc:"انضم إلينا واستمتع بتجربة فريدة",registerSuccess:"تم إنشاء الحساب بنجاح!",welcomeMessage:"مرحباً بك في INFINITY BOX - يمكنك الآن تسجيل الدخول"},en:{welcome:"Welcome",login:"Login",register:"Register",selectLanguage:"Select Language",loginDesc:"Profitable activities that blend with fun and friendships",registerDesc:"Join us and enjoy a unique experience",registerSuccess:"Account created successfully!",welcomeMessage:"Welcome to INFINITY BOX - you can now login"},ur:{welcome:"خوش آمدید",login:"لاگ ان",register:"رجسٹر",selectLanguage:"زبان منتخب کریں",loginDesc:"منافع بخش سرگرمیاں جو تفریح اور دوستی کے ساتھ ملتی ہیں",registerDesc:"ہمارے ساتھ شامل ہوں اور منفرد تجربہ کا لطف اٹھائیں",registerSuccess:"اکاؤنٹ کامیابی سے بن گیا!",welcomeMessage:"INFINITY BOX میں خوش آمدید - اب آپ لاگ ان کر سکتے ہیں"},es:{welcome:"Bienvenido",login:"Iniciar Sesión",register:"Registrarse",selectLanguage:"Seleccionar Idioma",loginDesc:"Actividades rentables que se mezclan con diversión y amistades",registerDesc:"Únete a nosotros y disfruta de una experiencia única",registerSuccess:"¡Cuenta creada exitosamente!",welcomeMessage:"Bienvenido a INFINITY BOX - ahora puedes iniciar sesión"}},np=({onAuthSuccess:e})=>{const[t,r]=y.useState("login"),[s,l]=y.useState(!1),[o,i]=y.useState(()=>localStorage.getItem("selectedLanguage")||"ar"),[a,c]=y.useState(!1),d=k=>({ar:"🇸🇦",en:"🇺🇸",ur:"🇵🇰",es:"🇪🇸"})[k]||"🌍",g=k=>({ar:"العربية",en:"English",ur:"اردو",es:"Español"})[k]||k,w=k=>{var C;return((C=Vc[o])==null?void 0:C[k])||Vc.ar[k]||k},b=k=>{i(k),localStorage.setItem("selectedLanguage",k),document.documentElement.dir=["ar","ur"].includes(k)?"rtl":"ltr",document.documentElement.lang=k,c(!1)};y.useEffect(()=>{document.documentElement.dir=["ar","ur"].includes(o)?"rtl":"ltr",document.documentElement.lang=o},[o]);const N=k=>{if(k.isAdmin&&window.confirm("مرحباً أيها المشرف! هل تريد الذهاب إلى لوحة التحكم؟ (إلغاء للذهاب إلى اللعبة)")){window.location.href="/admin.html";return}e(k)},j=k=>{k?N(k):(l(!0),setTimeout(()=>{l(!1),r("login")},3e3))};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-800 text-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-4 right-4 z-50",children:n.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-full hover:bg-white/20 transition-all duration-300",children:[n.jsx(Hf,{className:"w-5 h-5"}),n.jsx("span",{className:"text-2xl",children:d(o)}),n.jsx("span",{className:"hidden sm:inline",children:g(o)})]})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-xl font-bold text-center mb-6",children:w("selectLanguage")}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:["ar","en","ur","es"].map(k=>n.jsxs("button",{onClick:()=>b(k),className:`flex items-center gap-3 p-4 rounded-xl transition-all duration-300 ${o===k?"bg-blue-500/30 border-2 border-blue-400":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:[n.jsx("span",{className:"text-3xl",children:d(k)}),n.jsx("span",{className:"font-medium",children:g(k)})]},k))}),n.jsx("button",{onClick:()=>c(!1),className:"w-full mt-6 py-3 bg-gray-500/20 hover:bg-gray-500/30 rounded-xl transition-all duration-300",children:"إغلاق / Close"})]})}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/50 via-purple-900/30 to-indigo-900/50"}),n.jsxs("div",{className:"absolute -inset-10 opacity-30",children:[n.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),n.jsx("div",{className:"absolute top-3/4 right-1/4 w-80 h-80 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-1000"}),n.jsx("div",{className:"absolute bottom-1/4 left-1/2 w-72 h-72 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-2000"}),n.jsx("div",{className:"absolute top-1/2 right-1/3 w-64 h-64 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-3000"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-20",children:[n.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full filter blur-xl animate-bounce delay-500"}),n.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 bg-yellow-300 rounded-full filter blur-lg animate-bounce delay-1500"}),n.jsx("div",{className:"absolute top-1/3 right-10 w-20 h-20 bg-green-400 rounded-full filter blur-lg animate-bounce delay-2500"})]}),n.jsx("div",{className:"absolute inset-0 opacity-20",children:n.jsx("div",{className:"grid grid-cols-16 gap-6 h-full w-full p-4",children:Array.from({length:80}).map((k,C)=>n.jsx("div",{className:`${C%4===0?"w-1 h-1":"w-0.5 h-0.5"} bg-white rounded-full animate-pulse`,style:{animationDelay:`${C*150}ms`,animationDuration:`${2+C%3}s`}},C))})}),n.jsx("div",{className:"absolute top-20 right-20 w-16 h-16 bg-gradient-to-br from-yellow-200 to-yellow-100 rounded-full opacity-30 blur-sm"})]}),n.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[n.jsxs("header",{className:"text-center py-12 relative",children:[n.jsx("div",{className:"relative z-10",children:n.jsx("div",{className:"inline-flex items-center justify-center mb-8",children:n.jsxs("div",{className:"relative group",children:[n.jsxs("div",{className:"w-32 h-32 sphere-3d rounded-full flex items-center justify-center relative group-hover:scale-110 transition-all duration-500 rotate-y",children:[n.jsx("div",{className:"color-layer"}),n.jsxs("div",{className:"text-center relative z-10",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-200 via-amber-100 to-blue-200 bg-clip-text text-transparent font-black text-lg leading-tight mb-1 drop-shadow-2xl",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8), 0 0 10px rgba(255,255,255,0.3)"},children:"INFINITY"}),n.jsx("div",{className:"bg-gradient-to-r from-yellow-200 via-amber-100 to-blue-200 bg-clip-text text-transparent font-black text-lg leading-tight drop-shadow-2xl",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8), 0 0 10px rgba(255,255,255,0.3)"},children:"BOX"})]}),n.jsx(Rl,{className:"w-6 h-6 text-white absolute -top-2 -right-2 animate-spin bg-gradient-to-r from-yellow-600 to-blue-700 rounded-full p-1 z-20",style:{animationDuration:"12s"}})]}),n.jsx("div",{className:"absolute inset-0 sphere-glow rounded-full blur-xl opacity-30 group-hover:opacity-50 transition-opacity duration-500 rotate-y-reverse"}),n.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white/10 rotate-y-fast"}),n.jsx("div",{className:"absolute -inset-2 rounded-full border border-white/5 rotate-y-slow"})]})})}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-5",children:n.jsx("div",{className:"text-8xl font-black text-white animate-spin",style:{animationDuration:"25s"},children:"∞"})})]}),n.jsx("div",{className:"flex-1 flex items-start justify-center px-4 pt-8 pb-8",children:n.jsx("div",{className:"w-full max-w-md mx-auto",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"w-full",children:s?n.jsx("div",{className:"w-full max-w-md mx-auto",children:n.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-3xl p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:w("registerSuccess")}),n.jsx("p",{className:"text-green-300",children:w("welcomeMessage")})]})}):t==="login"?n.jsx(tp,{onLoginSuccess:N,onSwitchToRegister:()=>r("register")}):n.jsx(rp,{onRegisterSuccess:j,onSwitchToLogin:()=>r("login")})})})})})]})]})};function sp(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,s,l,o,i=[],a="",c=e.split("/");for(c[0]||c.shift();l=c.shift();)r=l[0],r==="*"?(i.push(r),a+=l[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=l.indexOf("?",1),o=l.indexOf(".",1),i.push(l.substring(1,~s?s:~o?o:l.length)),a+=~s&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~s?"?":"")+"\\"+l.substring(o))):a+="/"+l;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var N0={exports:{}},k0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nn=y;function lp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var op=typeof Object.is=="function"?Object.is:lp,ip=nn.useState,ap=nn.useEffect,cp=nn.useLayoutEffect,dp=nn.useDebugValue;function up(e,t){var r=t(),s=ip({inst:{value:r,getSnapshot:t}}),l=s[0].inst,o=s[1];return cp(function(){l.value=r,l.getSnapshot=t,po(l)&&o({inst:l})},[e,r,t]),ap(function(){return po(l)&&o({inst:l}),e(function(){po(l)&&o({inst:l})})},[e]),dp(r),r}function po(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!op(e,r)}catch{return!0}}function mp(e,t){return t()}var hp=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mp:up;k0.useSyncExternalStore=nn.useSyncExternalStore!==void 0?nn.useSyncExternalStore:hp;N0.exports=k0;var fp=N0.exports;const pp=ym.useInsertionEffect,gp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xp=gp?y.useLayoutEffect:y.useEffect,yp=pp||xp,S0=e=>{const t=y.useRef([e,(...r)=>t[0](...r)]).current;return yp(()=>{t[0]=e}),t[1]},vp="popstate",fa="pushState",pa="replaceState",wp="hashchange",qc=[vp,fa,pa,wp],bp=e=>{for(const t of qc)addEventListener(t,e);return()=>{for(const t of qc)removeEventListener(t,e)}},C0=(e,t)=>fp.useSyncExternalStore(bp,e,t),jp=()=>location.search,Np=({ssrSearch:e=""}={})=>C0(jp,()=>e),Hc=()=>location.pathname,kp=({ssrPath:e}={})=>C0(Hc,e?()=>e:Hc),Sp=(e,{replace:t=!1,state:r=null}={})=>history[t?pa:fa](r,"",e),Cp=(e={})=>[kp(e),Sp],Wc=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Wc]>"u"){for(const e of[fa,pa]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,Wc,{value:!0})}const Mp=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",M0=(e="")=>e==="/"?"":e,Ep=(e,t)=>e[0]==="~"?e.slice(1):M0(t)+e,Ip=(e="",t)=>Mp(Qc(M0(e)),Qc(t)),Qc=e=>{try{return decodeURI(e)}catch{return e}},Ap={hook:Cp,searchHook:Np,parser:sp,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},_p=y.createContext(Ap),E0=()=>y.useContext(_p),Tp={};y.createContext(Tp);const I0=e=>{const[t,r]=e.hook(e);return[Ip(e.base,t),S0((s,l)=>r(Ep(s,e.base),l))]},A0=()=>I0(E0());y.forwardRef((e,t)=>{const r=E0(),[s,l]=I0(r),{to:o="",href:i=o,onClick:a,asChild:c,children:d,className:g,replace:w,state:b,...N}=e,j=S0(C=>{C.ctrlKey||C.metaKey||C.altKey||C.shiftKey||C.button!==0||(a==null||a(C),C.defaultPrevented||(C.preventDefault(),l(i,e)))}),k=r.hrefs(i[0]==="~"?i.slice(1):r.base+i,r);return c&&y.isValidElement(d)?y.cloneElement(d,{onClick:j,href:k}):y.createElement("a",{...N,onClick:j,href:k,className:g!=null&&g.call?g(s===i):g,children:d,ref:t})});const Gs=({setActiveTab:e})=>{A0();const t=[{icon:n.jsx(j0,{className:"w-8 h-8"}),title:"تحدي السرعة",description:"اختبر سرعة ردود أفعالك في تحدي مثير",color:"from-yellow-500 to-orange-500",onClick:()=>window.open("/speed-challenge.html","_blank")},{icon:n.jsx(v0,{className:"w-8 h-8"}),title:"صناديق الحظ",description:"اكسر الصناديق واجمع الكنوز والجواهر",color:"from-green-500 to-emerald-500",onClick:()=>window.open("/game8.html","_blank")},{icon:n.jsx(x0,{className:"w-8 h-8"}),title:"ألغاز العقل",description:"حل الألغاز المعقدة واختبر ذكاءك",color:"from-blue-500 to-cyan-500",onClick:()=>window.open("/mind-puzzles.html","_blank")},{icon:n.jsx(a0,{className:"w-8 h-8"}),title:"قطف الفواكه",description:"اقطف الفواكه الساقطة واجمع النقاط",color:"from-red-500 to-yellow-500",onClick:()=>window.open("/fruit-catching.html","_blank")},{icon:n.jsx(c0,{className:"w-8 h-8"}),title:"لعبة الذاكرة",description:"اختبر ذاكرتك وطابق البطاقات",color:"from-purple-500 to-pink-500",onClick:()=>window.open("/memory-match.html","_blank")},{icon:n.jsx(b0,{className:"w-8 h-8"}),title:"لعبة الغابة",description:"اكتشف الحيوانات وتعلم أسماءها",color:"from-green-600 to-emerald-600",onClick:()=>window.open("/forest-game.html","_blank")}];return n.jsx("div",{className:"space-y-8",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 lg:gap-8",children:n.jsxs("section",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-500 to-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(ma,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-xl lg:text-2xl font-bold bg-gradient-to-r from-yellow-300 to-blue-300 bg-clip-text text-transparent",children:"قاعة الألعاب"})]}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:t.map((r,s)=>n.jsxs("button",{onClick:r.onClick,className:"group p-2 sm:p-3 crystal-game-card rounded-xl text-center",children:[n.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-r ${r.color} rounded-full flex items-center justify-center mb-2 sm:mb-3 group-hover:scale-110 transition-transform duration-300 mx-auto shadow-lg ring-4 ring-white/20`,children:r.icon}),n.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-white mb-1",children:r.title}),n.jsx("p",{className:"text-gray-300 text-xs leading-tight",children:r.description})]},s))})]})})})},Lp=()=>{const[e,t]=y.useState([]),[r,s]=y.useState(1),[l,o]=y.useState(""),[i,a]=y.useState(null),[c,d]=y.useState(!1),[g,w]=y.useState(null),[b,N]=y.useState(""),[j,k]=y.useState(null),[C,m]=y.useState(null);y.useState(!1),y.useState(null);const[u,p]=y.useState(!1),[M,L]=y.useState(null);y.useEffect(()=>{P()},[]);const R=(f,S)=>{L({type:f,text:S}),setTimeout(()=>L(null),5e3)},P=async(f=1,S="")=>{var I;d(!0);try{const $=await ee.getUsersWithImages(f,12,S);console.log("📥 Loaded users data:",$.users),(I=$.users)==null||I.forEach(q=>{q.profileImage&&console.log(`👤 User ${q.username} has profileImage:`,q.profileImage.substring(0,50)+"...")}),t($.users||[]),a($.pagination),s(f),o(S)}catch($){console.error("❌ Error loading users:",$),R("error","خطأ في تحميل المستخدمين: "+$.message)}finally{d(!1)}},U=()=>{const f=document.getElementById("searchInput"),S=(f==null?void 0:f.value.trim())||"";P(1,S)},Z=(f,S)=>{console.log("🖼️ Image action for user:",f),console.log("🔍 User ID fields:",{id:f.id,userId:f.userId,_id:f._id});const I=f.id||f.userId||f._id;if(!I){R("error","خطأ: لا يمكن العثور على معرف المستخدم");return}const $={...f,id:I,userId:I};w($),N(S),k(null),m(null),p(!0)},x=async f=>{var I;const S=(I=f.target.files)==null?void 0:I[0];if(S){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(S.type)){R("error","نوع الملف غير مدعوم. يرجى اختيار صورة بصيغة JPG, PNG, GIF, أو WebP");return}const q=5*1024*1024;if(S.size>q){R("error","حجم الصورة كبير جداً. الحد الأقصى 5MB");return}k(S);try{const re=await de(S,400,.9);m(re),R("info","تم تحسين الصورة وضغطها للحصول على أفضل جودة")}catch(re){console.error("Error compressing preview:",re);const Q=new FileReader;Q.onload=G=>{var D;m((D=G.target)==null?void 0:D.result)},Q.readAsDataURL(S),R("info","تم تحميل الصورة بنجاح")}}},z=f=>new Promise((S,I)=>{const $=new FileReader;$.readAsDataURL(f),$.onload=()=>S($.result),$.onerror=q=>I(q)}),te=(f,S=500)=>new Promise((I,$)=>{try{if(console.log("📊 Original file size:",Math.round(f.size/1024),"KB"),f.size<=S*1024){console.log("✅ File size acceptable, using original"),z(f).then(I).catch($);return}const q=new FileReader;q.onload=()=>{try{const re=q.result;console.log("✅ File converted to base64, size:",Math.round(re.length*.75/1024),"KB (estimated)"),I(re)}catch(re){console.error("❌ Error processing file:",re),$(re)}},q.onerror=re=>{console.error("❌ FileReader error:",re),$(re)},q.readAsDataURL(f)}catch(q){console.error("❌ Error in compressImageSafe:",q),$(q)}}),de=(f,S=800,I=.8)=>new Promise(($,q)=>{try{console.log("🔄 Attempting safe compression..."),te(f,500).then($).catch(re=>{console.warn("⚠️ Safe compression failed, trying Canvas method:",re);try{const Q=(()=>{try{return document.createElement("canvas")}catch(X){return console.warn("❌ Canvas creation failed:",X),null}})();if(!Q){console.warn("❌ Canvas not available, using fallback"),z(f).then($).catch(q);return}const G=Q.getContext("2d");if(!G){console.warn("❌ Canvas context not available, using fallback"),z(f).then($).catch(q);return}const D=new window.Image;D.onload=()=>{try{let{width:X,height:we}=D;X>S&&(we=we*S/X,X=S),Q.width=X,Q.height=we,G.imageSmoothingEnabled=!0,G.imageSmoothingQuality="high",G.drawImage(D,0,0,X,we);const Rt=Q.toDataURL("image/jpeg",I);console.log("✅ Canvas compression successful"),$(Rt)}catch(X){console.error("❌ Canvas processing error:",X),z(f).then($).catch(q)}},D.onerror=()=>{console.error("❌ Image load error, using fallback"),z(f).then($).catch(q)},D.src=URL.createObjectURL(f)}catch(Q){console.error("❌ Canvas method failed:",Q),z(f).then($).catch(q)}})}catch(re){console.error("❌ Error in compressImage:",re),z(f).then($).catch(q)}}),Pe=async f=>{if(f.preventDefault(),!(!g||!b))try{const S=g.userId||g.id;if(!S){R("error","خطأ: معرف المستخدم غير صحيح");return}console.log("🔄 Managing image for user:",S,"action:",b);let I=null,$=null;if(b.startsWith("change_")&&j)try{R("info","جاري ضغط الصورة..."),I=await de(j,800,.85),$="image/jpeg",console.log("✅ Image compressed successfully for upload"),R("info","جاري رفع الصورة المحسنة...")}catch(q){console.error("❌ Error compressing for upload:",q),R("info","فشل ضغط الصورة، جاري استخدام الصورة الأصلية...");try{I=await z(j),$=j.type,console.log("✅ Using original file as fallback")}catch(re){throw console.error("❌ Error with fallback method:",re),new Error("فشل في معالجة الصورة: "+re.message)}}console.log("📤 Sending image management request:",{userId:S,action:b,hasImageData:!!I,imageType:$}),await ee.manageUserImage(S,b,I||void 0,$||void 0),R("success","تم تحديث الصورة بنجاح"),console.log("🔄 Reloading users data after image update..."),await P(r,l),Re()}catch(S){console.error("❌ Image management error:",S),R("error","خطأ في إدارة الصورة: "+S.message)}},Re=()=>{p(!1),w(null),N(""),k(null),m(null)},Be=f=>f.profileImage||f.avatar?"موجودة":"غير موجودة",Ne=f=>{var I;const S=f.profileImage||f.avatar;return console.log(`🖼️ Getting image for user ${f.username}:`,{hasProfileImage:!!f.profileImage,hasAvatar:!!f.avatar,profileImageLength:((I=f.profileImage)==null?void 0:I.length)||0,finalImageUrl:S?"HAS_IMAGE":"NO_IMAGE"}),S||"/images/default-avatar.png"};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center",children:n.jsx(Ln,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold text-white",children:"إدارة صور المستخدمين"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(kr,{className:"w-8 h-8 text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:e.length}),n.jsx("p",{className:"text-sm text-gray-400",children:"إجمالي المستخدمين"})]})]})}),n.jsx("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ln,{className:"w-8 h-8 text-green-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(f=>f.profileImage||f.avatar).length}),n.jsx("p",{className:"text-sm text-gray-400",children:"لديهم صور"})]})]})}),n.jsx("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Yn,{className:"w-8 h-8 text-purple-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(f=>!f.profileImage&&!f.avatar).length}),n.jsx("p",{className:"text-sm text-gray-400",children:"بدون صور"})]})]})})]}),M&&n.jsx("div",{className:`p-4 rounded-2xl border ${M.type==="success"?"bg-green-500/20 border-green-500/50 text-green-300":M.type==="error"?"bg-red-500/20 border-red-500/50 text-red-300":"bg-blue-500/20 border-blue-500/50 text-blue-300"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[M.type==="success"&&n.jsx(di,{className:"w-5 h-5"}),M.type==="error"&&n.jsx(Qs,{className:"w-5 h-5"}),M.type==="info"&&n.jsx(pi,{className:"w-5 h-5"}),n.jsx("span",{children:M.text})]})}),n.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl border border-white/10 shadow-2xl overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-white/10",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(fi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"searchInput",type:"text",placeholder:"البحث عن مستخدم...",className:"w-full bg-white/10 border border-white/20 rounded-xl px-12 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",onKeyPress:f=>f.key==="Enter"&&U()})]}),n.jsxs("button",{onClick:U,className:"bg-purple-500/20 hover:bg-purple-500/30 border border-purple-500/50 rounded-xl px-6 py-3 text-purple-300 transition-colors flex items-center gap-2",children:[n.jsx(fi,{className:"w-4 h-4"}),"بحث"]}),n.jsxs("button",{onClick:()=>P(),className:"bg-green-500/20 hover:bg-green-500/30 border border-green-500/50 rounded-xl px-6 py-3 text-green-300 transition-colors flex items-center gap-2",children:[n.jsx(xr,{className:"w-4 h-4"}),"تحديث"]})]})}),n.jsxs("div",{className:"p-6",children:[c?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(xr,{className:"w-8 h-8 text-purple-400 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-300",children:"جاري التحميل..."})]}):e.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(kr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"لا توجد مستخدمين"}),n.jsx("p",{className:"text-gray-300",children:"لم يتم العثور على أي مستخدمين"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(f=>n.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10 hover:bg-white/10 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("img",{src:Ne(f),alt:"صورة المستخدم",className:"w-16 h-16 rounded-full object-cover border-2 border-purple-500"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-white",children:f.displayName||f.username}),n.jsxs("p",{className:"text-sm text-gray-400",children:["المعرف: ",f.playerId||"غير محدد"]})]})]}),n.jsx("div",{className:"space-y-3 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:Ne(f),alt:"الصورة الشخصية",className:"w-8 h-8 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-white",children:"الصورة الشخصية"}),n.jsx("p",{className:"text-xs text-gray-400",children:Be(f)})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Z(f,"remove_avatar"),className:"p-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg text-red-300 transition-colors",title:"حذف",children:n.jsx(w0,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Z(f,"change_avatar"),className:"p-2 bg-yellow-500/20 hover:bg-yellow-500/30 border border-yellow-500/50 rounded-lg text-yellow-300 transition-colors",title:"تغيير",children:n.jsx(g0,{className:"w-4 h-4"})})]})]})})]},f.userId))}),i&&i.totalPages>1&&n.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[i.hasPrevPage&&n.jsx("button",{onClick:()=>P(r-1,l),className:"px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-white transition-colors",children:"السابق"}),Array.from({length:i.totalPages},(f,S)=>S+1).map(f=>n.jsx("button",{onClick:()=>P(f,l),className:`px-4 py-2 rounded-lg transition-colors ${f===r?"bg-purple-500 text-white":"bg-white/10 hover:bg-white/20 border border-white/20 text-white"}`,children:f},f)),i.hasNextPage&&n.jsx("button",{onClick:()=>P(r+1,l),className:"px-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-white transition-colors",children:"التالي"})]})]})]}),u&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-slate-800 rounded-3xl p-8 max-w-md w-full border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-white",children:["إدارة صور المستخدم ",g==null?void 0:g.userId]}),n.jsx("button",{onClick:Re,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:n.jsx(ha,{className:"w-5 h-5 text-gray-400"})})]}),n.jsxs("form",{onSubmit:Pe,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"الإجراء"}),n.jsxs("select",{value:b,onChange:f=>N(f.target.value),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0,children:[n.jsx("option",{value:"",children:"اختر الإجراء"}),n.jsx("option",{value:"remove_avatar",children:"حذف الصورة الشخصية"}),n.jsx("option",{value:"change_avatar",children:"تغيير الصورة الشخصية"})]})]}),b.startsWith("change_")&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"اختر الصورة"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden",id:"imageFile"}),n.jsxs("label",{htmlFor:"imageFile",className:"w-full bg-purple-500/20 hover:bg-purple-500/30 border border-purple-500/50 rounded-xl px-4 py-3 text-purple-300 cursor-pointer transition-colors flex items-center justify-center gap-2",children:[n.jsx(Df,{className:"w-5 h-5"}),"اختيار ملف"]})]}),C&&n.jsx("div",{className:"mt-4",children:n.jsx("img",{src:C,alt:"معاينة الصورة",className:"w-full max-h-40 object-cover rounded-xl"})})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200",children:"حفظ التغييرات"}),n.jsx("button",{type:"button",onClick:Re,className:"flex-1 bg-gray-500/20 hover:bg-gray-500/30 border border-gray-500/50 text-gray-300 font-semibold py-3 px-6 rounded-xl transition-all duration-200",children:"إلغاء"})]})]})]})})]})},xi=({userData:e,onLogout:t})=>{const[r,s]=y.useState("users"),[l,o]=y.useState([]),[i,a]=y.useState(null),[c,d]=y.useState(""),[g,w]=y.useState(!1),[b,N]=y.useState(null),[j,k]=y.useState({numBoxes:10,winRatio:.3}),[C,m]=y.useState([]);y.useEffect(()=>{e!=null&&e.isAdmin&&(p(),M(),L())},[e]);const u=(x,z)=>{N({type:x,text:z}),setTimeout(()=>N(null),5e3)},p=async()=>{w(!0);try{const x=await ee.getAllUsersAdmin();console.log("📥 Loaded users:",x.users);const z=(x.users||[]).map(te=>({...te,id:te.id||te.userId||te._id,userId:te.userId||te.id||te._id}));console.log("✅ Processed users:",z),o(z)}catch(x){console.error("❌ Error loading users:",x),u("error","خطأ في تحميل المستخدمين")}finally{w(!1)}},M=async()=>{try{const x=await ee.getGameSettings();k(x)}catch(x){console.error("خطأ في تحميل إعدادات اللعبة:",x)}},L=async()=>{try{const x=await ee.getSuspiciousActivities();m(x||[])}catch(x){console.error("خطأ في تحميل النشاطات المشبوهة:",x),m([])}},R=async x=>{if(!x.trim()){p();return}w(!0);try{const z=await ee.searchUsersAdmin(x);o(z.users||[])}catch{u("error","خطأ في البحث")}finally{w(!1)}},P=async(x,z)=>{try{if(!x||x==="undefined"||x===""){console.error("❌ Invalid userId:",x),console.error("❌ Updates object:",z),u("error","خطأ: معرف المستخدم غير صحيح. يرجى إعادة تحميل الصفحة.");return}if(console.log("🔄 Updating user:",x,"with updates:",z),z.playerId){if(!/^\d{6}$/.test(z.playerId)){u("error","معرف اللاعب يجب أن يكون 6 أرقام فقط");return}await ee.updatePlayerId(x,z.playerId),u("success","تم تحديث معرف اللاعب بنجاح")}const{playerId:te,...de}=z;Object.keys(de).length>0&&(await ee.updateUserAdmin(x,de),u("success","تم تحديث المستخدم بنجاح")),p(),a(null)}catch{u("error","خطأ في تحديث المستخدم")}},U=async()=>{try{await ee.updateGameSettings(j),u("success","تم حفظ إعدادات اللعبة بنجاح")}catch{u("error","خطأ في حفظ الإعدادات")}},Z=l.filter(x=>x.username.toLowerCase().includes(c.toLowerCase())||x.email.toLowerCase().includes(c.toLowerCase()));return e!=null&&e.isAdmin?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:[n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:n.jsxs("div",{className:"absolute -inset-10 opacity-20",children:[n.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),n.jsx("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-1000"}),n.jsx("div",{className:"absolute bottom-1/4 left-1/2 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-2000"})]})}),n.jsxs("div",{className:"relative z-10 px-4 py-4",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center relative",children:[n.jsx(Tn,{className:"w-6 h-6 text-white"}),n.jsx(Rl,{className:"w-3 h-3 text-white absolute -top-1 -right-1"})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"لوحة تحكم المشرف"}),n.jsx("p",{className:"text-gray-300 text-sm",children:"INFINITY BOX"})]})]}),n.jsx("button",{onClick:t,className:"bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg px-3 py-2 text-red-300 hover:text-red-200 transition-all duration-200 text-sm",children:"خروج"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl px-3 py-2 border border-white/20 flex items-center gap-2",children:[n.jsx(Tn,{className:"w-4 h-4 text-yellow-400"}),n.jsxs("span",{className:"text-sm text-gray-300",children:["مرحباً، ",e.username]})]})]}),b&&n.jsx("div",{className:`mb-6 p-4 rounded-2xl border ${b.type==="success"?"bg-green-500/20 border-green-500/50 text-green-300":b.type==="error"?"bg-red-500/20 border-red-500/50 text-red-300":"bg-blue-500/20 border-blue-500/50 text-blue-300"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[b.type==="success"&&n.jsx(di,{className:"w-5 h-5"}),b.type==="error"&&n.jsx(Qs,{className:"w-5 h-5"}),b.type==="info"&&n.jsx(pi,{className:"w-5 h-5"}),n.jsx("span",{children:b.text})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6",children:[{id:"users",label:"إدارة المستخدمين",shortLabel:"المستخدمين",icon:kr,color:"from-blue-500 to-cyan-500"},{id:"game",label:"إعدادات اللعبة",shortLabel:"الألعاب",icon:$c,color:"from-green-500 to-emerald-500"},{id:"suspicious",label:"النشاطات المشبوهة",shortLabel:"المشبوهة",icon:ai,color:"from-red-500 to-pink-500"},{id:"images",label:"إدارة الصور",shortLabel:"الصور",icon:Ln,color:"from-purple-500 to-indigo-500"}].map(x=>n.jsxs("button",{onClick:()=>s(x.id),className:`flex flex-col items-center gap-2 px-3 py-3 rounded-xl transition-all duration-200 ${r===x.id?`bg-gradient-to-r ${x.color} text-white shadow-lg`:"bg-white/10 hover:bg-white/20 text-gray-300"}`,children:[n.jsx(x.icon,{className:"w-6 h-6"}),n.jsx("span",{className:"text-sm font-medium",children:x.shortLabel})]},x.id))}),n.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-2xl overflow-hidden",children:[r==="users"&&n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx(kr,{className:"w-5 h-5 text-blue-400"}),"المستخدمين (",Z.length,")"]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>{console.log("🧹 Clearing local data..."),ee.clearLocalData(),u("info","تم تنظيف البيانات المحلية. سيتم إعادة تحميل الصفحة..."),setTimeout(()=>window.location.reload(),1e3)},className:"flex-1 flex items-center justify-center gap-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-lg px-3 py-2 text-red-300 transition-colors text-sm",children:[n.jsx(Qs,{className:"w-4 h-4"}),"تنظيف البيانات"]}),n.jsxs("button",{onClick:p,className:"flex-1 flex items-center justify-center gap-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/50 rounded-lg px-3 py-2 text-blue-300 transition-colors text-sm",children:[n.jsx(xr,{className:"w-4 h-4"}),"تحديث"]})]})]}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(fi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",value:c,onChange:x=>{d(x.target.value),R(x.target.value)},placeholder:"البحث عن المستخدمين...",className:"w-full bg-white/10 border border-white/20 rounded-xl px-10 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",autoComplete:"off"})]}),g?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(xr,{className:"w-6 h-6 text-blue-400 animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-300 text-sm",children:"جاري التحميل..."})]}):n.jsx("div",{className:"space-y-3",children:Z.map(x=>n.jsxs("div",{className:"bg-white/10 rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center text-sm font-bold",children:x.username.charAt(0).toUpperCase()}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("h3",{className:"font-semibold text-white flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"truncate",children:x.username}),x.isAdmin&&n.jsx(Tn,{className:"w-3 h-3 text-yellow-400 flex-shrink-0"})]}),n.jsx("p",{className:"text-xs text-gray-400 truncate",children:x.email}),n.jsxs("p",{className:"text-xs text-blue-400",children:["المعرف: ",x.playerId]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[n.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[n.jsx(Pl,{className:"w-3 h-3 text-yellow-400"}),n.jsx("span",{className:"text-yellow-400 font-semibold text-sm",children:x.goldCoins||x.coins||0})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"العملات"})]}),n.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[n.jsx(mr,{className:"w-3 h-3 text-purple-400"}),n.jsx("span",{className:"text-purple-400 font-semibold text-sm",children:x.pearls||0})]}),n.jsx("p",{className:"text-xs text-gray-400",children:"اللآلئ"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>a(x),className:"flex-1 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/50 rounded-lg px-2 py-2 text-blue-300 text-xs transition-colors flex items-center justify-center gap-1",children:[n.jsx(g0,{className:"w-3 h-3"}),"تعديل"]}),n.jsxs("button",{onClick:()=>P(x.id||x._id,{isAdmin:!x.isAdmin}),className:`flex-1 border rounded-lg px-2 py-2 text-xs transition-colors flex items-center justify-center gap-1 ${x.isAdmin?"bg-red-500/20 hover:bg-red-500/30 border-red-500/50 text-red-300":"bg-green-500/20 hover:bg-green-500/30 border-green-500/50 text-green-300"}`,children:[x.isAdmin?n.jsx(gi,{className:"w-3 h-3"}):n.jsx(Jf,{className:"w-3 h-3"}),x.isAdmin?"إلغاء":"ترقية"]})]})]},x.id))})]}),r==="game"&&n.jsxs("div",{className:"p-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[n.jsx($c,{className:"w-5 h-5 text-green-400"}),"إعدادات اللعبة"]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[n.jsx("h3",{className:"text-base font-semibold text-white mb-4",children:"إعدادات صناديق الحظ"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"عدد الصناديق في الجولة"}),n.jsx("input",{type:"number",min:"5",max:"100",value:j.numBoxes,onChange:x=>k(z=>({...z,numBoxes:parseInt(x.target.value)})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-3 text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"نسبة الفوز (من 0.1 إلى 0.9)"}),n.jsx("input",{type:"number",min:"0.1",max:"0.9",step:"0.1",value:j.winRatio,onChange:x=>k(z=>({...z,winRatio:parseFloat(x.target.value)})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-3 text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"})]}),n.jsxs("button",{onClick:U,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2 text-sm",children:[n.jsx(Qf,{className:"w-4 h-4"}),"حفظ الإعدادات"]})]})]})})]}),r==="suspicious"&&n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[n.jsx(ai,{className:"w-6 h-6 text-red-400"}),"النشاطات المشبوهة"]}),n.jsxs("button",{onClick:L,className:"flex items-center gap-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 rounded-xl px-4 py-2 text-red-300 transition-colors",children:[n.jsx(xr,{className:"w-4 h-4"}),"تحديث"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsx("div",{className:"bg-red-500/20 rounded-2xl p-6 border border-red-500/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(pi,{className:"w-8 h-8 text-red-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-red-300",children:C.length}),n.jsx("p",{className:"text-sm text-red-400",children:"مستخدمين مشبوهين"})]})]})}),n.jsx("div",{className:"bg-orange-500/20 rounded-2xl p-6 border border-orange-500/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($f,{className:"w-8 h-8 text-orange-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-orange-300",children:C.filter(x=>x.riskLevel==="high").length}),n.jsx("p",{className:"text-sm text-orange-400",children:"مخاطر عالية"})]})]})}),n.jsx("div",{className:"bg-yellow-500/20 rounded-2xl p-6 border border-yellow-500/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Yn,{className:"w-8 h-8 text-yellow-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-yellow-300",children:C.filter(x=>x.riskLevel==="medium").length}),n.jsx("p",{className:"text-sm text-yellow-400",children:"تحت المراقبة"})]})]})})]}),C.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(di,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"لا توجد نشاطات مشبوهة"}),n.jsx("p",{className:"text-gray-300",children:"جميع المستخدمين يتصرفون بشكل طبيعي"})]}):n.jsx("div",{className:"space-y-4",children:C.map((x,z)=>{var te,de;return n.jsx("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-red-500 to-pink-500 rounded-full flex items-center justify-center text-lg font-bold",children:((de=(te=x.username)==null?void 0:te.charAt(0))==null?void 0:de.toUpperCase())||"?"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white",children:x.username}),n.jsxs("p",{className:"text-sm text-gray-400",children:["آخر نشاط: ",x.lastActivity]})]})]}),n.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-semibold ${x.riskLevel==="high"?"bg-red-500/20 text-red-300":x.riskLevel==="medium"?"bg-yellow-500/20 text-yellow-300":"bg-green-500/20 text-green-300"}`,children:x.riskLevel==="high"?"خطر عالي":x.riskLevel==="medium"?"خطر متوسط":"خطر منخفض"})]})},z)})})]}),r==="images"&&n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[n.jsx(Ln,{className:"w-6 h-6 text-purple-400"}),"إدارة الصور"]}),n.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Ln,{className:"w-5 h-5 text-purple-400"}),n.jsx("h3",{className:"font-semibold text-purple-300",children:"إدارة صور المستخدمين"})]}),n.jsx("p",{className:"text-gray-300 text-sm",children:"عرض وإدارة جميع صور المستخدمين، حذف الصور غير المناسبة، والبحث في المستخدمين."})]})]}),n.jsx(Lp,{})]})]})]}),i&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-slate-800 rounded-3xl p-8 max-w-md w-full border border-white/20",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"تعديل المستخدم"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"معرف اللاعب"}),n.jsx("input",{type:"text",value:i.playerId,onChange:x=>a(z=>z?{...z,playerId:x.target.value}:null),maxLength:6,pattern:"\\d{6}",className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"6 أرقام فقط"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"اسم المستخدم"}),n.jsx("input",{type:"text",value:i.username,onChange:x=>a(z=>z?{...z,username:x.target.value}:null),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"username"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"العملات الذهبية"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"number",value:i.goldCoins||i.coins||0,onChange:x=>a(z=>z?{...z,goldCoins:parseInt(x.target.value)}:null),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"off"}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx("button",{type:"button",onClick:()=>a(x=>x?{...x,goldCoins:(x.goldCoins||x.coins||0)+1e3}:null),className:"px-3 py-1 bg-yellow-500/20 border border-yellow-500/50 rounded-lg text-yellow-300 text-sm hover:bg-yellow-500/30 transition-colors",children:"+1,000"}),n.jsx("button",{type:"button",onClick:()=>a(x=>x?{...x,goldCoins:(x.goldCoins||x.coins||0)+5e3}:null),className:"px-3 py-1 bg-yellow-500/20 border border-yellow-500/50 rounded-lg text-yellow-300 text-sm hover:bg-yellow-500/30 transition-colors",children:"+5,000"}),n.jsx("button",{type:"button",onClick:()=>a(x=>x?{...x,goldCoins:(x.goldCoins||x.coins||0)+1e4}:null),className:"px-3 py-1 bg-yellow-500/20 border border-yellow-500/50 rounded-lg text-yellow-300 text-sm hover:bg-yellow-500/30 transition-colors",children:"+10,000"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"اللآلئ"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"number",value:i.pearls||0,onChange:x=>a(z=>z?{...z,pearls:parseInt(x.target.value)}:null),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",autoComplete:"off"}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx("button",{type:"button",onClick:()=>a(x=>x?{...x,pearls:(x.pearls||0)+1}:null),className:"px-3 py-1 bg-purple-500/20 border border-purple-500/50 rounded-lg text-purple-300 text-sm hover:bg-purple-500/30 transition-colors",children:"+1"}),n.jsx("button",{type:"button",onClick:()=>a(x=>x?{...x,pearls:(x.pearls||0)+5}:null),className:"px-3 py-1 bg-purple-500/20 border border-purple-500/50 rounded-lg text-purple-300 text-sm hover:bg-purple-500/30 transition-colors",children:"+5"}),n.jsx("button",{type:"button",onClick:()=>a(x=>x?{...x,pearls:(x.pearls||0)+10}:null),className:"px-3 py-1 bg-purple-500/20 border border-purple-500/50 rounded-lg text-purple-300 text-sm hover:bg-purple-500/30 transition-colors",children:"+10"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",id:"isAdmin",checked:i.isAdmin,onChange:x=>a(z=>z?{...z,isAdmin:x.target.checked}:null),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"isAdmin",className:"text-sm font-medium text-gray-300",children:"صلاحيات المشرف"})]})]}),n.jsxs("div",{className:"flex gap-4 mt-8",children:[n.jsx("button",{onClick:()=>{const x=i.id||i.userId;if(console.log("🔍 Selected user data:",i),console.log("🔍 Extracted userId:",x),!x){u("error","خطأ: لا يمكن العثور على معرف المستخدم. يرجى إعادة تحميل الصفحة.");return}P(x,i)},className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200",children:"حفظ التغييرات"}),n.jsx("button",{onClick:()=>a(null),className:"flex-1 bg-gray-500/20 hover:bg-gray-500/30 border border-gray-500/50 text-gray-300 font-semibold py-3 px-6 rounded-xl transition-all duration-200",children:"إلغاء"})]})]})})]}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:n.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-3xl p-8 text-center max-w-md",children:[n.jsx(Qs,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"غير مصرح"}),n.jsx("p",{className:"text-red-300 mb-6",children:"ليس لديك صلاحيات للوصول إلى لوحة تحكم المشرف"}),n.jsx("button",{onClick:t,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-xl transition-colors",children:"العودة لتسجيل الدخول"})]})})};class _0{constructor(t){this.url=t,this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.messageHandlers=new Map}connect(t){return new Promise((r,s)=>{try{this.ws=new WebSocket(`${this.url}?token=${t}`),this.ws.onopen=()=>{console.log("🔌 WebSocket connected"),this.reconnectAttempts=0,r()},this.ws.onmessage=l=>{try{const o=JSON.parse(l.data);this.handleMessage(o)}catch(o){console.error("Error parsing WebSocket message:",o)}},this.ws.onclose=()=>{console.log("🛑 WebSocket disconnected"),this.handleReconnect()},this.ws.onerror=l=>{console.error("WebSocket error:",l),s(l)}}catch(l){s(l)}})}handleReconnect(){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`🔄 Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connect(this.getTokenFromUrl()).catch(t=>{console.error("Reconnection failed:",t)})},this.reconnectDelay*this.reconnectAttempts)):console.error("❌ Max reconnection attempts reached")}getTokenFromUrl(){return new URLSearchParams(window.location.search).get("token")||""}handleMessage(t){const r=this.messageHandlers.get(t.type);r&&r.forEach(s=>s(t.data))}sendMessage(t,r){if(this.ws&&this.ws.readyState===WebSocket.OPEN){const s={type:t,data:r,timestamp:Date.now()};this.ws.send(JSON.stringify(s))}else console.warn("WebSocket is not connected")}sendPrivateMessage(t,r){this.sendMessage("private_message",{messageData:t,recipientId:r})}onMessage(t,r){this.messageHandlers.has(t)||this.messageHandlers.set(t,[]),this.messageHandlers.get(t).push(r)}offMessage(t,r){const s=this.messageHandlers.get(t);if(s){const l=s.indexOf(r);l>-1&&s.splice(l,1)}}addMessageListener(t){["voice_room_message","voice_room_update","admin_action_update","webrtc_offer","webrtc_answer","webrtc_ice_candidate","new_message","private_message"].forEach(s=>{this.onMessage(s,t)})}removeMessageListener(t){["voice_room_message","voice_room_update","webrtc_offer","webrtc_answer","webrtc_ice_candidate","new_message","private_message"].forEach(s=>{this.offMessage(s,t)})}send(t){if(this.ws&&this.ws.readyState===WebSocket.OPEN)try{const r={...t,timestamp:Date.now()};this.ws.send(JSON.stringify(r))}catch(r){console.error("Error sending WebSocket message:",r),setTimeout(()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(t))},1e3)}else console.warn("WebSocket is not connected. Message not sent:",t)}disconnect(){this.ws&&(this.ws.close(),this.ws=null)}}const Pp=`
  @keyframes spin-slow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  @keyframes glow {
    0%, 100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
    50% { box-shadow: 0 0 30px rgba(59, 130, 246, 0.8); }
  }

  .animate-spin-slow {
    animation: spin-slow 3s linear infinite;
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.textContent=Pp,document.head.appendChild(e)}const Rp=({userData:e,isOwner:t,onUpdateProfile:r,onLogout:s})=>{var Na,ka,Sa,Ca,Ma;const[l,o]=y.useState("overview"),[i,a]=y.useState(!1),[c,d]=y.useState(""),[g,w]=y.useState((e==null?void 0:e.gender)||"male"),[b,N]=y.useState(!1),[j,k]=y.useState({gems:0,stars:0,coins:0,bombs:0,bats:0,snakes:0}),[C,m]=y.useState(!1),[u,p]=y.useState(!1),[M,L]=y.useState(""),[R,P]=y.useState(!1),[U,Z]=y.useState(null),[x,z]=y.useState(""),[te,de]=y.useState(null),[Pe,Re]=y.useState(!1),[Be,Ne]=y.useState(""),[f,S]=y.useState(null),[I,$]=y.useState(100),[q,re]=y.useState("gold"),[Q,G]=y.useState(""),[D,X]=y.useState(!1),[we,Rt]=y.useState([]),[Nt,is]=y.useState([]),[ke,Mr]=y.useState([]),[zt,et]=y.useState(!1),[ze,as]=y.useState(1e4),[an,cs]=y.useState(!1),[gt,Ol]=y.useState(250),[Er,ds]=y.useState({"1_dollar":!0,"5_dollar":!0}),[pe,xt]=y.useState(""),[lr,tt]=y.useState(""),[Ir,us]=y.useState(!1),[Ve,Ar]=y.useState([]),[Ul,ms]=y.useState(!1),[cn,dn]=y.useState(!1),[ue,hs]=y.useState(null),[v,A]=y.useState([]),[V,H]=y.useState("");y.useState(!1);const[O,se]=y.useState(!1),[xe,kt]=y.useState(!1);(h=>h==="female"?{primary:"from-pink-500 to-red-400",secondary:"bg-pink-50",accent:"text-pink-600",button:"bg-pink-500 hover:bg-pink-600",border:"border-pink-200"}:{primary:"from-blue-500 to-yellow-400",secondary:"bg-blue-50",accent:"text-blue-600",button:"bg-blue-500 hover:bg-blue-600",border:"border-blue-200"})((e==null?void 0:e.gender)||"male"),y.useEffect(()=>{let h=!0;const _=setTimeout(async()=>{if(t&&(e!=null&&e.id)&&h)try{const W=localStorage.getItem("token");if(!W)return;const K=await fetch("/api/profile/me",{method:"GET",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}});if(K.ok&&h){const J=K.headers.get("content-type");if(J&&J.includes("application/json")){const or=await K.json();r&&h&&r(or)}}}catch(W){console.error("❌ Error fetching complete user data:",W)}},100);return()=>{h=!1,clearTimeout(_)}},[t,e==null?void 0:e.id]),y.useEffect(()=>{e!=null&&e.id&&(P0(),D0(),t&&ga())},[e==null?void 0:e.id,t]),y.useEffect(()=>{if(t&&(e!=null&&e.id))return L0()},[t,e==null?void 0:e.id]);const Ut=new _0(`ws${window.location.protocol==="https:"?"s":""}://${window.location.host}/ws`);y.useEffect(()=>{let h=!0;if(t&&(e!=null&&e.id)&&h){xa(),fs(),z0(),ps(),F0();const E=setInterval(()=>{h&&(fs(),ps())},3e5);return()=>{h=!1,clearInterval(E)}}},[t,e==null?void 0:e.id]);const L0=()=>{console.log("🔧 Setting up message listener...");const h=E=>{if(console.log("📨 WebSocket message received:",E),E.messageData){const _=E.messageData.sender._id,W=E.messageData.recipient._id,K=e==null?void 0:e.id;if(console.log("📋 Message details:",{senderId:_,recipientId:W,currentUserId:K,showChat:cn,chatUserId:(ue==null?void 0:ue.id)||(ue==null?void 0:ue._id)}),W===K)if(console.log("✅ Message is for me, processing..."),cn&&ue&&(_===ue.id||_===ue._id)){console.log("💬 Adding message to open chat"),A(J=>J.some(X0=>X0._id===E.messageData._id)?(console.log("⚠️ Message already exists, skipping"),J):(console.log("✅ Adding new message to chat"),[...J,E.messageData])),setTimeout($l,100);try{const J=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT");J.volume=.5,J.play().catch(()=>{})}catch{}}else{console.log("🔔 Chat not open, refreshing notifications"),ps();try{const J=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT");J.volume=.3,J.play().catch(()=>{})}catch{}}else console.log("ℹ️ Message not for me, ignoring")}else console.log("⚠️ No messageData in WebSocket message")};return Ut.offMessage("new_message",h),Ut.onMessage("new_message",h),console.log("✅ Message listener added"),()=>{console.log("🧹 Cleaning up message listener"),Ut.offMessage("new_message",h)}},P0=async()=>{try{const h=localStorage.getItem("token");if(!h){console.warn("No token found for fetching user items");return}const E=await fetch(`/api/user-items/${e.id}`,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(E.ok){const _=await E.json();k(_.items),console.log("✅ User items fetched successfully:",_.items)}else console.error("❌ Failed to fetch user items:",E.status,E.statusText)}catch(h){console.error("Error fetching user items:",h)}},ga=async()=>{try{const h=localStorage.getItem("token");if(!h){console.warn("No token found for fetching user shield");return}const E=await fetch(`/api/profile/shield/${e.id}`,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(E.ok){const _=await E.json();Z(_.shield),console.log("✅ User shield fetched successfully:",_.shield)}else console.error("❌ Failed to fetch user shield:",E.status,E.statusText)}catch(h){console.error("Error fetching user shield:",h)}},R0=async(h,E)=>{if(!R){P(!0);try{const _=localStorage.getItem("token"),W=await fetch("/api/profile/activate-shield",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({shieldType:h})}),K=await W.json();W.ok?(Z(K.shield),r&&K.newBalance!==void 0&&r({goldCoins:K.newBalance}),alert(K.message),await ga()):alert(K.message||"فشل في تفعيل الدرع الواقي")}catch(_){console.error("Error activating shield:",_),alert("حدث خطأ في تفعيل الدرع الواقي")}finally{P(!1)}}},xa=async()=>{try{const h=localStorage.getItem("token");if(!h)return;const E=await fetch("/api/profile/friends",{headers:{Authorization:`Bearer ${h}`}});if(E.ok){const _=await E.json();Rt(_),console.log("✅ Friends fetched:",_.length)}}catch(h){console.error("Error fetching friends:",h)}},fs=async()=>{try{const h=localStorage.getItem("token");if(!h)return;const E=await fetch("/api/profile/friend-requests",{headers:{Authorization:`Bearer ${h}`}});if(E.ok){const _=await E.json();is(_),console.log("✅ Friend requests fetched:",_.length)}}catch(h){console.error("Error fetching friend requests:",h)}},z0=async()=>{try{const h=localStorage.getItem("token");if(!h)return;const E=await fetch("/api/profile/gifts",{headers:{Authorization:`Bearer ${h}`}});if(E.ok){const _=await E.json();Mr(_),console.log("✅ Gifts fetched:",_.length)}}catch(h){console.error("Error fetching gifts:",h)}},ya=async()=>{if(!x.trim()){Ne("يرجى إدخال رقم اللاعب");return}if(x.length!==6){Ne("رقم اللاعب يجب أن يكون 6 أرقام");return}Re(!0),Ne(""),de(null);try{const h=localStorage.getItem("token"),E=await fetch(`/api/users/search-by-id/${x}`,{headers:{Authorization:`Bearer ${h}`}});if(E.ok){const _=await E.json();de(_),console.log("✅ User found:",_.username)}else Ne("لم يتم العثور على لاعب بهذا الرقم")}catch(h){console.error("Error searching for friend:",h),Ne("حدث خطأ أثناء البحث")}finally{Re(!1)}},O0=async h=>{try{const E=localStorage.getItem("token"),_=await fetch("/api/profile/friend-request",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({friendId:h})});if(_.ok){const W=await _.json();alert(W.message),de(null),z(""),await ps()}else{const W=await _.json();alert(W.message||"فشل في إرسال طلب الصداقة")}}catch(E){console.error("Error sending friend request:",E),alert("حدث خطأ في إرسال طلب الصداقة")}},U0=async()=>{if(f){X(!0);try{const h=localStorage.getItem("token"),E=await fetch("/api/profile/send-gift",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({toUserId:f.id,giftType:q,amount:I,message:Q})});if(E.ok){const _=await E.json();alert(_.message),S(null),G(""),$(100),r&&_.fromUserBalance&&r(_.fromUserBalance)}else{const _=await E.json();alert(_.message||"فشل في إرسال الهدية")}}catch(h){console.error("Error sending gift:",h),alert("حدث خطأ في إرسال الهدية")}finally{X(!1)}}},$0=async h=>{try{const E=localStorage.getItem("token"),_=await fetch("/api/profile/accept-friend",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({friendshipId:h})});if(_.ok){const W=await _.json();alert(W.message),await fs(),await xa()}else{const W=await _.json();alert(W.message||"فشل في قبول طلب الصداقة")}}catch(E){console.error("Error accepting friend request:",E),alert("حدث خطأ في قبول طلب الصداقة")}},F0=async()=>{try{const h=localStorage.getItem("token"),E=await fetch("/api/profile/free-charges",{headers:{Authorization:`Bearer ${h}`}});if(E.ok){const _=await E.json();ds(_.availableCharges)}}catch(h){console.error("Error fetching free charges:",h)}},va=async(h,E=!1,_)=>{et(!0);try{const W=localStorage.getItem("token"),K=await fetch("/api/profile/charge-balance",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify({amount:h,isFree:E,chargeType:_})});if(K.ok){const J=await K.json();alert(J.message),r&&J.newBalance!==void 0&&r({goldCoins:J.newBalance}),E&&_&&ds(or=>({...or,[_]:!1}))}else{const J=await K.json();alert(J.message||"فشل في شحن الرصيد")}}catch(W){console.error("Error charging balance:",W),alert("حدث خطأ في شحن الرصيد")}finally{et(!1)}},B0=async()=>{if(ze<1e4){alert("الحد الأدنى للتحويل هو 10,000 عملة ذهبية");return}if(ze%1e4!==0){alert("يجب أن تكون الكمية مضاعفات 10,000");return}if(((e==null?void 0:e.goldCoins)||0)<ze){alert("رصيد العملات الذهبية غير كافي");return}cs(!0);try{const h=localStorage.getItem("token"),E=await fetch("/api/profile/exchange-gold-to-pearls",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({goldAmount:ze})});if(E.ok){const _=await E.json();alert(_.message),r&&_.newBalance&&r(_.newBalance),as(1e4)}else{const _=await E.json();alert(_.message||"فشل في تحويل العملات")}}catch(h){console.error("Error exchanging gold to pearls:",h),alert("حدث خطأ في تحويل العملات")}finally{cs(!1)}},V0=async()=>{if(gt<250){alert("الحد الأدنى للسحب هو 250 لؤلؤة ($25)");return}if(((e==null?void 0:e.pearls)||0)<gt){alert("رصيد اللآلئ غير كافي");return}const _=`https://wa.me/1234567890?text=${`طلب سحب دولارات%0Aالمبلغ: $${gt/10}%0Aاللآلئ المطلوبة: ${gt}%0Aاسم المستخدم: ${e==null?void 0:e.username}%0Aرقم اللاعب: ${e==null?void 0:e.playerId}`}`;window.open(_,"_blank")},q0=async()=>{if(!pe){alert("يرجى اختيار عنصر للإرسال");return}if(!lr||lr.length!==6){alert("يرجى إدخال رقم لاعب صحيح (6 أرقام)");return}us(!0);try{const h=localStorage.getItem("token"),E=await fetch(`/api/users/search-by-id/${lr}`,{headers:{Authorization:`Bearer ${h}`}});if(!E.ok){alert("لم يتم العثور على لاعب بهذا الرقم");return}const _=await E.json(),W=await fetch("/api/profile/send-item",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({toUserId:_.id,itemType:pe,message:`عنصر ${wa(pe)} من ${e==null?void 0:e.username}`})});if(W.ok){const K=await W.json();alert(K.message),xt(""),tt("")}else{const K=await W.json();alert(K.message||"فشل في إرسال العنصر")}}catch(h){console.error("Error sending item:",h),alert("حدث خطأ في إرسال العنصر")}finally{us(!1)}},wa=h=>({bomb:"قنبلة مدمرة",bat:"خفاش مؤذي",snake:"ثعبان سام",gem:"جوهرة نادرة",star:"نجمة ذهبية",coin:"عملة خاصة",gold:"عملات ذهبية"})[h]||h,ba=(h,E)=>{const W=`https://wa.me/1234567890?text=${`طلب شحن رصيد%0Aالمبلغ المطلوب: ${h} عملة ذهبية%0Aالسعر: ${E}%0Aاسم المستخدم: ${e==null?void 0:e.username}%0Aرقم اللاعب: ${e==null?void 0:e.playerId}%0Aالرصيد الحالي: ${(e==null?void 0:e.goldCoins)||0} عملة`}`;window.open(W,"_blank")},ps=async()=>{try{const h=localStorage.getItem("token");if(!h)return;const E=await fetch("/api/notifications",{headers:{Authorization:`Bearer ${h}`}});if(E.ok){const _=await E.json();Ar(_),console.log("✅ Notifications fetched:",_.length);const W=_.filter(J=>{var or;return!J.isRead&&J.type==="item_received"&&((or=J.data)==null?void 0:or.newBalance)});if(W.length>0&&r){const J=W[0];r(J.data.newBalance),console.log("💰 Balance updated from item notification:",J.data.newBalance)}_.filter(J=>J.type==="friend_request"&&!J.isRead).length>0&&(console.log("🤝 New friend request notifications found, refreshing friend requests"),await fs())}}catch(h){console.error("Error fetching notifications:",h)}},H0=async h=>{try{const E=localStorage.getItem("token");(await fetch(`/api/notifications/${h}/read`,{method:"PUT",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}})).ok&&(Ar(W=>W.map(K=>K._id===h?{...K,isRead:!0}:K)),console.log("✅ Notification marked as read:",h))}catch(E){console.error("Error marking notification as read:",E)}},W0=async()=>{try{const h=localStorage.getItem("token");(await fetch("/api/notifications/mark-all-read",{method:"PUT",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}})).ok&&(Ar(_=>_.map(W=>({...W,isRead:!0}))),console.log("✅ All notifications marked as read"))}catch(h){console.error("Error marking all notifications as read:",h)}},Q0=async h=>{try{const E=localStorage.getItem("token");if(!E){console.log("❌ No token found");return}console.log("📥 Fetching messages for user:",h);const _=await fetch(`/api/messages/${h}`,{headers:{Authorization:`Bearer ${E}`}});if(_.ok){const W=await _.json();console.log("✅ Messages fetched:",W.length),A(W)}else{const W=await _.json();console.error("❌ Failed to fetch messages:",W)}}catch(E){console.error("Error fetching messages:",E)}},ja=async()=>{if(!V.trim()||!ue){console.log("❌ Missing message or chat user:",{newMessage:V,chatUser:ue});return}const h=ue.id||ue._id;if(!h){console.error("❌ No recipient ID found:",ue),alert("خطأ: لا يمكن تحديد المستقبل");return}console.log("📤 Sending message:",{recipientId:h,content:V});try{const E=localStorage.getItem("token"),_=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({recipientId:h,content:V})});if(_.ok){const W=await _.json();console.log("✅ Message sent successfully:",W),A([...v,W.messageData]),H(""),$l(),Ut&&Ut.sendPrivateMessage(W.messageData,h);try{const K=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT");K.volume=.3,K.play().catch(()=>{})}catch{}}else{const W=await _.json();console.error("❌ Message send failed:",W),alert(W.message||"فشل في إرسال الرسالة")}}catch(E){console.error("Error sending message:",E),alert("حدث خطأ في إرسال الرسالة")}},$l=()=>{setTimeout(()=>{const h=document.getElementById("messages-container");h&&h.scrollTo({top:h.scrollHeight,behavior:"smooth"})},100)},G0=h=>{console.log("💬 Opening chat with user:",h);const E=h.id||h._id;console.log("📋 User ID for messages:",E),hs(h),dn(!0),A([]),E?Q0(E).then(()=>{$l()}):console.error("❌ No user ID found for chat")},D0=async()=>{if(!t&&(e!=null&&e.id))try{const h=localStorage.getItem("token");if(!h){console.warn("No token found for checking friendship");return}const E=await fetch(`/api/friends/check/${e.id}`,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(E.ok){const _=await E.json();m(_.isFriend),console.log("✅ Friendship status checked:",_.isFriend)}else console.error("❌ Failed to check friendship:",E.status),m(!1)}catch(h){console.error("Error checking friendship:",h),m(!1)}},J0=async()=>{if(M.trim())try{const h=localStorage.getItem("token"),E=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({recipientId:e.id,content:M})});if(E.ok)L(""),p(!1),alert("تم إرسال الرسالة بنجاح!");else{const _=await E.json();alert(_.message||"فشل في إرسال الرسالة")}}catch(h){console.error("Error sending message:",h),alert("خطأ في إرسال الرسالة")}},Z0=h=>{var _;const E=(_=h.target.files)==null?void 0:_[0];if(E){if(E.size>5*1024*1024){alert("حجم الصورة كبير جداً. يجب أن يكون أقل من 5 ميجابايت");return}const W=new FileReader;W.onload=K=>{var J;d((J=K.target)==null?void 0:J.result)},W.readAsDataURL(E)}},K0=async()=>{var h,E;N(!0);try{const _=localStorage.getItem("token"),W={gender:g};c&&c!==(e==null?void 0:e.profileImage)&&(W.profileImage=c),console.log("🔄 Updating profile with data:",{hasProfileImage:!!W.profileImage,gender:W.gender,selectedImageLength:(c==null?void 0:c.length)||0,currentImageLength:((h=e==null?void 0:e.profileImage)==null?void 0:h.length)||0});const K=await fetch("/api/profile/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify(W)});if(K.ok){const J=await K.json();console.log("✅ Profile updated successfully:",{hasProfileImage:!!J.profileImage,profileImageLength:((E=J.profileImage)==null?void 0:E.length)||0}),r==null||r(J),d(""),a(!1),alert("تم تحديث الملف الشخصي بنجاح!")}else{const J=await K.json();console.error("❌ Profile update failed:",J),alert(J.message||"فشل في تحديث الملف الشخصي")}}catch(_){console.error("Error updating profile:",_),alert("حدث خطأ في تحديث الملف الشخصي")}finally{N(!1)}},Y0=()=>c||(e!=null&&e.profileImage?e.profileImage:(e==null?void 0:e.gender)==="female"?"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiByeD0iNTAiIGZpbGw9IiNGRjY5QjQiLz4KPHN2ZyB4PSIyNSIgeT0iMjUiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAyQzEzLjEgMiAxNCAyLjkgMTQgNFMxMy4xIDYgMTIgNiAxMCA1LjEgMTAgNFMxMC45IDIgMTIgMlpNMjEgOVYxMUgyMFYxMkMxOS4xIDEyIDE4LjQgMTIuNiAxOC4xIDEzLjNDMTcuMSAxMS45IDE1LjEgMTEgMTMuOCAxMC43QzE0IDEwLjUgMTQuMSAxMC4yIDE0LjEgMTBDMTQgOS4xIDEzLjYgOC40IDEzIDhDMTMuNCA3LjYgMTMuNyA3IDE0IDYuOUMxNS40IDcuNyAxNi4yIDkuMSAxNiAzMEMxOC40IDI5IDEwLjUgMzAgOFMxMS42IDI5IDEwIDI5LjdIMThDMTggMjguNSAxOC4zIDI3LjUgMTguOSAyNi43QzE5LjMgMjcuMSAxOS44IDI3LjMgMjAuNSAyNy4zSDE5QzE5IDI3IDEwLjMgMjcgMTAuNSAyNy4zSDE5LjQgMjEgOVoiLz4KPHN2Zz4KPHN2Zz4K":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiByeD0iNTAiIGZpbGw9IiMzQjgyRjYiLz4KPHN2ZyB4PSIyNSIgeT0iMjUiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAyQTMgMyAwIDAgMSAxNSA1QTMgMyAwIDAgMSAxMiA4QTMgMyAwIDAgMSA5IDVBMyAzIDAgMCAxIDEyIDJNMjEgMjFWMjBDMjEgMTYuMTMgMTcuODcgMTMgMTQgMTNIMTBDNi4xMyAxMyAzIDE2LjEzIDMgMjBWMjFIMjFaIi8+Cjwvc3ZnPgo=");return n.jsxs("div",{className:"max-w-md mx-auto bg-gradient-to-br from-gray-900 via-gray-800 to-black min-h-screen shadow-2xl overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 p-4 text-white relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 opacity-20",children:[n.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 bg-blue-400/10 rounded-full blur-xl animate-pulse"}),n.jsx("div",{className:"absolute top-10 right-0 w-16 h-16 bg-indigo-400/5 rounded-full blur-lg animate-bounce"}),n.jsx("div",{className:"absolute bottom-0 left-1/2 w-24 h-24 bg-slate-400/5 rounded-full blur-2xl animate-pulse delay-1000"})]}),n.jsxs("div",{className:"absolute inset-0 opacity-15",children:[n.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 bg-white/30 rounded-full -translate-x-20 -translate-y-20 blur-xl"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-white/20 rounded-full translate-x-12 translate-y-12 blur-lg"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 w-24 h-24 bg-white/10 rounded-full -translate-x-12 -translate-y-12 blur-md"})]}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex flex-col items-center mb-3",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500 via-indigo-500 to-slate-500 animate-spin-slow opacity-60 blur-sm"}),n.jsxs("div",{className:"relative w-16 h-16 rounded-full overflow-hidden border-2 border-white/70 shadow-lg bg-gradient-to-br from-blue-400 to-indigo-500 ring-1 ring-white/40 backdrop-blur-sm transform group-hover:scale-105 transition-all duration-300",children:[n.jsx("img",{src:Y0(),alt:"الصورة الشخصية",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border border-white shadow-sm animate-pulse"})]}),t&&n.jsx("button",{onClick:()=>{var h;return i?(h=document.getElementById("imageUpload"))==null?void 0:h.click():a(!0)},className:"absolute -bottom-1 -right-1 w-6 h-6 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-full flex items-center justify-center shadow-lg border border-white/60 hover:scale-110 transition-all duration-300",children:n.jsx(Uf,{className:"w-3 h-3 text-white"})}),i&&n.jsx("input",{id:"imageUpload",type:"file",accept:"image/*",onChange:Z0,className:"hidden"})]}),n.jsxs("div",{className:"text-center mt-2",children:[n.jsx("h2",{className:"text-lg font-bold text-white mb-1 drop-shadow-md",children:e==null?void 0:e.username}),n.jsxs("p",{className:"text-white/60 text-xs bg-white/10 px-2 py-0.5 rounded-full backdrop-blur-sm",children:["ID: ",e==null?void 0:e.playerId]}),n.jsxs("div",{className:"flex items-center justify-center mt-1 gap-1",children:[n.jsxs("div",{className:"flex items-center bg-blue-500/20 px-1.5 py-0.5 rounded-full",children:[n.jsx(mr,{className:"w-2.5 h-2.5 text-blue-300 mr-1"}),n.jsxs("span",{className:"text-blue-200 text-xs font-medium",children:["Lv.",(e==null?void 0:e.level)||1]})]}),n.jsxs("div",{className:"flex items-center bg-indigo-500/20 px-1.5 py-0.5 rounded-full",children:[n.jsx(es,{className:"w-2.5 h-2.5 text-indigo-300 mr-1"}),n.jsx("span",{className:"text-indigo-200 text-xs font-medium",children:(e==null?void 0:e.points)||0})]})]})]}),i&&n.jsxs("div",{className:"mt-3 flex space-x-2 rtl:space-x-reverse",children:[n.jsx("button",{onClick:()=>w("male"),className:`px-3 py-1 rounded-full text-xs ${g==="male"?"bg-white text-blue-600":"bg-white/20 text-white"}`,children:"ذكر"}),n.jsx("button",{onClick:()=>w("female"),className:`px-3 py-1 rounded-full text-xs ${g==="female"?"bg-white text-pink-600":"bg-white/20 text-white"}`,children:"أنثى"})]})]}),t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-3 gap-1.5 text-center mt-3",children:[n.jsxs("div",{className:"bg-gradient-to-br from-slate-700/40 to-blue-700/40 rounded-lg p-2 backdrop-blur-sm border border-blue-400/20 hover:scale-105 transition-all duration-300",children:[n.jsx("div",{className:"flex items-center justify-center mb-0.5",children:n.jsx(Pl,{className:"w-3 h-3 text-yellow-400"})}),n.jsx("div",{className:"text-sm font-bold text-yellow-200",children:(e==null?void 0:e.goldCoins)||0}),n.jsx("div",{className:"text-xs text-yellow-300/80",children:"ذهب"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-slate-700/40 to-indigo-700/40 rounded-lg p-2 backdrop-blur-sm border border-indigo-400/20 hover:scale-105 transition-all duration-300",children:[n.jsx("div",{className:"flex items-center justify-center mb-0.5",children:n.jsx(m0,{className:"w-3 h-3 text-purple-400"})}),n.jsx("div",{className:"text-sm font-bold text-purple-200",children:(e==null?void 0:e.pearls)||0}),n.jsx("div",{className:"text-xs text-purple-300/80",children:"لؤلؤ"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-slate-700/40 to-blue-700/40 rounded-lg p-2 backdrop-blur-sm border border-blue-400/20 hover:scale-105 transition-all duration-300",children:[n.jsx("div",{className:"flex items-center justify-center mb-0.5",children:n.jsx(mr,{className:"w-3 h-3 text-blue-400"})}),n.jsxs("div",{className:"text-sm font-bold text-blue-200",children:["Lv.",(e==null?void 0:e.level)||1]}),n.jsx("div",{className:"text-xs text-blue-300/80",children:"مستوى"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-1.5 text-center mt-1.5",children:[n.jsxs("div",{className:"bg-gradient-to-br from-slate-700/40 to-green-700/40 rounded-lg p-1.5 backdrop-blur-sm border border-green-400/20",children:[n.jsx("div",{className:"flex items-center justify-center mb-0.5",children:n.jsx(ai,{className:"w-3 h-3 text-green-400"})}),n.jsx("div",{className:"text-sm font-bold text-green-200",children:(e==null?void 0:e.gamesPlayed)||0}),n.jsx("div",{className:"text-xs text-green-300/80",children:"ألعاب"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-slate-700/40 to-red-700/40 rounded-lg p-1.5 backdrop-blur-sm border border-red-400/20",children:[n.jsx("div",{className:"flex items-center justify-center mb-0.5",children:n.jsx(h0,{className:"w-3 h-3 text-red-400"})}),n.jsx("div",{className:"text-sm font-bold text-red-200",children:((Na=e==null?void 0:e.friends)==null?void 0:Na.length)||0}),n.jsx("div",{className:"text-xs text-red-300/80",children:"أصدقاء"})]})]}),n.jsx("div",{className:"mt-3 flex justify-center",children:n.jsxs("button",{onClick:()=>ms(!0),className:"relative bg-white/20 hover:bg-white/30 rounded-lg p-3 backdrop-blur-sm transition-all duration-300 flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:"🔔"}),n.jsx("span",{className:"text-white text-sm font-medium",children:"الإشعارات"}),Ve.filter(h=>!h.isRead).length>0&&n.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-bold",children:Ve.filter(h=>!h.isRead).length})]})})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-white/20 rounded-lg p-3 backdrop-blur-sm text-center",children:[n.jsxs("div",{className:"text-lg font-bold text-black",children:["Lv.",(e==null?void 0:e.level)||1]}),n.jsx("div",{className:"text-xs text-white/80",children:"مستوى"})]}),C&&n.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 px-4 rounded-lg flex items-center justify-center gap-2 hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg",children:[n.jsx(gr,{className:"w-4 h-4"}),n.jsx("span",{children:"إرسال رسالة"})]})]})]}),i&&n.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2 rtl:space-x-reverse",children:[n.jsx("button",{onClick:K0,disabled:b,className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx(Ff,{className:"w-4 h-4 text-white"})}),n.jsx("button",{onClick:()=>{a(!1),d(""),w((e==null?void 0:e.gender)||"male")},className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:n.jsx(ha,{className:"w-4 h-4 text-white"})})]})]}),n.jsx("div",{className:"bg-gradient-to-r from-gray-900/95 via-purple-900/95 to-gray-900/95 backdrop-blur-md border-b border-purple-500/30 z-20 mx-4 rounded-xl mt-4 shadow-xl flex-shrink-0",children:n.jsx("div",{className:"flex overflow-x-auto scrollbar-hide p-2",children:[{id:"overview",label:"عام",icon:yr,color:"from-blue-500 to-cyan-500"},...t?[{id:"friends",label:"أصدقاء",icon:kr,color:"from-green-500 to-emerald-500"},{id:"gifts",label:"هدايا",icon:qf,color:"from-pink-500 to-rose-500"},{id:"items",label:"عناصر",icon:mr,color:"from-yellow-500 to-orange-500"},{id:"charge",label:"شحن",icon:Vf,color:"from-purple-500 to-violet-500"},{id:"exchange",label:"تبديل",icon:Rf,color:"from-indigo-500 to-blue-500"}]:[]].map(h=>n.jsxs("button",{onClick:()=>o(h.id),className:`flex-shrink-0 flex flex-col items-center px-4 py-3 min-w-[70px] transition-all duration-500 rounded-xl relative overflow-hidden group ${l===h.id?`bg-gradient-to-br ${h.color} text-white shadow-2xl transform scale-110 animate-glow`:"text-gray-300 hover:bg-gray-800/60 hover:text-white hover:scale-105"}`,children:[l===h.id&&n.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${h.color} opacity-20 blur-xl`}),n.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[n.jsx(h.icon,{className:`w-5 h-5 mb-1 transition-all duration-300 ${l===h.id?"animate-bounce":"group-hover:scale-110"}`}),n.jsx("span",{className:"text-xs font-medium",children:h.label})]}),l===h.id&&n.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-white rounded-full"})]},h.id))})}),n.jsxs("div",{className:"flex-1 flex flex-col",children:[l==="overview"&&n.jsxs("div",{className:"flex-1 flex flex-col p-4 gap-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-slate-800/90 via-blue-800/90 to-indigo-800/90 rounded-xl p-3 border border-blue-400/30 shadow-lg backdrop-blur-sm relative overflow-hidden flex-shrink-0",children:[n.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-blue-500/10 rounded-full blur-xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 bg-indigo-500/10 rounded-full blur-lg animate-float"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("h3",{className:"font-bold text-blue-300 mb-3 text-base flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center",children:n.jsx(yr,{className:"w-3 h-3 text-white"})}),"معلومات الحساب"]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsxs("div",{className:"flex justify-between items-center p-2 bg-gradient-to-r from-blue-900/40 to-indigo-900/40 rounded-lg backdrop-blur-sm border border-blue-400/20",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-pink-500 to-purple-500 rounded flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs",children:"👤"})}),n.jsx("span",{className:"text-blue-100 font-medium text-sm",children:"الجنس"})]}),n.jsx("span",{className:"text-blue-200 font-bold text-sm",children:(e==null?void 0:e.gender)==="female"?"👩 أنثى":"👨 ذكر"})]}),n.jsxs("div",{className:"flex justify-between items-center p-2 bg-gradient-to-r from-blue-900/40 to-indigo-900/40 rounded-lg backdrop-blur-sm border border-blue-400/20",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-blue-500 to-indigo-500 rounded flex items-center justify-center",children:n.jsx(Of,{className:"w-3 h-3 text-white"})}),n.jsx("span",{className:"text-blue-100 font-medium text-sm",children:"الانضمام"})]}),n.jsx("span",{className:"text-blue-200 font-bold text-sm",children:new Date(e==null?void 0:e.joinedAt).toLocaleDateString("ar-EG")})]}),n.jsxs("div",{className:"flex justify-between items-center p-2 bg-gradient-to-r from-blue-900/40 to-indigo-900/40 rounded-lg backdrop-blur-sm border border-blue-400/20",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-green-500 to-emerald-500 rounded flex items-center justify-center",children:n.jsx(pr,{className:"w-3 h-3 text-white"})}),n.jsx("span",{className:"text-blue-100 font-medium text-sm",children:"آخر نشاط"})]}),n.jsx("span",{className:"text-blue-200 font-bold text-sm",children:new Date(e==null?void 0:e.lastActive).toLocaleDateString("ar-EG")})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-shrink-0",children:[n.jsx("div",{className:"bg-gradient-to-br from-slate-800/80 to-blue-800/80 rounded-xl p-3 shadow-lg border border-blue-400/30 backdrop-blur-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-full flex items-center justify-center mx-auto mb-2 shadow-md",children:n.jsx(es,{className:"w-4 h-4 text-white"})}),n.jsx("div",{className:"text-lg font-bold text-blue-200",children:(e==null?void 0:e.experience)||0}),n.jsx("div",{className:"text-xs text-blue-300 font-medium",children:"خبرة"})]})}),n.jsx("div",{className:"bg-gradient-to-br from-slate-800/80 to-indigo-800/80 rounded-xl p-3 shadow-lg border border-indigo-400/30 backdrop-blur-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-2 shadow-md",children:n.jsx(mr,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:"text-lg font-bold text-indigo-200",children:["Lv.",(e==null?void 0:e.level)||1]}),n.jsx("div",{className:"text-xs text-indigo-300 font-medium",children:"مستوى"})]})})]}),!t&&n.jsx("div",{className:"bg-gradient-to-br from-blue-800/60 to-indigo-800/60 rounded-xl p-3 border border-blue-400/30 shadow-md backdrop-blur-sm flex-shrink-0",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-full flex items-center justify-center shadow-sm",children:n.jsx(yr,{className:"w-3 h-3 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-blue-300 text-sm",children:"ملف عام"}),n.jsx("p",{className:"text-xs text-blue-200",children:"معلومات أساسية فقط"})]})]})})]}),t&&l==="friends"&&n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"text-5xl mb-4 drop-shadow-lg",children:"👥"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"إدارة الأصدقاء"}),n.jsx("p",{className:"text-gray-300 text-sm",children:"أضف وتفاعل مع أصدقائك في المنصة"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-800/60 to-indigo-800/60 p-6 rounded-2xl border border-blue-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(zl,{className:"w-6 h-6 text-blue-300"}),n.jsx("h4",{className:"font-bold text-blue-200 text-lg",children:"إضافة صديق جديد"})]}),n.jsxs("div",{className:"flex gap-3 mb-4",children:[n.jsx("input",{type:"text",placeholder:"رقم اللاعب (6 أرقام)",value:x,onChange:h=>{const E=h.target.value.replace(/\D/g,"");z(E),Ne("")},className:"flex-1 px-4 py-3 bg-blue-900/30 border border-blue-400/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:6,onKeyPress:h=>h.key==="Enter"&&ya()}),n.jsxs("button",{onClick:ya,disabled:Pe||x.length!==6,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl text-sm font-bold hover:from-blue-600 hover:to-indigo-700 transition-all duration-300 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:[Pe?"⏳":"🔍"," ",Pe?"جاري البحث...":"بحث"]})]}),Be&&n.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-3 mb-4",children:n.jsx("p",{className:"text-red-200 text-sm text-center",children:Be})}),te&&n.jsx("div",{className:"bg-green-500/20 border border-green-400/30 rounded-xl p-4 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold overflow-hidden",children:te.profileImage?n.jsx("img",{src:te.profileImage,alt:"صورة",className:"w-full h-full object-cover"}):(Sa=(ka=te.username)==null?void 0:ka.charAt(0))==null?void 0:Sa.toUpperCase()}),n.jsxs("div",{children:[n.jsx("p",{className:"text-green-200 font-bold",children:te.username}),n.jsxs("p",{className:"text-green-300 text-xs",children:["رقم اللاعب: ",te.playerId]})]})]}),n.jsx("button",{onClick:()=>O0(te.id),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:from-green-600 hover:to-emerald-700 transition-all",children:"➕ إضافة صديق"})]})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-slate-800/60 to-blue-800/60 p-6 rounded-2xl border border-slate-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("h4",{className:"font-bold text-slate-200 mb-4 text-lg flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:"👫"}),"قائمة الأصدقاء (",we.length,")"]}),we.length===0?n.jsxs("div",{className:"text-center py-6 text-slate-300 text-sm bg-slate-900/30 rounded-xl",children:[n.jsx("div",{className:"text-3xl mb-2",children:"😔"}),"لا توجد أصدقاء حالياً"]}):n.jsx("div",{className:"space-y-3",children:we.map(h=>{var E,_;return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/40 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold overflow-hidden",children:h.profileImage?n.jsx("img",{src:h.profileImage,alt:"صورة",className:"w-full h-full object-cover"}):(_=(E=h.username)==null?void 0:E.charAt(0))==null?void 0:_.toUpperCase()}),n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-200 font-medium",children:h.username}),n.jsxs("p",{className:"text-slate-400 text-xs",children:["رقم اللاعب: ",h.playerId]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>G0(h),className:"bg-gradient-to-r from-blue-500 to-cyan-600 text-white px-3 py-1 rounded-lg text-xs font-bold hover:from-blue-600 hover:to-cyan-700 transition-all",children:"💬 محادثة"}),n.jsx("button",{onClick:()=>S(h),className:"bg-gradient-to-r from-purple-500 to-pink-600 text-white px-3 py-1 rounded-lg text-xs font-bold hover:from-purple-600 hover:to-pink-700 transition-all",children:"🎁 هدية"})]})]},h.id)})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-emerald-800/60 to-green-800/60 p-6 rounded-2xl border border-emerald-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("h4",{className:"font-bold text-emerald-200 mb-4 text-lg flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:"📩"}),"طلبات الصداقة (",Nt.length,")"]}),Nt.length===0?n.jsxs("div",{className:"text-center py-6 text-emerald-300 text-sm bg-emerald-900/30 rounded-xl",children:[n.jsx("div",{className:"text-3xl mb-2",children:"📭"}),"لا توجد طلبات صداقة جديدة"]}):n.jsx("div",{className:"space-y-3",children:Nt.map(h=>{var E,_;return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-900/40 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center text-white font-bold overflow-hidden",children:h.requester.profileImage?n.jsx("img",{src:h.requester.profileImage,alt:"صورة",className:"w-full h-full object-cover"}):(_=(E=h.requester.username)==null?void 0:E.charAt(0))==null?void 0:_.toUpperCase()}),n.jsxs("div",{children:[n.jsx("p",{className:"text-emerald-200 font-medium",children:h.requester.username}),n.jsxs("p",{className:"text-emerald-400 text-xs",children:["رقم اللاعب: ",h.requester.playerId]}),n.jsx("p",{className:"text-emerald-500 text-xs",children:new Date(h.requestedAt).toLocaleDateString("ar")})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>$0(h.id),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-3 py-1 rounded-lg text-xs font-bold hover:from-green-600 hover:to-emerald-700 transition-all",children:"✅ قبول"}),n.jsx("button",{className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-3 py-1 rounded-lg text-xs font-bold hover:from-red-600 hover:to-red-700 transition-all",children:"❌ رفض"})]})]},h.id)})})]})]}),t&&l==="gifts"&&n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"text-5xl mb-4 drop-shadow-lg",children:"🎁"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"نظام إدارة الهدايا"}),n.jsx("p",{className:"text-gray-300 text-sm",children:"أرسل واستقبل الهدايا المتنوعة مع الأصدقاء"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-800/60 to-indigo-800/60 p-6 rounded-2xl border border-blue-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[n.jsx(Pn,{className:"w-6 h-6 text-blue-300"}),n.jsx("h4",{className:"font-bold text-blue-200 text-lg",children:"إرسال هدية جديدة"})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("h5",{className:"text-base font-bold text-yellow-300 mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:"💰"}),"العملات الذهبية"]}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:n.jsxs("button",{onClick:()=>xt("gold"),className:`p-4 border rounded-xl hover:bg-yellow-700/50 transition-all duration-300 flex items-center gap-4 shadow-lg ${pe==="gold"?"bg-yellow-700/60 border-yellow-300":"bg-yellow-800/40 border-yellow-400/30"}`,children:[n.jsx("div",{className:"text-3xl drop-shadow-lg",children:"🪙"}),n.jsxs("div",{className:"text-right flex-1",children:[n.jsx("div",{className:"text-sm font-bold text-yellow-200",children:"عملات ذهبية"}),n.jsx("div",{className:"text-xs text-yellow-300",children:"للشراء والاستخدام في المنصة"})]}),pe==="gold"&&n.jsx("div",{className:"text-yellow-300",children:"✓"})]})})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("h5",{className:"text-base font-bold text-red-300 mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:"⚠️"}),"العناصر الضارة"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("button",{onClick:()=>xt("bomb"),className:`p-4 border rounded-xl hover:bg-red-700/50 transition-all duration-300 text-center shadow-lg ${pe==="bomb"?"bg-red-700/60 border-red-300":"bg-red-800/40 border-red-400/30"}`,children:[n.jsx("div",{className:"text-3xl mb-2 drop-shadow-lg",children:"💣"}),n.jsx("div",{className:"text-xs font-bold text-red-200",children:"قنبلة مدمرة"}),pe==="bomb"&&n.jsx("div",{className:"text-red-300 mt-1",children:"✓"})]}),n.jsxs("button",{onClick:()=>xt("bat"),className:`p-4 border rounded-xl hover:bg-red-700/50 transition-all duration-300 text-center shadow-lg ${pe==="bat"?"bg-red-700/60 border-red-300":"bg-red-800/40 border-red-400/30"}`,children:[n.jsx("div",{className:"text-3xl mb-2 drop-shadow-lg",children:"🦇"}),n.jsx("div",{className:"text-xs font-bold text-red-200",children:"خفاش مؤذي"}),pe==="bat"&&n.jsx("div",{className:"text-red-300 mt-1",children:"✓"})]}),n.jsxs("button",{onClick:()=>xt("snake"),className:`p-4 border rounded-xl hover:bg-red-700/50 transition-all duration-300 text-center shadow-lg ${pe==="snake"?"bg-red-700/60 border-red-300":"bg-red-800/40 border-red-400/30"}`,children:[n.jsx("div",{className:"text-3xl mb-2 drop-shadow-lg",children:"🐍"}),n.jsx("div",{className:"text-xs font-bold text-red-200",children:"ثعبان سام"}),pe==="snake"&&n.jsx("div",{className:"text-red-300 mt-1",children:"✓"})]})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("h5",{className:"text-base font-bold text-emerald-300 mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:"✨"}),"العناصر المفيدة"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("button",{onClick:()=>xt("gem"),className:`p-4 border rounded-xl hover:bg-emerald-700/50 transition-all duration-300 text-center shadow-lg ${pe==="gem"?"bg-emerald-700/60 border-emerald-300":"bg-emerald-800/40 border-emerald-400/30"}`,children:[n.jsx("div",{className:"text-3xl mb-2 drop-shadow-lg",children:"💎"}),n.jsx("div",{className:"text-xs font-bold text-emerald-200",children:"جوهرة نادرة"}),pe==="gem"&&n.jsx("div",{className:"text-emerald-300 mt-1",children:"✓"})]}),n.jsxs("button",{onClick:()=>xt("star"),className:`p-4 border rounded-xl hover:bg-emerald-700/50 transition-all duration-300 text-center shadow-lg ${pe==="star"?"bg-emerald-700/60 border-emerald-300":"bg-emerald-800/40 border-emerald-400/30"}`,children:[n.jsx("div",{className:"text-3xl mb-2 drop-shadow-lg",children:"⭐"}),n.jsx("div",{className:"text-xs font-bold text-emerald-200",children:"نجمة ذهبية"}),pe==="star"&&n.jsx("div",{className:"text-emerald-300 mt-1",children:"✓"})]}),n.jsxs("button",{onClick:()=>xt("coin"),className:`p-4 border rounded-xl hover:bg-emerald-700/50 transition-all duration-300 text-center shadow-lg ${pe==="coin"?"bg-emerald-700/60 border-emerald-300":"bg-emerald-800/40 border-emerald-400/30"}`,children:[n.jsx("div",{className:"text-3xl mb-2 drop-shadow-lg",children:"🪙"}),n.jsx("div",{className:"text-xs font-bold text-emerald-200",children:"عملة خاصة"}),pe==="coin"&&n.jsx("div",{className:"text-emerald-300 mt-1",children:"✓"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[pe&&n.jsx("div",{className:"bg-blue-900/30 p-3 rounded-xl border border-blue-400/30",children:n.jsxs("p",{className:"text-blue-200 text-sm text-center",children:["العنصر المختار: ",n.jsx("span",{className:"font-bold text-blue-100",children:wa(pe)})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("input",{type:"text",placeholder:"رقم اللاعب (6 أرقام)",value:lr,onChange:h=>{const E=h.target.value.replace(/\D/g,"");tt(E)},maxLength:6,className:"flex-1 px-4 py-3 bg-blue-900/30 border border-blue-400/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("button",{onClick:q0,disabled:Ir||!pe||lr.length!==6,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl text-sm font-bold hover:from-blue-600 hover:to-indigo-700 transition-all duration-300 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:Ir?"⏳ جاري الإرسال...":"🎁 إرسال"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-slate-800/60 to-blue-800/60 p-6 rounded-2xl border border-slate-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("h4",{className:"font-bold text-slate-200 mb-4 text-lg flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:"📦"}),"الهدايا المستلمة"]}),n.jsxs("div",{className:"text-center py-6 text-slate-300 text-sm bg-slate-900/30 rounded-xl",children:[n.jsx("div",{className:"text-3xl mb-2",children:"🎈"}),"لا توجد هدايا جديدة في الوقت الحالي"]})]})]}),t&&l==="items"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"text-4xl mb-3",children:"⚡"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"العناصر المجمعة"}),n.jsx("p",{className:"text-sm text-gray-500",children:"العناصر التي حصلت عليها من الألعاب"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-emerald-800/80 to-green-800/80 p-6 rounded-2xl border border-emerald-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("h4",{className:"font-bold text-emerald-300 mb-4 text-lg flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:"⭐"}),"العناصر المفيدة"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-emerald-800/40 rounded-xl border border-emerald-400/30 backdrop-blur-sm hover:bg-emerald-700/50 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[n.jsx("div",{className:"text-4xl mb-3 drop-shadow-lg",children:"💎"}),n.jsx("div",{className:"text-sm font-bold text-emerald-200 mb-1",children:"جوهرة نادرة"}),n.jsx("div",{className:"text-xs text-emerald-300 bg-emerald-900/30 px-2 py-1 rounded-lg mb-2",children:"مكافأة 500 🪙"}),n.jsx("div",{className:"text-xl font-bold text-white bg-gradient-to-r from-emerald-600 to-green-600 rounded-xl py-2 shadow-md",children:j.gems})]}),n.jsxs("div",{className:"text-center p-4 bg-emerald-800/40 rounded-xl border border-emerald-400/30 backdrop-blur-sm hover:bg-emerald-700/50 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[n.jsx("div",{className:"text-4xl mb-3 drop-shadow-lg",children:"⭐"}),n.jsx("div",{className:"text-sm font-bold text-emerald-200 mb-1",children:"نجمة ذهبية"}),n.jsx("div",{className:"text-xs text-emerald-300 bg-emerald-900/30 px-2 py-1 rounded-lg mb-2",children:"مكافأة 200 🪙"}),n.jsx("div",{className:"text-xl font-bold text-white bg-gradient-to-r from-emerald-600 to-green-600 rounded-xl py-2 shadow-md",children:j.stars})]}),n.jsxs("div",{className:"text-center p-4 bg-emerald-800/40 rounded-xl border border-emerald-400/30 backdrop-blur-sm hover:bg-emerald-700/50 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[n.jsx("div",{className:"text-4xl mb-3 drop-shadow-lg",children:"🪙"}),n.jsx("div",{className:"text-sm font-bold text-emerald-200 mb-1",children:"عملة خاصة"}),n.jsx("div",{className:"text-xs text-emerald-300 bg-emerald-900/30 px-2 py-1 rounded-lg mb-2",children:"مكافأة 100 🪙"}),n.jsx("div",{className:"text-xl font-bold text-white bg-gradient-to-r from-emerald-600 to-green-600 rounded-xl py-2 shadow-md",children:j.coins})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-red-800/80 to-rose-800/80 p-6 rounded-2xl border border-red-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("h4",{className:"font-bold text-red-300 mb-4 text-lg flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:"💣"}),"العناصر الضارة"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-red-800/40 rounded-xl border border-red-400/30 backdrop-blur-sm hover:bg-red-700/50 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[n.jsx("div",{className:"text-4xl mb-3 drop-shadow-lg",children:"💣"}),n.jsx("div",{className:"text-sm font-bold text-red-200 mb-1",children:"قنبلة مدمرة"}),n.jsx("div",{className:"text-xs text-red-300 bg-red-900/30 px-2 py-1 rounded-lg mb-2",children:"خسارة 100 🪙"}),n.jsx("div",{className:"text-xl font-bold text-white bg-gradient-to-r from-red-600 to-rose-600 rounded-xl py-2 shadow-md",children:j.bombs})]}),n.jsxs("div",{className:"text-center p-4 bg-red-800/40 rounded-xl border border-red-400/30 backdrop-blur-sm hover:bg-red-700/50 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[n.jsx("div",{className:"text-4xl mb-3 drop-shadow-lg",children:"🦇"}),n.jsx("div",{className:"text-sm font-bold text-red-200 mb-1",children:"خفاش مؤذي"}),n.jsx("div",{className:"text-xs text-red-300 bg-red-900/30 px-2 py-1 rounded-lg mb-2",children:"خسارة 50 🪙"}),n.jsx("div",{className:"text-xl font-bold text-white bg-gradient-to-r from-red-600 to-rose-600 rounded-xl py-2 shadow-md",children:j.bats})]}),n.jsxs("div",{className:"text-center p-4 bg-red-800/40 rounded-xl border border-red-400/30 backdrop-blur-sm hover:bg-red-700/50 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[n.jsx("div",{className:"text-4xl mb-3 drop-shadow-lg",children:"🐍"}),n.jsx("div",{className:"text-sm font-bold text-red-200 mb-1",children:"ثعبان سام"}),n.jsx("div",{className:"text-xs text-red-300 bg-red-900/30 px-2 py-1 rounded-lg mb-2",children:"خسارة 75 🪙"}),n.jsx("div",{className:"text-xl font-bold text-white bg-gradient-to-r from-red-600 to-rose-600 rounded-xl py-2 shadow-md",children:j.snakes})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-amber-800/60 to-yellow-800/60 p-6 rounded-2xl border border-amber-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("h4",{className:"font-bold text-amber-200 mb-3 text-lg flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:"💡"}),"نصائح مهمة"]}),n.jsx("p",{className:"text-amber-100 text-sm leading-relaxed",children:"اجمع العناصر المفيدة من الألعاب • أرسلها كهدايا للأصدقاء • بادلها بعملات ذهبية قيمة"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-800/80 to-indigo-800/80 p-6 rounded-2xl border border-blue-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("h4",{className:"font-bold text-blue-200 mb-4 text-lg flex items-center gap-3",children:[n.jsx("span",{className:"text-3xl drop-shadow-lg",children:"🛡️"}),"نظام الحماية المتطور"]}),n.jsx("p",{className:"text-blue-100 text-sm mb-6 leading-relaxed",children:"احمِ نفسك من العناصر الضارة والهجمات الخطيرة في الألعاب والهدايا"}),n.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[n.jsxs("div",{className:"bg-blue-800/40 p-5 rounded-xl border border-blue-400/30 backdrop-blur-sm shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h5",{className:"font-bold text-blue-200 text-base",children:"🥇 درع ذهبي أساسي"}),n.jsx("span",{className:"text-xs text-blue-100 bg-blue-600/40 px-3 py-1 rounded-full font-medium",children:"24 ساعة"})]}),n.jsx("p",{className:"text-sm text-blue-100 mb-4 leading-relaxed",children:"حماية قوية ضد القنابل المدمرة والخفافيش المؤذية والثعابين السامة"}),U!=null&&U.isActive?n.jsxs("div",{className:"bg-green-600/40 p-3 rounded-xl border border-green-400/30 text-center",children:[n.jsx("div",{className:"text-green-200 text-sm font-bold",children:"🛡️ الدرع نشط"}),n.jsxs("div",{className:"text-green-100 text-xs mt-1",children:["ينتهي في: ",U.expiresAt?new Date(U.expiresAt).toLocaleString("ar"):"غير محدد"]})]}):n.jsx("button",{onClick:()=>R0("gold"),disabled:R,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 rounded-xl text-sm font-bold hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:R?"⏳ جاري التفعيل...":"🛡️ تفعيل الحماية (5,000 🪙)"})]}),n.jsxs("div",{className:"bg-purple-800/40 p-5 rounded-xl border border-purple-400/30 backdrop-blur-sm shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h5",{className:"font-bold text-purple-200 text-base",children:"👑 درع متقدم مميز"}),n.jsx("span",{className:"text-xs text-purple-100 bg-purple-600/40 px-3 py-1 rounded-full font-medium",children:"7 أيام"})]}),n.jsx("p",{className:"text-sm text-purple-100 mb-4 leading-relaxed",children:"حماية مميزة وشاملة لمدة أسبوع كامل ضد جميع العناصر الضارة والهجمات"}),n.jsx("button",{onClick:()=>alert("الدرع المميز غير متاح حالياً. استخدم الدرع الأساسي."),className:"w-full bg-gradient-to-r from-gray-500 to-gray-600 text-white py-3 rounded-xl text-sm font-bold cursor-not-allowed opacity-60",disabled:!0,children:"👑 قريباً - الحماية المميزة"})]})]})]})]}),t&&l==="charge"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"text-5xl mb-4 drop-shadow-lg",children:"💰"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"شحن الرصيد الذهبي"}),n.jsx("p",{className:"text-gray-300 text-sm",children:"اشحن عملاتك الذهبية بأفضل الأسعار"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsx("div",{className:"bg-gradient-to-br from-yellow-800/60 to-amber-800/60 p-6 rounded-2xl border border-yellow-400/30 shadow-xl backdrop-blur-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-3 drop-shadow-lg",children:"🪙"}),n.jsx("h4",{className:"font-bold text-yellow-200 mb-2 text-lg",children:"5,000 عملة ذهبية"}),n.jsx("p",{className:"text-yellow-100 text-base mb-4 font-semibold",children:"💵 $1 USD فقط"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>va(5e3,!0,"1_dollar"),disabled:zt||!Er["1_dollar"],className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl text-xs font-bold hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:zt?"⏳":Er["1_dollar"]?"🆓 مجاني":"✅ مستخدم"}),n.jsx("button",{onClick:()=>ba(5e3,"$1 USD"),className:"flex-1 bg-gradient-to-r from-yellow-500 to-amber-600 text-white py-3 rounded-xl text-xs font-bold hover:from-yellow-600 hover:to-amber-700 transition-all duration-300 shadow-md",children:"📱 شحن مدفوع"})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-green-800/60 to-emerald-800/60 p-6 rounded-2xl border border-green-400/30 shadow-xl backdrop-blur-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-3 drop-shadow-lg",children:"🪙"}),n.jsx("h4",{className:"font-bold text-green-200 mb-2 text-lg",children:"27,200 عملة ذهبية"}),n.jsx("p",{className:"text-green-100 text-base mb-1 font-semibold",children:"💵 $5 USD"}),n.jsx("p",{className:"text-sm text-green-300 bg-green-900/30 px-3 py-1 rounded-lg mb-4 font-medium",children:"🎉 وفر 8% أكثر!"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>va(27200,!0,"5_dollar"),disabled:zt||!Er["5_dollar"],className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 text-white py-3 rounded-xl text-xs font-bold hover:from-blue-600 hover:to-cyan-700 transition-all duration-300 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:zt?"⏳":Er["5_dollar"]?"🆓 مجاني":"✅ مستخدم"}),n.jsx("button",{onClick:()=>ba(27200,"$5 USD"),className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl text-xs font-bold hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-md",children:"📱 شحن مدفوع"})]})]})})]})]}),t&&l==="exchange"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"text-5xl mb-4 drop-shadow-lg",children:"🔄"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"نظام تبديل العملات"}),n.jsx("p",{className:"text-gray-300 text-sm",children:"اللآلئ مخصصة حصرياً للتحويل إلى دولارات نقدية"})]}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-800/60 to-indigo-800/60 p-6 rounded-2xl border border-blue-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("h4",{className:"font-bold text-blue-200 mb-4 text-lg flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:"🪙➡️🦪"}),"تحويل ذهب إلى لآلئ"]}),n.jsx("p",{className:"text-blue-100 text-sm mb-4 bg-blue-900/30 px-3 py-2 rounded-lg",children:"معدل التحويل: 10,000 🪙 = 1 🦪"}),n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("input",{type:"number",placeholder:"10000",value:ze,onChange:h=>as(Math.max(1e4,parseInt(h.target.value)||1e4)),min:"10000",step:"10000",max:(e==null?void 0:e.goldCoins)||0,className:"flex-1 px-4 py-3 bg-blue-900/30 border border-blue-400/30 rounded-xl text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("span",{className:"text-blue-200 font-medium",children:"🪙 ➡️ 🦪"})]}),n.jsxs("div",{className:"text-center mb-4",children:[n.jsxs("p",{className:"text-blue-200 text-sm",children:["ستحصل على: ",n.jsxs("span",{className:"font-bold text-blue-100",children:[Math.floor(ze/1e4)," 🦪"]})]}),n.jsxs("p",{className:"text-blue-300 text-xs",children:["رصيدك الحالي: ",(e==null?void 0:e.goldCoins)||0," 🪙"]})]}),n.jsx("button",{onClick:B0,disabled:an||ze<1e4||((e==null?void 0:e.goldCoins)||0)<ze,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 rounded-xl text-sm font-bold hover:from-blue-600 hover:to-indigo-700 transition-all duration-300 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:an?"⏳ جاري التحويل...":"🔄 تحويل إلى لآلئ"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-800/60 to-emerald-800/60 p-6 rounded-2xl border border-green-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("h4",{className:"font-bold text-green-200 mb-4 text-lg flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:"🦪➡️💵"}),"سحب دولارات نقدية"]}),n.jsx("div",{className:"bg-green-900/30 p-4 rounded-xl mb-4",children:n.jsxs("p",{className:"text-green-100 text-sm leading-relaxed",children:[n.jsx("strong",{className:"text-green-200",children:"💰 معدل التحويل:"})," 10 🦪 = $1 USD",n.jsx("br",{}),n.jsx("strong",{className:"text-green-200",children:"🎯 الحد الأدنى للسحب:"})," $25 USD (250 🦪)"]})}),n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("input",{type:"number",placeholder:"250",value:gt,onChange:h=>Ol(Math.max(250,parseInt(h.target.value)||250)),min:"250",max:(e==null?void 0:e.pearls)||0,className:"flex-1 px-4 py-3 bg-green-900/30 border border-green-400/30 rounded-xl text-white placeholder-green-300 focus:outline-none focus:ring-2 focus:ring-green-500"}),n.jsx("span",{className:"text-green-200 font-medium",children:"🦪 ➡️ $"})]}),n.jsxs("div",{className:"text-center mb-4",children:[n.jsxs("p",{className:"text-green-200 text-sm",children:["ستحصل على: ",n.jsxs("span",{className:"font-bold text-green-100",children:["$",gt/10," USD"]})]}),n.jsxs("p",{className:"text-green-300 text-xs",children:["رصيدك الحالي: ",(e==null?void 0:e.pearls)||0," 🦪"]})]}),n.jsx("button",{onClick:V0,disabled:gt<250||((e==null?void 0:e.pearls)||0)<gt,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl text-sm font-bold hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"📱 طلب سحب عبر واتساب"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-amber-800/60 to-yellow-800/60 p-6 rounded-2xl border border-amber-400/30 shadow-xl backdrop-blur-sm",children:[n.jsxs("h4",{className:"font-bold text-amber-200 mb-4 text-lg flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:"📝"}),"معلومات مهمة"]}),n.jsxs("div",{className:"space-y-2 text-amber-100 text-sm leading-relaxed",children:[n.jsxs("p",{children:["• ",n.jsx("strong",{children:"اللآلئ 🦪"})," - مخصصة حصرياً للتحويل إلى دولارات نقدية"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"العملات الذهبية 🪙"})," - للشراء والتبادل داخل المنصة"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"العناصر الخاصة"})," - تُكسب من الألعاب والتحديات"]})]})]})]})]})]}),u&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-blue-800 rounded-2xl p-6 w-full max-w-md shadow-2xl border border-blue-400/30",children:[n.jsxs("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:["إرسال رسالة إلى ",e==null?void 0:e.username]}),n.jsx("textarea",{value:M,onChange:h=>L(h.target.value),placeholder:"اكتب رسالتك هنا...",className:"w-full p-3 rounded-xl bg-slate-800/40 border border-blue-400/30 text-white placeholder-blue-300 resize-none h-32 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:500}),n.jsxs("div",{className:"text-right text-xs text-blue-300 mt-1 mb-4",children:[M.length,"/500"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>{p(!1),L("")},className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white py-2 px-4 rounded-xl transition-colors",children:"إلغاء"}),n.jsxs("button",{onClick:J0,disabled:!M.trim(),className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:from-gray-500 disabled:to-gray-600 text-white py-2 px-4 rounded-xl transition-all flex items-center justify-center gap-2",children:[n.jsx(Pn,{className:"w-4 h-4"}),"إرسال"]})]})]})}),f&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-pink-900 rounded-2xl p-6 w-full max-w-md border border-purple-400/30 shadow-2xl",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"text-4xl mb-3",children:"🎁"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"إرسال هدية"}),n.jsxs("p",{className:"text-purple-200 text-sm",children:["إلى: ",f.username]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-purple-200 text-sm font-medium mb-2",children:"نوع الهدية:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>re("gold"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-bold transition-all ${q==="gold"?"bg-gradient-to-r from-yellow-500 to-orange-600 text-white":"bg-purple-800/50 text-purple-200 hover:bg-purple-700/50"}`,children:"🪙 عملات ذهبية"}),n.jsx("button",{onClick:()=>re("pearls"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-bold transition-all ${q==="pearls"?"bg-gradient-to-r from-blue-500 to-cyan-600 text-white":"bg-purple-800/50 text-purple-200 hover:bg-purple-700/50"}`,children:"💎 لآلئ"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-purple-200 text-sm font-medium mb-2",children:"الكمية:"}),n.jsx("input",{type:"number",value:I,onChange:h=>$(Math.max(1,parseInt(h.target.value)||1)),min:"1",max:q==="gold"?e==null?void 0:e.goldCoins:e==null?void 0:e.pearls,className:"w-full px-4 py-2 bg-purple-800/50 border border-purple-400/30 rounded-lg text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500"}),n.jsxs("p",{className:"text-purple-300 text-xs mt-1",children:["الحد الأقصى: ",q==="gold"?e==null?void 0:e.goldCoins:e==null?void 0:e.pearls]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-purple-200 text-sm font-medium mb-2",children:"رسالة (اختيارية):"}),n.jsx("textarea",{value:Q,onChange:h=>G(h.target.value),placeholder:"اكتب رسالة مع الهدية...",className:"w-full px-4 py-2 bg-purple-800/50 border border-purple-400/30 rounded-lg text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",rows:3,maxLength:200})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>{S(null),G(""),$(100)},className:"flex-1 bg-gray-600 text-white py-3 rounded-xl font-bold hover:bg-gray-700 transition-all",children:"إلغاء"}),n.jsx("button",{onClick:U0,disabled:D||I<=0,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-600 text-white py-3 rounded-xl font-bold hover:from-purple-600 hover:to-pink-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:D?"⏳ جاري الإرسال...":"🎁 إرسال الهدية"})]})]})}),Ul&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-purple-900 rounded-2xl p-6 w-full max-w-md max-h-[80vh] overflow-hidden border border-purple-400/30 shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:["🔔 الإشعارات",Ve.filter(h=>!h.isRead).length>0&&n.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:Ve.filter(h=>!h.isRead).length})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[Ve.filter(h=>!h.isRead).length>0&&n.jsx("button",{onClick:W0,className:"text-blue-400 hover:text-blue-300 text-xs font-medium transition-colors",children:"تحديد الكل كمقروء"}),n.jsx("button",{onClick:()=>ms(!1),className:"text-gray-400 hover:text-white transition-colors",children:"✕"})]})]}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Ve.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-2",children:"📭"}),n.jsx("p",{children:"لا توجد إشعارات"})]}):Ve.map(h=>n.jsx("div",{onClick:()=>{h.isRead||H0(h._id)},className:`p-3 rounded-xl border transition-all cursor-pointer hover:bg-opacity-80 ${h.isRead?"bg-slate-800/50 border-slate-600/30":"bg-blue-900/30 border-blue-400/30 shadow-lg"}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"text-2xl",children:[h.type==="gift_received"&&"🎁",h.type==="item_received"&&"📦",h.type==="friend_request"&&"👥",h.type==="message"&&"💬"]}),!h.isRead&&n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-slate-900 animate-pulse"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:`font-bold text-sm ${h.isRead?"text-gray-300":"text-white"}`,children:h.title}),n.jsx("p",{className:`text-xs mt-1 ${h.isRead?"text-gray-400":"text-gray-200"}`,children:h.message}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-gray-400 text-xs",children:new Date(h.createdAt).toLocaleString("ar")}),!h.isRead&&n.jsx("span",{className:"text-blue-400 text-xs font-bold",children:"جديد"})]})]})]})},h._id))})]})}),cn&&ue&&n.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex flex-col",onClick:h=>{h.target===h.currentTarget&&kt(!1)},children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-4 py-3 flex items-center gap-3 shadow-lg",children:[n.jsx("button",{onClick:()=>dn(!1),className:"text-white hover:bg-white/20 rounded-full p-2 transition-colors",children:n.jsx(d0,{className:"w-5 h-5"})}),n.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-white/20 border-2 border-white/30",children:ue.profileImage?n.jsx("img",{src:ue.profileImage,alt:"صورة",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-bold text-lg",children:(Ma=(Ca=ue.username)==null?void 0:Ca.charAt(0))==null?void 0:Ma.toUpperCase()})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-white text-lg",children:ue.username}),n.jsxs("p",{className:"text-green-100 text-xs opacity-90",children:["رقم اللاعب: ",ue.playerId]}),n.jsx("p",{className:"text-green-100 text-xs opacity-75",children:"🕐 المحادثات تختفي بعد 3 أيام"})]}),n.jsx("div",{className:"text-green-100",children:n.jsx(gr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-4",id:"messages-container",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundColor:"#0f172a"},children:[v.length===0?n.jsxs("div",{className:"text-center py-20",children:[n.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(gr,{className:"w-10 h-10 text-white/50"})}),n.jsx("p",{className:"text-white/70 text-lg font-medium",children:"ابدأ محادثة جديدة"}),n.jsx("p",{className:"text-white/50 text-sm mt-2",children:"أرسل رسالة لبدء المحادثة"}),n.jsx("div",{className:"mt-4 p-3 bg-yellow-500/20 rounded-lg border border-yellow-500/30",children:n.jsx("p",{className:"text-yellow-200 text-xs",children:"🕐 تنبيه: المحادثات تُحذف تلقائياً بعد 3 أيام للحفاظ على الخصوصية"})})]}):v.map((h,E)=>{var K,J;const _=((K=h.sender)==null?void 0:K._id)===(e==null?void 0:e.id),W=E===0||new Date(h.createdAt).getTime()-new Date((J=v[E-1])==null?void 0:J.createdAt).getTime()>3e5;return n.jsxs("div",{children:[W&&n.jsx("div",{className:"text-center my-4",children:n.jsx("span",{className:"bg-black/30 text-white/70 px-3 py-1 rounded-full text-xs",children:new Date(h.createdAt).toLocaleDateString("ar",{weekday:"short",hour:"2-digit",minute:"2-digit"})})}),n.jsx("div",{className:`flex ${_?"justify-end":"justify-start"} mb-2`,children:n.jsxs("div",{className:`max-w-[80%] px-4 py-3 rounded-2xl shadow-lg relative ${_?"bg-gradient-to-r from-green-500 to-green-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md"}`,children:[n.jsx("p",{className:"text-sm leading-relaxed break-words whitespace-pre-wrap",children:h.content}),n.jsxs("div",{className:`flex items-center justify-end mt-1 text-xs ${_?"text-green-100":"text-gray-500"}`,children:[n.jsx("span",{children:new Date(h.createdAt).toLocaleTimeString("ar",{hour:"2-digit",minute:"2-digit"})}),_&&n.jsx("div",{className:"ml-1 text-green-200",children:"✓✓"})]}),n.jsx("div",{className:`absolute bottom-0 w-4 h-4 ${_?"-right-2 bg-gradient-to-r from-green-500 to-green-600":"-left-2 bg-white"}`,style:{clipPath:_?"polygon(0 0, 100% 0, 0 100%)":"polygon(100% 0, 0 0, 100% 100%)"}})]})})]},h._id)}),O&&n.jsx("div",{className:"flex justify-start mb-2",children:n.jsx("div",{className:"bg-white px-4 py-3 rounded-2xl rounded-bl-md shadow-lg",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),n.jsx("span",{className:"text-xs text-gray-500 mr-2",children:"يكتب..."})]})})})]}),n.jsxs("div",{className:"bg-gray-100 px-4 py-3 flex items-end gap-3 relative",children:[xe&&n.jsx("div",{className:"absolute bottom-full left-4 right-4 mb-2 bg-white rounded-2xl shadow-2xl border border-gray-200 p-4 max-h-48 overflow-y-auto",children:n.jsx("div",{className:"grid grid-cols-8 gap-2",children:["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😬","🙄","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😵","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","😈","👿","👹","👺","🤡","💩","👻","💀","☠️","👽","👾","🤖","🎃","😺","😸","😹","😻","😼","😽","🙀","😿","😾","❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","👍","👎","👌","🤌","🤏","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👋","🤚","🖐️","✋","🖖","👏","🙌","🤝","🙏","✍️","💪","🦾","🦿","🦵"].map((h,E)=>n.jsx("button",{onClick:()=>{H(_=>_+h),kt(!1)},className:"text-xl hover:bg-gray-100 rounded-lg p-1 transition-colors",children:h},E))})}),n.jsx("button",{onClick:()=>kt(!xe),className:`text-gray-500 hover:text-gray-700 transition-colors p-2 ${xe?"bg-gray-200 rounded-full":""}`,children:n.jsx("span",{className:"text-xl",children:"😊"})}),n.jsx("div",{className:"flex-1 relative",children:n.jsx("textarea",{value:V,onChange:h=>{H(h.target.value),h.target.style.height="auto",h.target.style.height=Math.min(h.target.scrollHeight,120)+"px"},placeholder:"اكتب رسالة...",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-3xl text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none max-h-[120px] min-h-[48px]",onKeyPress:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),V.trim()&&ja())},rows:1,autoFocus:!0})}),n.jsx("button",{onClick:ja,disabled:!V.trim(),className:`w-12 h-12 rounded-full flex items-center justify-center transition-all duration-200 ${V.trim()?"bg-green-500 hover:bg-green-600 text-white shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:n.jsx(Pn,{className:"w-5 h-5"})})]})]})]})};class T0{constructor(t){this.localStream=null,this.peerConnections=new Map,this.remoteUsers=new Map,this.pendingIceCandidates=new Map,this.isJoined=!1,this.isMuted=!1,this.roomId=null,this.userId=null,this.audioContext=null,this.analyser=null,this.voiceActivityThreshold=25,this.isMonitoringVoice=!1,this.isSpeaking=!1,this.lastVoiceActivitySent=0,this.voiceActivityDebounce=500,this.iceServers=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"}],this.wsService=t,this.setupWebSocketHandlers()}setupWebSocketHandlers(){this.wsService.onMessage("webrtc_offer",this.handleOffer.bind(this)),this.wsService.onMessage("webrtc_answer",this.handleAnswer.bind(this)),this.wsService.onMessage("webrtc_ice_candidate",this.handleIceCandidate.bind(this)),this.wsService.onMessage("user_joined_voice",this.handleUserJoined.bind(this)),this.wsService.onMessage("user_left_voice",this.handleUserLeft.bind(this))}async joinRoom(t,r){var s;try{console.log("🎤 Joining voice room:",t,"as user:",r),this.roomId=t,this.userId=r,this.localStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3,channelCount:1},video:!1}),console.log("✅ Got local audio stream"),this.startVoiceActivityDetection(),console.log("📤 Sending join_voice_room message to server"),this.wsService.send({type:"join_voice_room",data:{roomId:t,userId:r}}),console.log("✅ join_voice_room message sent"),this.isJoined=!0,console.log("✅ Joined voice room successfully")}catch(l){throw console.error("❌ Error joining voice room:",l),(s=this.onError)==null||s.call(this,l),l}}async leaveRoom(){var t;try{console.log("🔄 Leaving voice room..."),this.peerConnections.forEach((r,s)=>{r.close()}),this.peerConnections.clear(),this.pendingIceCandidates.clear(),this.localStream&&(this.localStream.getTracks().forEach(r=>r.stop()),this.localStream=null),this.stopVoiceActivityDetection(),this.roomId&&this.userId&&this.wsService.send({type:"leave_voice_room",data:{roomId:this.roomId,userId:this.userId}}),this.isJoined=!1,this.remoteUsers.clear(),console.log("✅ Left voice room successfully")}catch(r){console.error("❌ Error leaving voice room:",r),(t=this.onError)==null||t.call(this,r)}}async toggleMute(){try{if(!this.localStream)if(console.warn("⚠️ No local stream available, attempting to create one..."),this.isJoined&&this.roomId&&this.userId)try{this.localStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3,channelCount:1},video:!1}),console.log("✅ Successfully recreated local stream")}catch(r){return console.error("❌ Failed to recreate local stream:",r),this.isMuted=!this.isMuted,console.log(this.isMuted?"🔇 Muted (local only)":"🔊 Unmuted (local only)"),this.isMuted}else return this.isMuted=!this.isMuted,console.log(this.isMuted?"🔇 Muted (local only)":"🔊 Unmuted (local only)"),this.isMuted;const t=this.localStream.getAudioTracks()[0];return t?(t.enabled=!t.enabled,this.isMuted=!t.enabled,console.log(this.isMuted?"🔇 Muted":"🔊 Unmuted"),this.isMuted):(this.isMuted=!this.isMuted,console.log(this.isMuted?"🔇 Muted (no audio track)":"🔊 Unmuted (no audio track)"),this.isMuted)}catch(t){return console.error("Error toggling mute:",t),this.isMuted=!this.isMuted,console.log(this.isMuted?"🔇 Muted (fallback)":"🔊 Unmuted (fallback)"),this.isMuted}}setMute(t){try{if(this.isMuted=t,!this.localStream){console.warn("⚠️ No local stream available for mute control, state updated locally");return}const r=this.localStream.getAudioTracks()[0];r?(r.enabled=!t,console.log(t?"🔇 Muted":"🔊 Unmuted")):console.warn("⚠️ No audio track found, state updated locally")}catch(r){console.error("Error setting mute state:",r),this.isMuted=t}}getMuteState(){return this.isMuted}hasLocalStream(){return!!(this.localStream&&this.localStream.getAudioTracks().length>0)}getStreamStatus(){return{hasStream:!!this.localStream,hasAudioTrack:!!(this.localStream&&this.localStream.getAudioTracks().length>0),isJoined:this.isJoined}}async recreateLocalStream(){try{return this.localStream&&this.localStream.getTracks().forEach(t=>t.stop()),this.localStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3,channelCount:1},video:!1}),console.log("✅ Successfully recreated local stream"),this.peerConnections.forEach((t,r)=>{this.localStream&&(t.getSenders().forEach(s=>{s.track&&s.track.kind==="audio"&&t.removeTrack(s)}),this.localStream.getAudioTracks().forEach(s=>{t.addTrack(s,this.localStream)}))}),!0}catch(t){return console.error("❌ Failed to recreate local stream:",t),!1}}async createPeerConnection(t){const r=new RTCPeerConnection({iceServers:this.iceServers,iceCandidatePoolSize:10});return this.localStream&&this.localStream.getAudioTracks().forEach(l=>{r.addTrack(l,this.localStream),console.log("➕ Added audio track to peer connection for:",t)}),r.ontrack=s=>{var a;console.log("🔊 Received remote stream from:",t);const[l]=s.streams,o=new Audio;o.srcObject=l,o.volume=.8,o.autoplay=!0,o.setSinkId&&o.setSinkId("default").catch(console.error),o.play().catch(console.error);const i=this.remoteUsers.get(t)||{id:t,isSpeaking:!1,isMuted:!1,audioLevel:0};this.remoteUsers.set(t,i),(a=this.onUserJoined)==null||a.call(this,i)},r.onicecandidate=s=>{s.candidate&&this.wsService.send({type:"webrtc_ice_candidate",data:{candidate:s.candidate,targetUserId:t,fromUserId:this.userId}})},this.peerConnections.set(t,r),r}async handleOffer(t){try{const{offer:r,fromUserId:s}=t;console.log("📥 Received offer from:",s),console.log("🔄 Creating peer connection and answer for:",s);let l=this.peerConnections.get(s);l&&l.signalingState!=="stable"&&(console.log("🔄 Closing existing unstable connection with:",s),l.close(),this.peerConnections.delete(s),l=null),l||(l=await this.createPeerConnection(s)),await l.setRemoteDescription(r),console.log("✅ Set remote description (offer)");const o=await l.createAnswer();await l.setLocalDescription(o),console.log("✅ Created and set local description (answer)"),await this.processPendingIceCandidates(s),console.log("📤 Sending WebRTC answer to:",s),this.wsService.send({type:"webrtc_answer",data:{answer:o,targetUserId:s,fromUserId:this.userId}})}catch(r){console.error("❌ Error handling offer:",r)}}async handleAnswer(t){try{const{answer:r,fromUserId:s}=t;console.log("📥 Received answer from:",s);const l=this.peerConnections.get(s);l&&l.signalingState==="have-local-offer"?(await l.setRemoteDescription(r),console.log("✅ Set remote description (answer) for:",s),console.log("🔗 WebRTC connection should be established with:",s),await this.processPendingIceCandidates(s)):l?console.warn("⚠️ Peer connection not in correct state for answer:",l.signalingState):console.warn("⚠️ No peer connection found for:",s)}catch(r){console.error("❌ Error handling answer:",r)}}async handleIceCandidate(t){try{const{candidate:r,fromUserId:s}=t,l=this.peerConnections.get(s);l&&l.remoteDescription?(await l.addIceCandidate(r),console.log("🧊 ICE candidate added for:",s)):l?(this.pendingIceCandidates.has(s)||this.pendingIceCandidates.set(s,[]),this.pendingIceCandidates.get(s).push(r),console.log("🧊 ICE candidate queued for:",s)):console.warn("⚠️ No peer connection found for ICE candidate from:",s)}catch(r){console.error("❌ Error handling ICE candidate:",r)}}async handleUserJoined(t){try{const{userId:r}=t;if(r===this.userId)return;if(console.log("👤 User joined voice room:",r),this.peerConnections.has(r)){console.log("🔄 Already have connection with:",r);return}console.log("🔄 Creating peer connection and offer for:",r);const s=await this.createPeerConnection(r),l=await s.createOffer();await s.setLocalDescription(l),console.log("📤 Sending WebRTC offer to:",r),this.wsService.send({type:"webrtc_offer",data:{offer:l,targetUserId:r,fromUserId:this.userId}})}catch(r){console.error("❌ Error handling user joined:",r)}}handleUserLeft(t){var l;const{userId:r}=t;console.log("👋 User left voice room:",r);const s=this.peerConnections.get(r);s&&(s.close(),this.peerConnections.delete(r)),this.remoteUsers.delete(r),(l=this.onUserLeft)==null||l.call(this,r)}startVoiceActivityDetection(){if(!(!this.localStream||this.isMonitoringVoice))try{this.audioContext=new AudioContext;const t=this.audioContext.createMediaStreamSource(this.localStream);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=256,t.connect(this.analyser),this.isMonitoringVoice=!0,this.monitorVoiceActivity()}catch(t){console.error("❌ Error starting voice activity detection:",t)}}monitorVoiceActivity(){if(!this.analyser||!this.isMonitoringVoice)return;const t=new Uint8Array(this.analyser.frequencyBinCount),r=()=>{if(!this.isMonitoringVoice)return;this.analyser.getByteFrequencyData(t);const s=t.reduce((d,g)=>d+g,0)/t.length,l=Math.round(s*10)/10,o=l>this.voiceActivityThreshold,i=Date.now(),a=o!==this.isSpeaking,c=i-this.lastVoiceActivitySent>this.voiceActivityDebounce;(a||c)&&this.onVoiceActivity&&this.userId&&(this.onVoiceActivity({userId:this.userId,level:l,isSpeaking:o}),this.lastVoiceActivitySent=i,this.isSpeaking=o,a&&console.log("🎤 Voice activity changed:",o?"speaking":"silent",`(level: ${l})`)),requestAnimationFrame(r)};r()}stopVoiceActivityDetection(){this.isMonitoringVoice=!1,this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.analyser=null}async sendOffer(t){try{if(console.log("📤 Sending offer to:",t),!this.isJoined||!this.userId){console.warn("⚠️ Not joined to voice room, cannot send offer");return}let r=this.peerConnections.get(t);r&&r.signalingState!=="stable"&&(console.log("🔄 Closing existing unstable connection with:",t),r.close(),this.peerConnections.delete(t),r=null),r||(r=await this.createPeerConnection(t));const s=await r.createOffer();await r.setLocalDescription(s),console.log("📤 Sending WebRTC offer to:",t),this.wsService.send({type:"webrtc_offer",data:{offer:s,targetUserId:t,fromUserId:this.userId}})}catch(r){console.error("❌ Error sending offer to:",t,r)}}async processPendingIceCandidates(t){const r=this.pendingIceCandidates.get(t);if(r&&r.length>0){console.log(`🧊 Processing ${r.length} pending ICE candidates for:`,t);const s=this.peerConnections.get(t);if(s&&s.remoteDescription)for(const l of r)try{await s.addIceCandidate(l),console.log("🧊 Added pending ICE candidate for:",t)}catch(o){console.error("❌ Error adding pending ICE candidate:",o)}this.pendingIceCandidates.delete(t)}}get isConnected(){return this.isJoined}get mutedState(){return this.isMuted}get connectedUsers(){return Array.from(this.remoteUsers.values())}cleanup(){this.leaveRoom().catch(console.error)}}class zp{constructor(){this.commonPhrases=["السلام عليكم","وعليكم السلام","أهلاً وسهلاً","مرحباً بكم","حياكم الله","أهلاً بك","مساء الخير","صباح الخير","تصبحون على خير","ليلة سعيدة","كيف حالكم؟","كيف الأحوال؟","إن شاء الله","ما شاء الله","بارك الله فيك","جزاك الله خيراً","الله يعطيك العافية","تسلم إيدك","الله يبارك فيك","ربي يحفظك","ممتاز!","رائع جداً","أحسنت","بالتوفيق","الله يوفقك","نعم صحيح","أوافقك الرأي","هذا صحيح","بالضبط","تماماً","من أين أنت؟","كم عمرك؟","ما اسمك؟","أين تسكن؟","ما هو عملك؟","هل أنت متزوج؟","كم طفل لديك؟","ما هوايتك؟","مع السلامة","إلى اللقاء","نراكم قريباً","الله معكم","في أمان الله","وداعاً","إلى اللقاء قريباً","هيا نلعب","من يريد اللعب؟","لعبة جميلة","أحب هذه اللعبة","فزت!","خسرت","لعبة أخرى؟","تحدي جديد","لا تحزن","كله خير","الله معك","ستتحسن الأمور","لا تيأس","كن قوياً","أنا معك","سأساعدك","شكراً لك","عفواً","لا شكر على واجب","أعتذر","آسف","لا بأس","لا مشكلة","بالعكس","أنا جائع","ما رأيكم في الطعام؟","هل تناولتم الطعام؟","طعام لذيذ","أحب هذا الطبق","وجبة شهية","الجو جميل اليوم","الطقس حار","الطقس بارد","يبدو أنه سيمطر","الشمس مشرقة","الجو معتدل"],this.recentMessages=[]}addMessage(t){this.recentMessages.unshift(t),this.recentMessages.length>50&&(this.recentMessages=this.recentMessages.slice(0,50))}getSuggestions(t){if(!t||t.length<2)return[];const r=t.toLowerCase().trim(),s=[];return this.commonPhrases.forEach(l=>{l.toLowerCase().includes(r)&&s.push(l)}),this.recentMessages.forEach(l=>{l.toLowerCase().includes(r)&&!s.includes(l)&&l.length>t.length&&s.push(l)}),s.sort((l,o)=>{const i=l.length-o.length;if(i!==0)return i;const a=this.commonPhrases.includes(l),c=this.commonPhrases.includes(o);return a&&!c?-1:!a&&c?1:0}).slice(0,5)}getQuickSuggestions(){return["السلام عليكم","كيف حالكم؟","أهلاً وسهلاً","شكراً لك","مع السلامة"]}addCustomPhrase(t){this.commonPhrases.includes(t)||this.commonPhrases.push(t)}}const Gc=new zp,Op=({onEmojiSelect:e,onClose:t})=>{const r=y.useRef(null),[s,l]=y.useState("faces"),o={faces:{name:"الوجوه",icon:n.jsx(y0,{className:"w-4 h-4"}),emojis:["😀","😃","😄","😁","😆","😅","🤣","😂","🙂","🙃","😉","😊","😇","🥰","😍","🤩","😘","😗","😚","😙","😋","😛","😜","🤪","😝","🤑","🤗","🤭","🤫","🤔","🤐","🤨","😐","😑","😶","😏","😒","🙄","😬","🤥","😔","😪","🤤","😴","😷","🤒","🤕","🤢","🤮","🤧","🥵","🥶","🥴","😵","🤯","🤠","🥳","😎","🤓","🧐"]},hearts:{name:"القلوب",icon:n.jsx(h0,{className:"w-4 h-4"}),emojis:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","♥️","💋","💌","💐","🌹","🌺","🌻","🌷","🌸","💒","💍"]},gestures:{name:"الإيماءات",icon:n.jsx(Gf,{className:"w-4 h-4"}),emojis:["👍","👎","👌","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👋","🤚","🖐️","✋","🖖","👏","🙌","🤲","🤝","🙏","✍️","💪","🦾","🦿","🦵","🦶"]},symbols:{name:"الرموز",icon:n.jsx(mr,{className:"w-4 h-4"}),emojis:["💯","💢","💥","💫","💦","💨","🕳️","💣","💬","👁️‍🗨️","🗨️","🗯️","💭","💤","💮","♨️","💈","🛑","⭐","🌟","✨","⚡","🔥","💎","🏆","🥇","🥈","🥉","🎖️","🏅"]},food:{name:"الطعام",icon:n.jsx(Bf,{className:"w-4 h-4"}),emojis:["🍎","🍊","🍋","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🥬","☕","🍵","🧃","🥤","🍺","🍻","🥂","🍷","🥃","🍸"]},games:{name:"الألعاب",icon:n.jsx(ma,{className:"w-4 h-4"}),emojis:["🎮","🕹️","🎯","🎲","🃏","🀄","🎰","🎳","🏓","🏸","⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱"]}};return y.useEffect(()=>{const i=a=>{r.current&&!r.current.contains(a.target)&&t()};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[t]),n.jsxs("div",{ref:r,onClick:i=>i.stopPropagation(),className:"absolute bottom-12 left-0 right-0 bg-gray-800/95 backdrop-blur-md border border-gray-600 rounded-lg shadow-2xl z-50 max-w-sm",children:[n.jsxs("div",{className:"flex border-b border-gray-600 p-2 overflow-x-auto",children:[Object.entries(o).map(([i,a])=>n.jsx("button",{onClick:c=>{c.preventDefault(),c.stopPropagation(),l(i)},className:`p-2 rounded-lg transition-colors flex-shrink-0 ${s===i?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,title:a.name,children:a.icon},i)),n.jsx("button",{onClick:i=>{i.preventDefault(),i.stopPropagation(),t()},className:"ml-auto p-2 text-gray-400 hover:text-white flex-shrink-0",children:"✕"})]}),n.jsx("div",{className:"p-3 max-h-48 overflow-y-auto",children:n.jsx("div",{className:"grid grid-cols-8 gap-1",children:o[s].emojis.map((i,a)=>n.jsx("button",{onClick:c=>{c.preventDefault(),c.stopPropagation(),e(i),t()},className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-700 transition-colors text-lg",title:i,children:i},a))})})]})},Up=({suggestions:e,onSuggestionSelect:t,isVisible:r})=>!r||e.length===0?null:n.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-1 bg-gray-800/95 backdrop-blur-md border border-gray-600 rounded-lg shadow-lg z-40 max-h-32 overflow-y-auto",children:e.map((s,l)=>n.jsx("button",{onClick:()=>t(s),className:"w-full text-left px-3 py-2 text-sm text-gray-200 hover:bg-gray-700 transition-colors border-b border-gray-700 last:border-b-0",children:s},l))}),$p=({user:e,wsService:t})=>{var dn,ue,hs;const[r,s]=y.useState(null),[l,o]=y.useState([]),[i,a]=y.useState(!0),[c,d]=y.useState(null),[g,w]=y.useState(!1),[b,N]=y.useState(null),[j,k]=y.useState(!1),[C,m]=y.useState(!1),[u,p]=y.useState(!1),[M,L]=y.useState(""),[R,P]=y.useState(!1),[U,Z]=y.useState(null),[x,z]=y.useState(null),[te,de]=y.useState("30"),[Pe,Re]=y.useState(!1),[Be,Ne]=y.useState([]),[f,S]=y.useState(!1),[I,$]=y.useState(null),[q,re]=y.useState(!1),[Q,G]=y.useState(!1),[D,X]=y.useState(0),[we,Rt]=y.useState("prompt"),[Nt,is]=y.useState(!1),ke=y.useRef(null),Mr=y.useRef(new Map),zt=y.useRef(null),et=y.useRef(null),ze=async()=>{try{a(!0);const[v,A]=await Promise.all([ee.getVoiceRoom(),ee.getVoiceRoomMessages()]);s(v);const V=A.map(se=>({...se,sender:{...se.sender,role:se.sender.role||(se.sender.isAdmin?"admin":"member"),isAdmin:se.sender.isAdmin||!1,gender:se.sender.gender||"male"}}));o(V);const H=v.seats.find(se=>se.user&&se.user._id===e.id);H?(console.log("✅ User is in seat:",H.seatNumber),w(!0),N(H.seatNumber),m(H.isMuted)):(console.log("❌ User is not in any seat"),w(!1),N(null));const O=v.waitingQueue.some(se=>se.user._id===e.id);k(O),d(null)}catch(v){if(console.error("Error loading voice room:",v),v.message&&v.message.includes("مطرود من الغرفة الصوتية")){d(v.message),s({id:"",name:"INFINITY ROOM",description:"غرفة صوتية للمحادثة مع الأصدقاء",maxSeats:5,maxUsers:100,seats:[],waitingQueue:[],listeners:[],settings:{},isActive:!1}),o([]);return}d(v.message||"خطأ في تحميل الغرفة الصوتية")}finally{a(!1)}};y.useEffect(()=>(ke.current=new T0(t),ke.current.onRemoteStreamAdded=(v,A)=>{const V=new Audio;V.srcObject=A,V.autoplay=!0,V.muted=Nt,Mr.current.set(v,V)},ke.current.onRemoteStreamRemoved=v=>{const A=Mr.current.get(v);A&&(A.pause(),A.srcObject=null,Mr.current.delete(v))},ke.current.onVoiceActivity=(v,A)=>{X(A),console.log(`🎤 Voice activity: ${v?"speaking":"silent"} (level: ${A})`),s(V=>({...V,seats:V.seats.map(H=>{var O;return((O=H.user)==null?void 0:O._id)===e.id?{...H,isSpeaking:v}:H})}))},()=>{var v;(v=ke.current)==null||v.cleanup()}),[t,e.id]),y.useEffect(()=>{const v=O=>{const se={...O,sender:{...O.sender,role:O.sender.role||(O.sender.isAdmin?"admin":"member"),isAdmin:O.sender.isAdmin||!1,gender:O.sender.gender||"male"}};O.sender._id!==e.id&&(o(xe=>[...xe,se]),setTimeout(()=>{var xe;(xe=zt.current)==null||xe.scrollIntoView({behavior:"smooth"})},100))},A=O=>{console.log("📢 Voice room update received:",O),O.action&&O.userId?Ir(O.action,O.userId):ze(),O.action==="seat_joined"&&g&&O.userId!==e.id&&setTimeout(()=>{var se;(se=ke.current)==null||se.sendOffer(O.userId)},1e3)},V=O=>{const{action:se,targetUserId:xe,adminId:kt,message:Ot}=O;console.log("🔧 Admin action received:",se,"for user:",xe),Ir(se,xe),xe===e.id&&(d(Ot||`تم تطبيق إجراء إداري: ${se}`),se==="kick"?(ke.current&&ke.current.leaveRoom().catch(console.error),setTimeout(()=>{window.location.reload()},2e3)):se==="removeSeat"&&g&&(ke.current&&ke.current.leaveRoom().catch(console.error),w(!1),N(null),m(!1)))},H=O=>{const{userId:se,isSpeaking:xe}=O;console.log(`🔊 Received voice activity from ${se}: ${xe?"speaking":"silent"}`),s(kt=>({...kt,seats:kt.seats.map(Ot=>{var Ut;return((Ut=Ot.user)==null?void 0:Ut._id)===se?{...Ot,isSpeaking:xe}:Ot})}))};return t.onMessage("voice_room_message",v),t.onMessage("voice_room_update",A),t.onMessage("admin_action_update",V),t.onMessage("voice_activity",H),()=>{t.offMessage("voice_room_message",v),t.offMessage("voice_room_update",A),t.offMessage("admin_action_update",V)}},[t,g,e.id]),y.useEffect(()=>{var v;(v=zt.current)==null||v.scrollIntoView({behavior:"smooth"})},[l]),y.useEffect(()=>{ze(),console.log("User role:",e.role),console.log("User isAdmin:",e.isAdmin),console.log("User object:",e)},[]),y.useEffect(()=>{const v=()=>{const H=window.innerHeight<window.screen.height*.75;P(H)},A=()=>P(!0),V=()=>P(!1);return window.addEventListener("resize",v),et.current&&(et.current.addEventListener("focus",A),et.current.addEventListener("blur",V)),()=>{window.removeEventListener("resize",v),et.current&&(et.current.removeEventListener("focus",A),et.current.removeEventListener("blur",V))}},[]),y.useEffect(()=>{const v=A=>{U&&Z(null),Pe&&Re(!1)};return document.addEventListener("click",v),()=>document.removeEventListener("click",v)},[U,Pe]),y.useEffect(()=>{const v=V=>{if(g)return V.preventDefault(),V.returnValue="أنت حالياً في الغرفة الصوتية. هل تريد المغادرة؟","أنت حالياً في الغرفة الصوتية. هل تريد المغادرة؟"},A=()=>{g&&navigator.sendBeacon("/api/voice-room/leave-seat",JSON.stringify({userId:e.id}))};return window.addEventListener("beforeunload",v),window.addEventListener("unload",A),()=>{window.removeEventListener("beforeunload",v),window.removeEventListener("unload",A)}},[g,e.id]);const as=async v=>{try{const A=await ee.sendVoiceRoomMessage(v),V={_id:A.messageData._id,sender:{_id:e.id,username:e.username,role:e.role,isAdmin:e.isAdmin,gender:e.gender},content:v,timestamp:new Date().toISOString(),messageType:"text"};o(H=>[...H,V]),t.send({type:"voice_room_message",data:A.messageData})}catch(A){console.error("Error sending message:",A),d(A.message||"خطأ في إرسال الرسالة")}},an=async()=>{try{p(!0),await ee.requestMic(),t.send({type:"voice_room_update",data:{action:"mic_requested",userId:e.id}}),await ze()}catch(v){console.error("Error requesting mic:",v),d(v.message||"خطأ في طلب المايك")}finally{p(!1)}},cs=async v=>{try{if(p(!0),await ee.joinVoiceSeat(v),w(!0),N(v),m(!1),ke.current&&(e!=null&&e.id)){console.log("🎤 Starting WebRTC voice chat for user:",e.username);const A=`voice-room-${(r==null?void 0:r.id)||"default"}`;await ke.current.joinRoom(A,e.id),console.log("✅ WebRTC voice chat started successfully")}localStorage.setItem("isInVoiceRoom","true"),localStorage.setItem("voiceRoomSeat",v.toString()),t.send({type:"voice_room_update",data:{action:"seat_joined",userId:e.id,seatNumber:v}}),await ze()}catch(A){console.error("Error joining seat:",A),d(A.message||"خطأ في الانضمام للمقعد")}finally{p(!1)}},gt=async()=>{try{await ee.leaveVoiceSeat(),w(!1),N(null),m(!1),ke.current&&ke.current.leaveRoom(),localStorage.removeItem("isInVoiceRoom"),localStorage.removeItem("voiceRoomSeat"),t.send({type:"voice_room_update",data:{action:"seat_left",userId:e.id,seatNumber:b}}),await ze()}catch(v){console.error("Error leaving seat:",v),d(v.message||"خطأ في مغادرة المقعد")}},Ol=async()=>{try{if(!ke.current)throw new Error("خدمة الصوت غير متاحة");const v=ke.current.getStreamStatus();console.log("🔍 Stream status before mute toggle:",v);const A=await ke.current.toggleMute();try{await ee.toggleMute(A)}catch(V){console.warn("⚠️ Server update failed, continuing with local state:",V)}m(A),t.send({type:"voice_room_update",data:{action:"mute_toggled",userId:e.id,isMuted:A}}),console.log(A?"🔇 Muted successfully":"🔊 Unmuted successfully")}catch(v){console.error("Error toggling mute:",v);const A=!C;m(A),t.send({type:"voice_room_update",data:{action:"mute_toggled",userId:e.id,isMuted:A}}),console.log(`🔄 Fallback mute state: ${A?"muted":"unmuted"}`),d("تم تبديل الكتم محلياً - قد تحتاج لإعادة الانضمام للمقعد"),setTimeout(()=>d(null),3e3)}},Er=()=>{const v=!Nt;is(v),Mr.current.forEach(A=>{A.muted=v}),localStorage.setItem("soundMuted",v.toString())},ds=v=>{const A=v.target.value;if(L(A),A.length>=2){const V=Gc.getSuggestions(A);Ne(V),S(V.length>0)}else S(!1)},pe=v=>{var A;L(v),S(!1),(A=et.current)==null||A.focus()},xt=v=>{var A;L(V=>V+v),Re(!1),(A=et.current)==null||A.focus()},lr=async v=>{if(v.preventDefault(),!M.trim())return;const A=M.trim();L(""),S(!1),Gc.addMessage(A);try{await as(A)}catch{L(A)}},tt=async(v,A,V)=>{try{let H;switch(v){case"kick":H=await ee.kickUserFromVoiceRoom(A,V);break;case"mute":H=await ee.muteUserInVoiceRoom(A);break;case"unmute":H=await ee.unmuteUserInVoiceRoom(A);break;case"removeSeat":H=await ee.removeUserFromSeat(A);break;case"removeQueue":H=await ee.removeUserFromQueue(A);break;case"banChat":H=await ee.banUserFromChat(A);break;case"unbanChat":H=await ee.unbanUserFromChat(A);break}Z(null),z(null),Ir(v,A),t.send({type:"admin_action_update",data:{action:v,targetUserId:A,adminId:e.id,duration:V,message:H==null?void 0:H.message}})}catch(H){console.error("Error performing admin action:",H),d(H.message||"خطأ في تنفيذ الإجراء الإداري")}},Ir=(v,A)=>{s(V=>{if(!V)return V;const H={...V};switch(v){case"kick":case"removeSeat":H.seats=H.seats.map(O=>O.user&&O.user._id===A?{...O,user:null,isMuted:!1}:O),H.waitingQueue=H.waitingQueue.filter(O=>O.user._id!==A);break;case"removeQueue":H.waitingQueue=H.waitingQueue.filter(O=>O.user._id!==A);break;case"mute":H.seats=H.seats.map(O=>O.user&&O.user._id===A?{...O,isMuted:!0}:O);break;case"unmute":H.seats=H.seats.map(O=>O.user&&O.user._id===A?{...O,isMuted:!1}:O);break;case"banChat":H.seats=H.seats.map(O=>O.user&&O.user._id===A?{...O,user:{...O.user,isChatBanned:!0}}:O),H.waitingQueue=H.waitingQueue.map(O=>O.user._id===A?{...O,user:{...O.user,isChatBanned:!0}}:O);break;case"unbanChat":H.seats=H.seats.map(O=>O.user&&O.user._id===A?{...O,user:{...O.user,isChatBanned:!1}}:O),H.waitingQueue=H.waitingQueue.map(O=>O.user._id===A?{...O,user:{...O.user,isChatBanned:!1}}:O);break}return H})},us=async()=>{const v=parseInt(te);await tt("kick",x,v)},Ve=v=>{$(v),re(!0)},Ar=()=>{$(null),re(!1)};y.useEffect(()=>{const v=A=>{A.key==="Escape"&&q&&Ar()};return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[q]);const Ul=async()=>{try{G(!0);const v=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});Rt("granted");const A=new(window.AudioContext||window.webkitAudioContext),V=A.createAnalyser(),H=A.createMediaStreamSource(v),O=new Uint8Array(V.frequencyBinCount);H.connect(V),V.fftSize=256;const se=()=>{V.getByteFrequencyData(O);const xe=O.reduce((kt,Ot)=>kt+Ot)/O.length;X(Math.min(100,xe/128*100)),Q&&requestAnimationFrame(se)};se(),setTimeout(()=>{G(!1),v.getTracks().forEach(xe=>xe.stop()),A.close(),X(0)},1e4)}catch(v){console.error("Audio test failed:",v),Rt("denied"),G(!1),d("فشل في الوصول للمايك. تأكد من منح الإذن في المتصفح.")}};y.useEffect(()=>{(async()=>{try{const V=await navigator.permissions.query({name:"microphone"});Rt(V.state),V.addEventListener("change",()=>{Rt(V.state)})}catch{console.log("Permission API not supported")}})(),localStorage.getItem("soundMuted")==="true"&&is(!0)},[]);const ms=()=>{g&&(s(v=>({...v,seats:v.seats.map(A=>{var V;return((V=A.user)==null?void 0:V._id)===e.id?{...A,isSpeaking:!0}:A})})),setTimeout(()=>{s(v=>({...v,seats:v.seats.map(A=>{var V;return((V=A.user)==null?void 0:V._id)===e.id?{...A,isSpeaking:!1}:A})}))},3e3))},cn=v=>new Date(v).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!1});if(i)return n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx(xr,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-purple-400"}),n.jsx("p",{className:"text-gray-300",children:"جاري تحميل الغرفة الصوتية..."})]})});if(c){const v=c.includes("مطرود من الغرفة الصوتية");return n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:`border rounded-lg p-6 text-center max-w-md mx-auto ${v?"bg-orange-900/20 border-orange-500/30":"bg-red-900/20 border-red-500/30"}`,children:[n.jsx(u0,{className:`w-12 h-12 mx-auto mb-4 ${v?"text-orange-400":"text-red-400"}`}),v?n.jsxs(n.Fragment,{children:[n.jsx("h3",{className:"text-orange-400 font-bold text-lg mb-2",children:"تم طردك من الغرفة الصوتية"}),n.jsx("p",{className:"text-orange-300 mb-4 text-sm leading-relaxed",children:c}),n.jsx("p",{className:"text-gray-400 text-xs",children:"سيتم السماح لك بالدخول مرة أخرى بعد انتهاء المدة المحددة"})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-red-400 mb-4",children:c}),n.jsx("button",{onClick:ze,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors text-white",children:"إعادة المحاولة"})]})]})})}return r?n.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-gray-900/50 to-purple-900/30",children:[n.jsxs("div",{className:"p-3 border-b border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h1",{className:"text-sm font-bold text-white flex items-center gap-2",children:[n.jsx(ts,{className:"w-4 h-4 text-purple-400"}),"INFINITY ROOM"]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-300",children:[n.jsx(kr,{className:"w-3 h-3"}),n.jsxs("span",{children:[(((dn=r.seats)==null?void 0:dn.filter(v=>v.user).length)||0)+(((ue=r.listeners)==null?void 0:ue.length)||0),"/",r.maxUsers||100]}),n.jsxs("span",{className:"text-gray-500",children:["(🎤 ",((hs=r.seats)==null?void 0:hs.filter(v=>v.user).length)||0,"/5)"]}),(e.role==="admin"||e.isAdmin)&&n.jsx("span",{className:"bg-red-600 text-white px-2 py-1 rounded text-xs",children:"ADMIN"})]})]}),console.log("🔍 isInSeat:",g,"currentSeatNumber:",b),(g||b!==null)&&n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("button",{onClick:Ol,className:`py-1.5 px-3 rounded-lg transition-colors flex items-center justify-center gap-1 ${C?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:[C?n.jsx(Xn,{className:"w-3 h-3"}):n.jsx(mt,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs",children:C?"إلغاء كتم":"كتم مايك"})]}),n.jsxs("button",{onClick:Er,className:`py-1.5 px-3 rounded-lg transition-colors flex items-center justify-center gap-1 ${Nt?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[Nt?n.jsx(ho,{className:"w-3 h-3"}):n.jsx(ts,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs",children:Nt?"إلغاء كتم":"كتم صوت"})]}),n.jsx("button",{onClick:gt,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 rounded-lg text-white transition-colors text-xs",children:"مغادرة"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-800/30 rounded-lg mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${we==="granted"?"bg-green-500":we==="denied"?"bg-red-500":"bg-yellow-500"}`}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(mt,{className:`w-3 h-3 ${Q&&D>10?"text-green-400":"text-gray-400"}`}),n.jsx("div",{className:"w-12 h-1.5 bg-gray-600 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full transition-all duration-100 ${D>70?"bg-red-500":D>30?"bg-yellow-500":"bg-green-500"}`,style:{width:`${D}%`}})})]})]}),n.jsx("button",{onClick:Ul,disabled:Q,className:`px-2 py-1 text-xs rounded transition-colors ${Q?"bg-yellow-600 text-white cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:Q?"اختبار...":"اختبار مايك"}),g&&n.jsx("button",{onClick:ms,className:"px-2 py-1 text-xs rounded bg-green-600 hover:bg-green-700 text-white transition-colors",children:"محاكاة تحدث"}),we==="denied"&&n.jsx("span",{className:"text-xs text-red-400",children:"مرفوض"})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"p-3 border-b border-gray-700/50",children:[n.jsx("div",{className:"flex justify-center gap-2 mb-2 overflow-x-auto px-1",children:r.seats.map(v=>n.jsx("div",{className:"flex flex-col items-center flex-shrink-0",children:v.user?n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:`relative w-14 h-14 rounded-full p-1 ${v.isSpeaking&&!v.isMuted?"bg-gradient-to-r from-green-400 to-green-500 shadow-lg shadow-green-500/50 animate-pulse":v.user._id===e.id?"bg-gradient-to-r from-green-500 to-green-600":v.user.role==="admin"||v.user.isAdmin?"bg-gradient-to-r from-red-500 to-red-600 shadow-lg shadow-red-500/50":"bg-gradient-to-r from-blue-500 to-purple-600"} shadow-lg`,children:[n.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-gray-800",children:v.user.profileImage?n.jsx("img",{src:v.user.profileImage,alt:v.user.username,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:v.user.username.charAt(0).toUpperCase()})})}),n.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-lg ${v.isMuted?"bg-red-600":v.isSpeaking?"bg-green-500 animate-pulse shadow-green-500/50":"bg-green-600"}`,children:v.isMuted?n.jsx(Xn,{className:"w-3 h-3 text-white"}):n.jsx(mt,{className:`w-3 h-3 text-white ${v.isSpeaking?"animate-pulse":""}`})}),v.isSpeaking&&!v.isMuted&&n.jsxs("div",{className:"absolute inset-0 rounded-full",children:[n.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-green-400 animate-ping"}),n.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-green-400 animate-ping",style:{animationDelay:"0.5s"}})]})]}),n.jsxs("div",{className:"text-center mt-1 relative",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("h3",{className:"font-medium text-white text-xs mb-1 truncate max-w-12",children:v.user.username}),n.jsxs("div",{className:"flex gap-1",children:[v.isMuted&&n.jsx("div",{className:"bg-red-600 rounded-full p-1",title:"مكتوم",children:n.jsx(ho,{className:"w-2 h-2 text-white"})}),v.user.isChatBanned&&n.jsx("div",{className:"bg-orange-600 rounded-full p-1",title:"محظور من الكتابة",children:n.jsx(Ls,{className:"w-2 h-2 text-white"})})]})]}),(e.role==="admin"||e.isAdmin)&&v.user._id!==e.id&&n.jsx("button",{onClick:A=>{A.stopPropagation(),console.log("Admin menu clicked for user:",v.user.username),Z(U===v.user._id?null:v.user._id)},className:"text-red-500 hover:text-red-300 transition-colors bg-gray-700 rounded-full p-1",title:"إجراءات الإدارة",children:n.jsx(Oc,{className:"w-4 h-4"})})]}),U===v.user._id&&(e.role==="admin"||e.isAdmin)&&n.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-800 border-2 border-red-500 rounded-lg shadow-2xl z-[9999] p-3 min-w-40",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("button",{onClick:()=>tt("removeSeat",v.user._id),className:"flex items-center gap-2 px-2 py-1 text-xs text-red-400 hover:bg-red-900/30 rounded transition-colors",children:[n.jsx(Pf,{className:"w-3 h-3"}),"إنزال"]}),v.isMuted?n.jsxs("button",{onClick:()=>tt("unmute",v.user._id),className:"flex items-center gap-2 px-2 py-1 text-xs text-green-400 hover:bg-green-900/30 rounded transition-colors",children:[n.jsx(Zf,{className:"w-3 h-3"}),"إلغاء كتم"]}):n.jsxs("button",{onClick:()=>tt("mute",v.user._id),className:"flex items-center gap-2 px-2 py-1 text-xs text-yellow-400 hover:bg-yellow-900/30 rounded transition-colors",children:[n.jsx(ho,{className:"w-3 h-3"}),"كتم"]}),v.user.isChatBanned?n.jsxs("button",{onClick:()=>tt("unbanChat",v.user._id),className:"flex items-center gap-2 px-2 py-1 text-xs text-green-400 hover:bg-green-900/30 rounded transition-colors",children:[n.jsx(Uc,{className:"w-3 h-3"}),"إلغاء منع الكتابة"]}):n.jsxs("button",{onClick:()=>tt("banChat",v.user._id),className:"flex items-center gap-2 px-2 py-1 text-xs text-orange-400 hover:bg-orange-900/30 rounded transition-colors",children:[n.jsx(Ls,{className:"w-3 h-3"}),"منع الكتابة"]}),n.jsxs("button",{onClick:()=>{Z(null),z(v.user._id)},className:"flex items-center gap-2 px-2 py-1 text-xs text-red-500 hover:bg-red-900/50 rounded transition-colors",children:[n.jsx(gi,{className:"w-3 h-3"}),"طرد"]})]})})]})]}):n.jsx("div",{className:"flex flex-col items-center",children:n.jsx("button",{onClick:()=>!g&&!j?cs(v.seatNumber):null,disabled:u||g||j,className:"relative w-14 h-14 rounded-full p-1 bg-gradient-to-r from-gray-600 to-gray-700 shadow-lg hover:from-purple-600 hover:to-purple-700 disabled:hover:from-gray-600 disabled:hover:to-gray-700 transition-all duration-300 disabled:cursor-not-allowed",children:n.jsx("div",{className:"w-full h-full rounded-full bg-gray-800/50 border-2 border-dashed border-gray-500 flex items-center justify-center",children:n.jsx(zl,{className:"w-5 h-5 text-gray-400"})})})})},v.seatNumber))}),!g&&!j&&r.seats.every(v=>v.user)&&n.jsxs("button",{onClick:an,disabled:u,className:"w-full py-2 bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-600 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2 mb-4",children:[n.jsx(mt,{className:"w-4 h-4"}),u?"جاري الطلب...":"طلب المايك"]}),r.waitingQueue.length>0&&n.jsxs("div",{className:"bg-yellow-900/20 rounded-lg p-2 border border-yellow-500/20",children:[n.jsxs("h3",{className:"text-sm font-bold text-white mb-2 flex items-center gap-2",children:[n.jsx(pr,{className:"w-4 h-4 text-yellow-400"}),"قائمة الانتظار (",r.waitingQueue.length,")"]}),n.jsx("div",{className:"space-y-2",children:r.waitingQueue.map((v,A)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-800/50 rounded text-sm relative",children:[n.jsx("div",{className:"w-6 h-6 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold text-xs",children:A+1}),n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx("span",{className:"text-white",children:v.user.username}),n.jsx("div",{className:"flex gap-1",children:v.user.isChatBanned&&n.jsx("div",{className:"bg-orange-600 rounded-full p-1",title:"محظور من الكتابة",children:n.jsx(Ls,{className:"w-2 h-2 text-white"})})})]}),v.user._id===e.id&&n.jsx("span",{className:"px-2 py-1 bg-yellow-600 rounded text-xs text-white",children:"أنت"}),(e.role==="admin"||e.isAdmin)&&v.user._id!==e.id&&n.jsx("button",{onClick:V=>{V.stopPropagation(),console.log("Admin menu clicked for queue user:",v.user.username),Z(U===`queue_${v.user._id}`?null:`queue_${v.user._id}`)},className:"text-red-500 hover:text-red-300 transition-colors bg-gray-700 rounded-full p-1",title:"إجراءات الإدارة",children:n.jsx(Oc,{className:"w-4 h-4"})}),U===`queue_${v.user._id}`&&(e.role==="admin"||e.isAdmin)&&n.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-800 border-2 border-red-500 rounded-lg shadow-2xl z-[9999] p-3 min-w-40",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("button",{onClick:()=>tt("removeQueue",v.user._id),className:"flex items-center gap-2 px-2 py-1 text-xs text-red-400 hover:bg-red-900/30 rounded transition-colors",children:[n.jsx(w0,{className:"w-3 h-3"}),"إزالة"]}),v.user.isChatBanned?n.jsxs("button",{onClick:()=>tt("unbanChat",v.user._id),className:"flex items-center gap-2 px-2 py-1 text-xs text-green-400 hover:bg-green-900/30 rounded transition-colors",children:[n.jsx(Uc,{className:"w-3 h-3"}),"إلغاء منع الكتابة"]}):n.jsxs("button",{onClick:()=>tt("banChat",v.user._id),className:"flex items-center gap-2 px-2 py-1 text-xs text-orange-400 hover:bg-orange-900/30 rounded transition-colors",children:[n.jsx(Ls,{className:"w-3 h-3"}),"منع الكتابة"]}),n.jsxs("button",{onClick:()=>{Z(null),z(v.user._id)},className:"flex items-center gap-2 px-2 py-1 text-xs text-red-500 hover:bg-red-900/50 rounded transition-colors",children:[n.jsx(gi,{className:"w-3 h-3"}),"طرد"]})]})})]},v.user._id))})]})]}),n.jsxs("div",{className:"h-96 flex flex-col",children:[n.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[l.length===0?n.jsxs("div",{className:"text-center text-gray-400 py-4",children:[n.jsx(gr,{className:"w-6 h-6 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs",children:"لا توجد رسائل بعد"})]}):l.map(v=>{const A=H=>H.gender==="female"?"text-pink-400":H.gender==="male"?"text-blue-400":["فاطمة","عائشة","خديجة","زينب","مريم","سارة","نور","هند","ليلى","أمل","رنا","دانا","لينا","ريم","نادية","سلمى","ياسمين","روان","جنى","تالا"].some(xe=>H.username.includes(xe))?"text-pink-400":"text-blue-400",V=()=>v.messageType==="system"?"bg-blue-900/30 border border-blue-500/30 text-blue-200 ml-auto max-w-[85%]":v.sender.role==="admin"||v.sender.isAdmin?"bg-red-900/60 border-2 border-red-400/50 text-white ml-auto max-w-[75%] shadow-xl shadow-red-500/30 ring-1 ring-red-400/20":v.sender._id===e.id?"bg-purple-900/50 border border-purple-500/30 text-white ml-auto max-w-[75%]":"bg-gray-800/50 border border-gray-600/30 text-gray-200 ml-auto max-w-[75%]";return n.jsxs("div",{className:`px-3 py-1.5 rounded-xl text-sm ${V()}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-0.5 gap-2",children:[n.jsxs("span",{className:`font-medium text-xs flex-shrink-0 ${v.sender.role==="admin"||v.sender.isAdmin?"text-red-300 font-bold":A(v.sender)}`,children:[v.sender.role==="admin"||v.sender.isAdmin?"👑 ":"",v.sender.username]}),n.jsx("span",{className:"text-xs opacity-60 flex-shrink-0",children:cn(v.timestamp)})]}),n.jsx("div",{className:"text-sm leading-snug",children:v.content})]},v._id)}),n.jsx("div",{ref:zt})]})}),n.jsx("div",{className:"px-4 py-2 border-t border-gray-700/50 bg-gray-900/30",children:n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsxs("button",{onClick:()=>Ve("/speed-challenge.html"),className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-700/50 transition-colors group",title:"تحدي السرعة",children:[n.jsx(j0,{className:"w-6 h-6 text-yellow-400 group-hover:text-yellow-300"}),n.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:"سرعة"})]}),n.jsxs("button",{onClick:()=>Ve("/game8.html"),className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-700/50 transition-colors group",title:"صناديق الحظ",children:[n.jsx(v0,{className:"w-6 h-6 text-green-400 group-hover:text-green-300"}),n.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:"صناديق"})]}),n.jsxs("button",{onClick:()=>Ve("/mind-puzzles.html"),className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-700/50 transition-colors group",title:"ألغاز العقل",children:[n.jsx(x0,{className:"w-6 h-6 text-blue-400 group-hover:text-blue-300"}),n.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:"ألغاز"})]}),n.jsxs("button",{onClick:()=>Ve("/fruit-catching.html"),className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-700/50 transition-colors group",title:"قطف الفواكه",children:[n.jsx(a0,{className:"w-6 h-6 text-red-400 group-hover:text-red-300"}),n.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:"فواكه"})]}),n.jsxs("button",{onClick:()=>Ve("/memory-match.html"),className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-700/50 transition-colors group",title:"لعبة الذاكرة",children:[n.jsx(c0,{className:"w-6 h-6 text-purple-400 group-hover:text-purple-300"}),n.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:"ذاكرة"})]}),n.jsxs("button",{onClick:()=>Ve("/forest-game.html"),className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-700/50 transition-colors group",title:"لعبة الغابة",children:[n.jsx(b0,{className:"w-6 h-6 text-green-600 group-hover:text-green-500"}),n.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:"غابة"})]})]})}),n.jsx("div",{className:"p-4 mb-4 border-t border-gray-700/50 bg-gray-900/50",children:n.jsxs("div",{className:"relative",children:[n.jsx(Up,{suggestions:Be,onSuggestionSelect:pe,isVisible:f}),Pe&&n.jsx(Op,{onEmojiSelect:xt,onClose:()=>Re(!1)}),n.jsxs("form",{onSubmit:lr,className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("input",{ref:et,type:"text",value:M,onChange:ds,placeholder:"اكتب رسالتك...",maxLength:500,className:"w-full px-3 py-2 pr-10 bg-gray-800/50 border border-gray-600/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500/50 text-sm",onFocus:()=>S(Be.length>0),onBlur:()=>setTimeout(()=>S(!1),200)}),n.jsx("button",{type:"button",onClick:v=>{v.preventDefault(),v.stopPropagation(),Re(!Pe)},className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-yellow-400 transition-colors",children:n.jsx(y0,{className:"w-4 h-4"})})]}),n.jsx("button",{type:"submit",disabled:!M.trim(),className:"px-3 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 rounded-lg text-white transition-colors",children:n.jsx(Pn,{className:"w-4 h-4"})}),!j&&n.jsx("button",{type:"button",onClick:an,className:"px-3 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg text-white transition-colors",children:n.jsx(mt,{className:"w-4 h-4"})})]})]})})]})]}),x&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg border border-red-500 p-6 w-full max-w-sm",children:[n.jsx("h3",{className:"text-white font-bold text-lg mb-4 text-center",children:"اختر مدة الطرد"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"المدة:"}),n.jsxs("select",{value:te,onChange:v=>de(v.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-red-500",children:[n.jsx("option",{value:"30",children:"30 دقيقة"}),n.jsx("option",{value:"60",children:"ساعة واحدة"}),n.jsx("option",{value:"180",children:"3 ساعات"}),n.jsx("option",{value:"360",children:"6 ساعات"}),n.jsx("option",{value:"720",children:"12 ساعة"}),n.jsx("option",{value:"1440",children:"يوم واحد"}),n.jsx("option",{value:"4320",children:"3 أيام"}),n.jsx("option",{value:"10080",children:"أسبوع واحد"}),n.jsx("option",{value:"43200",children:"شهر واحد"}),n.jsx("option",{value:"525600",children:"سنة واحدة"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>z(null),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg transition-colors",children:"إلغاء"}),n.jsx("button",{onClick:us,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-colors",children:"طرد"})]})]})]})}),q&&I&&n.jsxs("div",{className:"absolute inset-0 bg-gray-900/95 backdrop-blur-sm z-50 flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/90 border-b border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-white font-medium",children:"اللعبة نشطة"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{I&&window.open(I,"_blank")},className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:"فتح في نافذة جديدة"}),n.jsx("button",{onClick:Ar,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors",title:"إغلاق اللعبة",children:n.jsx(ha,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("iframe",{src:I,className:"w-full h-full border-0",title:"لعبة مدمجة",allow:"fullscreen; autoplay; microphone; camera",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals"}),n.jsx("div",{className:"absolute inset-0 bg-gray-900 flex items-center justify-center pointer-events-none opacity-0 transition-opacity duration-300",id:"game-loading",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-white",children:"جاري تحميل اللعبة..."})]})})]}),n.jsx("div",{className:"p-3 bg-gray-800/90 border-t border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{children:"يمكنك الاستمرار في الدردشة أثناء اللعب"})]}),n.jsx("div",{className:"text-gray-500",children:"اضغط ESC للخروج السريع"})]})})]})]}):n.jsx("div",{className:"p-4 text-center text-gray-400",children:n.jsx("p",{children:"لا توجد بيانات للغرفة الصوتية"})})},Fp=({userData:e,onLogout:t,onUpdateProfile:r,wsService:s})=>{const[l,o]=y.useState("games"),[i,a]=y.useState(e),[c,d]=y.useState(["games"]);y.useEffect(()=>{e&&(console.log("🔄 MobileDashboard: userData updated from parent:",e),a(e))},[e]);const g=C=>{console.log("🔄 MobileDashboard: Updating profile data:",C);const m={...i,...C};a(m),r&&r(m)};y.useEffect(()=>{a(e)},[e]);const w=C=>{console.log("🔄 Navigating to tab:",C),C!==l&&requestAnimationFrame(()=>{d(m=>[...m,C]),o(C),console.log("✅ Tab changed to:",C)})},b=()=>{if(c.length>1){const C=[...c];C.pop();const m=C[C.length-1];d(C),o(m)}},N=c.length>1,j=()=>{switch(l){case"games":return"مركز الألعاب";case"leaderboard":return"لوحة المتصدرين";case"voice":return"الغرفة الصوتية";case"profile":return"الملف الشخصي";case"admin":return"لوحة الإدارة";default:return"INFINITY BOX"}},k=()=>{switch(l){case"games":return n.jsx(Gs,{setActiveTab:w});case"leaderboard":return n.jsx(Bp,{});case"voice":return s?n.jsx($p,{user:i,wsService:s}):n.jsx("div",{className:"p-4 text-center text-red-400",children:"خدمة WebSocket غير متاحة"});case"profile":return n.jsx(Rp,{userData:i,onUpdateProfile:g,onLogout:t,isOwner:!0});case"admin":return e!=null&&e.isAdmin?n.jsx(xi,{userData:e,onLogout:t}):n.jsx(Gs,{setActiveTab:w});default:return n.jsx(Gs,{setActiveTab:w})}};return l==="admin"&&(e!=null&&e.isAdmin)?n.jsx(xi,{userData:e,onLogout:t}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-950 via-purple-950 to-slate-900 text-white flex flex-col relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-24 -left-24 w-72 h-72 bg-green-800 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),n.jsx("div",{className:"absolute -bottom-24 -right-24 w-72 h-72 bg-red-900 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),n.jsx("div",{className:"absolute inset-0 opacity-20",children:n.jsx("div",{className:"grid grid-cols-16 gap-6 h-full w-full p-4",children:Array.from({length:80}).map((C,m)=>n.jsx("div",{className:`${m%4===0?"w-1 h-1":"w-0.5 h-0.5"} bg-white rounded-full animate-pulse`,style:{animationDelay:`${m*150}ms`,animationDuration:`${2+m%3}s`}},m))})}),n.jsx("div",{className:"absolute top-20 right-20 w-16 h-16 bg-gradient-to-br from-yellow-200 to-yellow-100 rounded-full opacity-30 blur-sm"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-20",children:n.jsx("div",{className:"text-[18rem] md:text-[24rem] font-black text-cyan-500 animate-spin",style:{animationDuration:"40s"},children:"∞"})})]}),n.jsxs("div",{className:"relative z-10 flex items-center justify-between h-16 px-4 bg-gradient-to-r from-blue-900/90 via-purple-900/90 to-slate-800/90 backdrop-blur-sm border-b border-purple-400/30 sticky top-0 z-40",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[N&&n.jsx("button",{onClick:b,className:"p-2 rounded-lg hover:bg-slate-700/50 transition-colors",children:n.jsx(d0,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:(i==null?void 0:i.profileImage)||"/images/default-avatar.png",alt:i==null?void 0:i.username,className:"w-9 h-9 rounded-full border-2 border-white/30 object-cover",onError:C=>{C.currentTarget.src="/images/default-avatar.png"}}),n.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white animate-pulse"})]}),n.jsx("div",{children:n.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-yellow-300 to-blue-300 bg-clip-text text-transparent",children:l==="games"?(i==null?void 0:i.username)||"اللاعب":j()})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-slate-700/50 rounded-lg px-3 py-1",children:[n.jsx(Pl,{className:"w-5 h-5 text-yellow-300"}),n.jsx("span",{className:"text-yellow-300 text-sm font-bold",children:(i==null?void 0:i.goldCoins)||0})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-slate-700/50 rounded-lg px-3 py-1",children:[n.jsx(mr,{className:"w-5 h-5 text-emerald-300"}),n.jsx("span",{className:"text-emerald-300 text-sm font-bold",children:(i==null?void 0:i.pearls)||0})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-red-600/20 transition-colors",children:n.jsx(p0,{className:"w-5 h-5 text-red-400"})})]})]}),n.jsx("div",{className:"relative z-10 flex-1 overflow-hidden",children:k()}),n.jsx("div",{className:"relative z-10 bg-gradient-to-r from-blue-900/90 via-purple-900/90 to-slate-800/90 backdrop-blur-sm border-t border-purple-400/30 px-2 py-2 sticky bottom-0 z-40",children:n.jsxs("div",{className:"flex items-center justify-around",children:[n.jsxs("button",{onClick:()=>w("games"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all duration-200 ${l==="games"?"bg-cyan-700/40 text-cyan-300":"text-gray-400 hover:text-cyan-200 hover:bg-slate-700/50"}`,children:[n.jsx(ma,{className:"w-6 h-6"}),n.jsx("span",{className:"text-[11px] font-medium",children:"الألعاب"})]}),n.jsxs("button",{onClick:()=>w("voice"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all duration-200 ${l==="voice"?"bg-purple-700/40 text-purple-300":"text-gray-400 hover:text-purple-200 hover:bg-slate-700/50"}`,children:[n.jsx(ts,{className:"w-6 h-6"}),n.jsx("span",{className:"text-[11px] font-medium",children:"الغرفة الصوتية"})]}),n.jsxs("button",{onClick:()=>w("leaderboard"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all duration-200 ${l==="leaderboard"?"bg-amber-700/40 text-amber-300":"text-gray-400 hover:text-amber-200 hover:bg-slate-700/50"}`,children:[n.jsx(es,{className:"w-6 h-6"}),n.jsx("span",{className:"text-[11px] font-medium",children:"المتصدرين"})]}),n.jsxs("button",{onClick:()=>w("profile"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all duration-200 ${l==="profile"?"bg-emerald-700/40 text-emerald-300":"text-gray-400 hover:text-emerald-200 hover:bg-slate-700/50"}`,children:[n.jsx(yr,{className:"w-6 h-6"}),n.jsx("span",{className:"text-[11px] font-medium",children:"الملف الشخصي"})]}),(e==null?void 0:e.isAdmin)&&n.jsxs("button",{onClick:()=>w("admin"),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all duration-200 ${l==="admin"?"bg-rose-700/40 text-rose-300":"text-gray-400 hover:text-rose-200 hover:bg-slate-700/50"}`,children:[n.jsx(Tn,{className:"w-6 h-6"}),n.jsx("span",{className:"text-[11px] font-medium",children:"الإدارة"})]})]})})]})},Bp=()=>n.jsx("div",{className:"p-4 h-full overflow-y-auto",children:n.jsxs("div",{className:"text-center py-20",children:[n.jsx(es,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"لوحة المتصدرين"}),n.jsx("p",{className:"text-gray-400",children:"قريباً..."})]})}),Vp=({seats:e,waitingQueue:t,currentUser:r,isInSeat:s,currentSeatNumber:l,isInWaitingQueue:o,isConnecting:i,onJoinSeat:a,onRequestMic:c,onCancelMicRequest:d})=>{const g=j=>{const k=new Date,C=new Date(j),m=k.getTime()-C.getTime(),u=Math.floor(m/(1e3*60));return u<1?"الآن":u<60?`${u} دقيقة`:`${Math.floor(u/60)} ساعة`},w=()=>{const j=t.findIndex(k=>k.user._id===r.id);return j>=0?j+1:0},b=e.filter(j=>!j.user),N=b.length>0&&!s&&!o;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-purple-900/30 rounded-xl p-6 border border-purple-500/20",children:[n.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[n.jsx(ts,{className:"w-6 h-6 text-purple-400"}),"المقاعد الصوتية"]}),n.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:e.map(j=>n.jsx("div",{className:"flex flex-col items-center",children:j.user?n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:`relative w-20 h-20 rounded-full p-1 transition-all duration-300 shadow-lg ${j.user._id===r.id?"bg-gradient-to-r from-green-500 to-green-600 shadow-green-500/30":"bg-gradient-to-r from-blue-500 to-purple-600 shadow-blue-500/30"}`,children:[n.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-gray-800",children:j.user.profileImage?n.jsx("img",{src:j.user.profileImage,alt:j.user.username,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-xl",children:j.user.username.charAt(0).toUpperCase()})})}),n.jsx("div",{className:`absolute -bottom-1 -right-1 w-7 h-7 rounded-full flex items-center justify-center shadow-lg transition-all duration-300 ${j.isMuted?"bg-red-600":j.isSpeaking?"bg-green-600 animate-pulse":"bg-gray-600"}`,children:j.isMuted?n.jsx(Xn,{className:"w-4 h-4 text-white"}):n.jsx(mt,{className:"w-4 h-4 text-white"})})]}),n.jsxs("div",{className:"text-center mt-3 max-w-20",children:[n.jsx("h3",{className:"font-semibold text-white text-sm mb-1 truncate",children:j.user.username}),n.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["#",j.user.playerId]}),j.joinedAt&&n.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-400",children:[n.jsx(pr,{className:"w-3 h-3"}),n.jsx("span",{children:g(j.joinedAt)})]})]})]}):n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("button",{onClick:()=>N?a(j.seatNumber):null,disabled:i||!N,className:"relative w-20 h-20 rounded-full p-1 bg-gradient-to-r from-gray-600 to-gray-700 shadow-lg hover:from-purple-600 hover:to-purple-700 disabled:hover:from-gray-600 disabled:hover:to-gray-700 transition-all duration-300 disabled:cursor-not-allowed",children:n.jsx("div",{className:"w-full h-full rounded-full bg-gray-800/50 border-2 border-dashed border-gray-500 flex items-center justify-center hover:border-purple-400 transition-colors",children:n.jsx(zl,{className:"w-8 h-8 text-gray-400"})})}),n.jsx("div",{className:"text-center mt-3",children:n.jsx("p",{className:"text-gray-400 text-sm",children:"مقعد فارغ"})})]})},j.seatNumber))}),n.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 justify-center",children:[!s&&!o&&b.length===0&&n.jsxs("button",{onClick:c,disabled:i,className:"px-6 py-2 bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg text-white font-medium transition-colors flex items-center gap-2",children:[n.jsx(mt,{className:"w-4 h-4"}),i?"جاري الطلب...":"طلب المايك"]}),o&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"px-4 py-2 bg-yellow-900/50 border border-yellow-500/50 rounded-lg text-yellow-300 flex items-center gap-2",children:[n.jsx(pr,{className:"w-4 h-4"}),n.jsxs("span",{children:["في قائمة الانتظار (المركز ",w(),")"]})]}),n.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white transition-colors",children:"إلغاء الطلب"})]})]})]}),t.length>0&&n.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/20 to-orange-900/20 rounded-xl p-6 border border-yellow-500/20",children:[n.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[n.jsx(pr,{className:"w-5 h-5 text-yellow-400"}),"قائمة انتظار المايك (",t.length,")"]}),n.jsx("div",{className:"space-y-3",children:t.map((j,k)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/50 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:k+1}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-white",children:j.user.username}),n.jsxs("span",{className:"text-xs text-gray-400",children:["#",j.user.playerId]})]}),n.jsxs("div",{className:"text-xs text-gray-400",children:["طلب منذ ",g(j.requestedAt)]})]}),j.user._id===r.id&&n.jsx("div",{className:"px-2 py-1 bg-yellow-600 rounded text-xs text-white",children:"أنت"})]},j.user._id))})]})]})},qp=({messages:e,currentUser:t,isInWaitingQueue:r,onSendMessage:s,onRequestMic:l})=>{const[o,i]=y.useState(""),[a,c]=y.useState(!1),d=y.useRef(null),g=y.useRef(null);y.useEffect(()=>{var C;(C=d.current)==null||C.scrollIntoView({behavior:"smooth"})},[e]),y.useEffect(()=>{var C;(C=g.current)==null||C.focus()},[]);const w=async C=>{var u;if(C.preventDefault(),!o.trim()||a)return;const m=o.trim();i(""),c(!0);try{await s(m)}catch(p){console.error("Error sending message:",p),i(m)}finally{c(!1),(u=g.current)==null||u.focus()}},b=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),w(C))},N=C=>new Date(C).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!1}),j=C=>{switch(C){case"system":return n.jsx(u0,{className:"w-4 h-4 text-blue-400"});case"mic_request":return n.jsx(mt,{className:"w-4 h-4 text-yellow-400"});default:return n.jsx(gr,{className:"w-4 h-4 text-gray-400"})}},k=(C,m)=>{const u=m===t.id;switch(C){case"system":return"bg-blue-900/30 border-blue-500/30 text-blue-200";case"mic_request":return"bg-yellow-900/30 border-yellow-500/30 text-yellow-200";default:return u?"bg-purple-900/50 border-purple-500/30 text-white":"bg-gray-800/50 border-gray-600/30 text-gray-200"}};return n.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-blue-900/30 rounded-xl border border-blue-500/20 flex flex-col h-[600px]",children:[n.jsxs("div",{className:"p-4 border-b border-gray-700/50",children:[n.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx(gr,{className:"w-5 h-5 text-blue-400"}),"المحادثة النصية"]}),n.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[e.length," رسالة"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:n.jsxs("div",{className:"flex flex-col space-y-3",children:[e.length===0?n.jsxs("div",{className:"text-center text-gray-400 py-8",children:[n.jsx(gr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"لا توجد رسائل بعد"}),n.jsx("p",{className:"text-sm mt-1",children:"ابدأ المحادثة!"})]}):e.map(C=>n.jsxs("div",{className:`p-3 rounded-lg border ${k(C.messageType,C.sender._id)} ${C.messageType!=="system"&&C.sender._id===t.id?"max-w-[60%] self-end ml-auto":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[j(C.messageType),n.jsx("span",{className:"font-medium text-sm",children:C.sender.username}),n.jsxs("span",{className:"text-xs opacity-60",children:["#",C.sender.playerId]})]}),n.jsxs("div",{className:"flex items-center gap-1 text-xs opacity-60",children:[n.jsx(pr,{className:"w-3 h-3"}),n.jsx("span",{children:N(C.timestamp)})]})]}),n.jsx("div",{className:"text-sm leading-relaxed",children:C.content})]},C._id)),n.jsx("div",{ref:d})]})}),n.jsxs("div",{className:"p-4 border-t border-gray-700/50",children:[n.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("input",{ref:g,type:"text",value:o,onChange:C=>i(C.target.value),onKeyPress:b,placeholder:"اكتب رسالتك هنا...",maxLength:500,disabled:a,className:"w-full px-4 py-2 bg-gray-800/50 border border-gray-600/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500/50 focus:bg-gray-800/70 transition-all disabled:opacity-50 disabled:cursor-not-allowed"}),n.jsxs("div",{className:"absolute bottom-1 left-2 text-xs text-gray-500",children:[o.length,"/500"]})]}),n.jsxs("button",{type:"submit",disabled:!o.trim()||a,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg text-white transition-colors flex items-center gap-2",title:"إرسال الرسالة",children:[n.jsx(Pn,{className:"w-4 h-4"}),a?"جاري الإرسال...":"إرسال"]}),!r&&n.jsxs("button",{type:"button",onClick:l,className:"px-3 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg text-white transition-colors flex items-center gap-1",title:"طلب المايك",children:[n.jsx(mt,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"طلب المايك"})]})]}),r&&n.jsxs("div",{className:"mt-2 p-2 bg-yellow-900/30 border border-yellow-500/30 rounded-lg text-yellow-200 text-sm flex items-center gap-2",children:[n.jsx(pr,{className:"w-4 h-4"}),n.jsx("span",{children:"أنت في قائمة انتظار المايك"})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-center gap-4",children:[n.jsx("span",{children:"اضغط Enter للإرسال"}),n.jsx("span",{children:"الحد الأقصى: 500 حرف"})]})]})]})},Hp=({user:e,wsService:t})=>{const[r,s]=y.useState(null),[l,o]=y.useState([]),[i,a]=y.useState(!0),[c,d]=y.useState(null),[g,w]=y.useState(!1),[b,N]=y.useState(null),[j,k]=y.useState(!1),[C,m]=y.useState(!1),[u,p]=y.useState(!1),[M,L]=y.useState(!1),[R,P]=y.useState([]),[U,Z]=y.useState(new Map),x=y.useRef(null),z=async()=>{try{a(!0),d(null);const[f,S]=await Promise.all([ee.getVoiceRoom(),ee.getVoiceRoomMessages()]);s(f),o(S);const I=f.seats.find(q=>q.user&&q.user._id===e.id);I?(w(!0),N(I.seatNumber),m(I.isMuted)):(w(!1),N(null));const $=f.waitingQueue.some(q=>q.user._id===e.id);k($)}catch(f){console.error("Error loading voice room:",f),d(f.message||"خطأ في تحميل الغرفة الصوتية"),setTimeout(()=>{r||z()},5e3)}finally{a(!1)}};y.useEffect(()=>{if(!(e!=null&&e.id)){console.warn("⚠️ No user ID available, skipping WebRTC service setup");return}console.log("🔧 Setting up WebRTC Voice Service with user ID:",e.id);try{x.current=new T0(t)}catch(f){console.error("❌ Error creating WebRTC service:",f);return}return x.current&&(x.current.onUserJoined=f=>{console.log(`👤 User joined voice chat: ${f.id}`),P(S=>[...S.filter(I=>I.id!==f.id),f])},x.current.onUserLeft=f=>{console.log(`👋 User left voice chat: ${f}`),P(S=>S.filter(I=>I.id!==f)),Z(S=>{const I=new Map(S);return I.delete(f),I})},x.current.onVoiceActivity=f=>{console.log("🎤 Voice activity changed:",f.isSpeaking?"speaking":"silent",`(level: ${f.level})`),Z(S=>{const I=new Map(S);return I.set(f.userId,f),I}),e!=null&&e.id&&g?(console.log("📤 Voice activity sent:",f.isSpeaking?"speaking":"silent",`(userId: ${e.id})`),t.send({type:"voice_activity",data:{userId:e.id,level:f.level,isSpeaking:f.isSpeaking,timestamp:Date.now()}})):(e!=null&&e.id||console.warn("⚠️ No currentUserId available for voice activity"),g||console.log("🔍 User not in seat, voice activity not sent"))},x.current.onError=f=>{console.error("❌ WebRTC error:",f);const S=f instanceof Error?f.message:"خطأ غير معروف في الصوت";d(`خطأ في الصوت: ${S}`)}),()=>{x.current&&(console.log("🧹 Cleaning up WebRTC service"),x.current.leaveRoom().catch(console.error))}},[t,e==null?void 0:e.id]),y.useEffect(()=>{const f=Q=>{o(G=>[...G,Q])},S=Q=>{Q.action==="seat_joined"?s(G=>{if(!G)return G;const D=[...G.seats],X=D.findIndex(we=>we.seatNumber===Q.seatNumber);return X!==-1&&(D[X]={...D[X],user:Q.user,userPlayerId:Q.userPlayerId,joinedAt:new Date().toISOString()}),{...G,seats:D}}):Q.action==="seat_left"?s(G=>{if(!G)return G;const D=[...G.seats],X=D.findIndex(we=>we.seatNumber===Q.seatNumber);return X!==-1&&(D[X]={...D[X],user:null,userPlayerId:null,joinedAt:null}),{...G,seats:D}}):Q.action==="mute_toggled"?s(G=>{if(!G)return G;const D=[...G.seats],X=D.findIndex(we=>we.user&&we.user._id===Q.userId);return X!==-1&&(D[X]={...D[X],isMuted:Q.isMuted}),{...G,seats:D}}):z(),Q.action==="seat_joined"&&g&&Q.userId!==e.id&&setTimeout(()=>{var G;(G=x.current)==null||G.sendOffer(Q.userId)},1e3)},I=Q=>{console.log("📥 Received voice activity:",Q),Q.userId&&Q.userId!==e.id&&Z(G=>{const D=new Map(G);return D.set(Q.userId.toString(),{userId:Q.userId.toString(),level:Q.level,isSpeaking:Q.isSpeaking}),D})},$=Q=>{const{action:G,targetUserId:D,message:X}=Q;console.log("🔧 Admin action received:",G,"for user:",D),D===e.id&&(d(X||`تم تطبيق إجراء إداري: ${G}`),G==="kick"?(x.current&&x.current.leaveRoom().catch(console.error),setTimeout(()=>{window.location.reload()},2e3)):G==="removeSeat"&&g&&(x.current&&x.current.leaveRoom().catch(console.error),w(!1),N(null),m(!1))),z()};t.onMessage("voice_room_message",f),t.onMessage("voice_room_update",S),t.onMessage("voice_activity",I),t.onMessage("admin_action_update",$);const q=Q=>{if(g)return Q.preventDefault(),Q.returnValue="",""},re=()=>{g&&x.current&&x.current.leaveRoom().catch(console.error)};return window.addEventListener("beforeunload",q),window.addEventListener("unload",re),()=>{t.offMessage("voice_room_message",f),t.offMessage("voice_room_update",S),t.offMessage("voice_activity",I),t.offMessage("admin_action_update",$),window.removeEventListener("beforeunload",q),window.removeEventListener("unload",re)}},[t,e.id,g]),y.useEffect(()=>{z()},[]),y.useEffect(()=>{const f=I=>{if(g)return I.preventDefault(),I.returnValue="أنت حالياً في الغرفة الصوتية. هل تريد المغادرة؟","أنت حالياً في الغرفة الصوتية. هل تريد المغادرة؟"},S=()=>{g&&navigator.sendBeacon("/api/voice-room/leave-seat",JSON.stringify({userId:e.id}))};return window.addEventListener("beforeunload",f),window.addEventListener("unload",S),()=>{window.removeEventListener("beforeunload",f),window.removeEventListener("unload",S)}},[g,e.id]);const te=async f=>{try{const S=await ee.sendVoiceRoomMessage(f);t.send({type:"voice_room_message",data:S.messageData})}catch(S){console.error("Error sending message:",S),d(S.message||"خطأ في إرسال الرسالة")}},de=async()=>{try{p(!0),await ee.requestMic(),t.send({type:"voice_room_update",data:{action:"mic_requested",userId:e.id}}),await z()}catch(f){console.error("Error requesting mic:",f),d(f.message||"خطأ في طلب المايك")}finally{p(!1)}},Pe=async()=>{try{await ee.cancelMicRequest(),t.send({type:"voice_room_update",data:{action:"mic_request_cancelled",userId:e.id}}),await z()}catch(f){console.error("Error cancelling mic request:",f),d(f.message||"خطأ في إلغاء طلب المايك")}},Re=async f=>{try{if(p(!0),d(null),await ee.joinVoiceSeat(f),x.current&&(e!=null&&e.id)){console.log("🎤 Starting WebRTC voice chat for seat",f);try{const S=`voice-room-${(r==null?void 0:r.id)||"default"}`;await x.current.joinRoom(S,e.id),L(!0),console.log("✅ WebRTC voice chat started successfully")}catch(S){console.error("❌ WebRTC initialization failed:",S);const I=S instanceof Error?S.message:"خطأ غير معروف";d(`فشل في بدء المحادثة الصوتية: ${I}`)}}localStorage.setItem("isInVoiceRoom","true"),localStorage.setItem("voiceRoomSeat",f.toString()),t.send({type:"voice_room_update",data:{action:"seat_joined",userId:e.id,seatNumber:f}}),await z()}catch(S){console.error("Error joining seat:",S),d(S.message||"خطأ في الانضمام للمقعد"),L(!1)}finally{p(!1)}},Be=async f=>{f&&(f.preventDefault(),f.stopPropagation());try{if(!t)throw new Error("لا يوجد اتصال بالخادم");await ee.leaveVoiceSeat(),x.current&&(await x.current.leaveRoom(),L(!1),P([]),Z(new Map),console.log("🔇 WebRTC voice chat stopped")),localStorage.removeItem("isInVoiceRoom"),localStorage.removeItem("voiceRoomSeat"),t.send({type:"voice_room_update",data:{action:"seat_left",userId:e.id,seatNumber:b}}),w(!1),N(null),m(!1),await z()}catch(S){console.error("Error leaving seat:",S),d(S.message||"خطأ في مغادرة المقعد"),setTimeout(()=>{d(null)},3e3)}},Ne=async f=>{f&&(f.preventDefault(),f.stopPropagation());try{if(!t)throw new Error("لا يوجد اتصال بالخادم");if(!x.current)throw new Error("خدمة الصوت غير متاحة");const S=x.current.getStreamStatus();console.log("🔍 Stream status before mute toggle:",S);const I=await x.current.toggleMute();try{await ee.toggleMute(I)}catch($){console.warn("⚠️ Server update failed, continuing with local state:",$)}m(I),t.send({type:"voice_room_update",data:{action:"mute_toggled",userId:e.id,isMuted:I}}),console.log(I?"🔇 Muted":"🔊 Unmuted")}catch(S){console.error("Error toggling mute:",S);const I=!C;m(I),t.send({type:"voice_room_update",data:{action:"mute_toggled",userId:e.id,isMuted:I}}),console.log(`🔄 Fallback mute state: ${I?"muted":"unmuted"}`),d("تم تبديل الكتم محلياً - قد تحتاج لإعادة الانضمام للمقعد"),setTimeout(()=>{d(null)},3e3)}};return i?n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(xr,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-purple-400"}),n.jsx("p",{className:"text-gray-300",children:"جاري تحميل الغرفة الصوتية..."})]})}):c?n.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-6 text-center",children:[n.jsx("p",{className:"text-red-400 mb-4",children:c}),n.jsx("button",{onClick:z,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"إعادة المحاولة"})]}):r?n.jsxs("div",{className:`max-w-7xl mx-auto p-4 sm:p-6 space-y-6 ${g?"pb-24 sm:pb-6":""}`,children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-900/50 to-blue-900/50 rounded-xl p-4 sm:p-6 border border-purple-500/20",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white mb-2 flex items-center gap-3",children:[n.jsx(ts,{className:"w-6 sm:w-8 h-6 sm:h-8 text-purple-400"}),"INFINITY ROOM"]}),n.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"غرفة صوتية للمحادثة مع الأصدقاء"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4 text-gray-300",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kr,{className:"w-4 sm:w-5 h-4 sm:h-5"}),n.jsxs("span",{className:"text-sm",children:[r.seats.filter(f=>f.user).length,"/",r.maxSeats]})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-black/20 px-2 sm:px-3 py-1 rounded-lg",children:[M?n.jsx(Yf,{className:"w-3 sm:w-4 h-3 sm:h-4 text-green-400"}):n.jsx(Kf,{className:"w-3 sm:w-4 h-3 sm:h-4 text-red-400"}),n.jsx("span",{className:"text-xs sm:text-sm",children:M?"متصل":"غير متصل"})]})]}),g&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto",children:[n.jsx("button",{onClick:f=>Ne(f),className:`w-full sm:w-auto p-3 sm:p-2 rounded-lg transition-colors text-sm font-medium ${C?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,title:C?"إلغاء كتم المايك":"كتم المايك",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[C?n.jsx(Xn,{className:"w-5 h-5"}):n.jsx(mt,{className:"w-5 h-5"}),n.jsx("span",{className:"sm:hidden",children:C?"إلغاء الكتم":"كتم المايك"})]})}),n.jsx("button",{onClick:f=>Be(f),className:"w-full sm:w-auto px-4 py-3 sm:py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white transition-colors text-sm font-medium",children:"مغادرة المقعد"})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(Vp,{seats:r.seats,waitingQueue:r.waitingQueue,currentUser:e,isInSeat:g,currentSeatNumber:b,isInWaitingQueue:j,isConnecting:u,onJoinSeat:Re,onRequestMic:de,onCancelMicRequest:Pe})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx(qp,{messages:l,currentUser:e,isInWaitingQueue:j,onSendMessage:te,onRequestMic:de})})]}),g&&n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900/95 backdrop-blur-sm border-t border-gray-700 p-4 sm:hidden z-50",children:n.jsxs("div",{className:"flex items-center justify-center gap-4 max-w-md mx-auto",children:[n.jsxs("button",{onClick:f=>Ne(f),className:`flex-1 flex items-center justify-center gap-2 p-4 rounded-xl transition-all duration-200 font-medium ${C?"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-600/25":"bg-green-600 hover:bg-green-700 text-white shadow-lg shadow-green-600/25"}`,title:C?"إلغاء كتم المايك":"كتم المايك",children:[C?n.jsx(Xn,{className:"w-5 h-5"}):n.jsx(mt,{className:"w-5 h-5"}),n.jsx("span",{children:C?"إلغاء الكتم":"كتم المايك"})]}),n.jsx("button",{onClick:f=>Be(f),className:"flex-1 flex items-center justify-center gap-2 p-4 bg-red-600 hover:bg-red-700 rounded-xl text-white transition-all duration-200 font-medium shadow-lg shadow-red-600/25",children:n.jsx("span",{children:"مغادرة المقعد"})})]})})]}):n.jsx("div",{className:"text-center text-gray-400",children:n.jsx("p",{children:"لا توجد بيانات للغرفة الصوتية"})})},Wp=({user:e,onLogout:t,wsService:r})=>{var b;const[,s]=A0(),[l,o]=y.useState(()=>{const N=localStorage.getItem("isInVoiceRoom")==="true",j=localStorage.getItem("activeTab");return N?"voice":j||"games"}),[i,a]=y.useState(!1),[c,d]=y.useState(!1);y.useEffect(()=>{const N=()=>{a(window.innerWidth<=768)};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const g=N=>{o(N),localStorage.setItem("activeTab",N)},w=()=>{localStorage.removeItem("token"),s("/login"),t()};return console.log("USER DATA IN MAIN DASHBOARD:",e),!e||!e.username?n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-red-900 via-yellow-900 to-black text-white",children:[n.jsx("h1",{className:"text-3xl font-bold mb-4",children:"⚠️ لا توجد بيانات لاعب!"}),n.jsx("pre",{className:"bg-black/60 rounded-lg p-4 text-left text-xs max-w-xl overflow-x-auto mb-4",children:JSON.stringify(e,null,2)}),n.jsx("p",{className:"mb-4",children:"يرجى التأكد من أن حسابك يحتوي على اسم مستخدم وصورة ورصيد."}),n.jsx("button",{onClick:t,className:"px-6 py-2 bg-red-600 rounded-lg text-white font-bold",children:"تسجيل الخروج"})]}):i?n.jsx(Fp,{userData:e,onLogout:w,wsService:r}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),n.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),n.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),n.jsx("header",{className:"relative z-10 bg-black/30 backdrop-blur-xl border-b border-white/10 shadow-2xl",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-20",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx(Tn,{className:"w-7 h-7 text-white"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:[e.username," - Infinity Box"]}),n.jsx("p",{className:"text-xs text-gray-400",children:"عالم الألعاب المثير"})]})]})}),n.jsx("div",{className:"flex items-center space-x-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-yellow-500/30 to-orange-500/30 backdrop-blur-sm rounded-lg px-4 py-2 border border-yellow-500/50 shadow-lg hover:from-yellow-500/40 hover:to-orange-500/40 transition-all duration-300",children:[n.jsx(Pl,{className:"w-6 h-6 text-yellow-300"}),n.jsx("span",{className:"text-yellow-300 font-bold text-lg",children:((b=e.goldCoins)==null?void 0:b.toLocaleString())||0})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-blue-500/30 to-purple-500/30 backdrop-blur-sm rounded-lg px-4 py-2 border border-blue-500/50 shadow-lg hover:from-blue-500/40 hover:to-purple-500/40 transition-all duration-300",children:[n.jsx(m0,{className:"w-6 h-6 text-blue-300"}),n.jsx("span",{className:"text-blue-300 font-bold text-lg",children:e.pearls||0})]})]})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>d(!c),className:"relative p-2 bg-white/10 backdrop-blur-sm rounded-lg hover:bg-white/20 transition-all duration-300 border border-white/20",children:[n.jsx(zf,{className:"w-5 h-5 text-white"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]}),n.jsxs("div",{className:"flex items-center space-x-3 bg-gradient-to-r from-purple-500/20 to-blue-500/20 backdrop-blur-sm rounded-xl px-4 py-2 border border-purple-500/30 hover:from-purple-500/30 hover:to-blue-500/30 transition-all duration-300 shadow-lg",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:e.profileImage||"/images/default-avatar.png",alt:e.username,className:"w-12 h-12 rounded-full border-2 border-white/30 shadow-lg object-cover",onError:N=>{N.currentTarget.src="/images/default-avatar.png"}}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-bold text-white text-lg",children:e.username}),n.jsxs("p",{className:"text-xs text-yellow-300",children:["مستوى ",e.level||1," - ",e.experience||0," XP"]})]})]}),n.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 backdrop-blur-sm rounded-lg transition-all duration-300 border border-red-500/30 text-red-400 hover:text-red-300",children:[n.jsx(p0,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"خروج"})]})]})]})})}),n.jsx("nav",{className:"relative z-10 bg-black/20 backdrop-blur-xl border-b border-white/10 shadow-lg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex space-x-8",children:[n.jsx("button",{onClick:()=>g("games"),className:`py-4 px-6 border-b-2 font-medium text-sm transition-all duration-300 rounded-t-lg ${l==="games"?"border-yellow-400 text-yellow-400 bg-yellow-400/10":"border-transparent text-gray-300 hover:text-white hover:bg-white/5"}`,children:"🎮 الألعاب"}),n.jsx("button",{onClick:()=>g("leaderboard"),className:`py-4 px-6 border-b-2 font-medium text-sm transition-all duration-300 rounded-t-lg ${l==="leaderboard"?"border-yellow-400 text-yellow-400 bg-yellow-400/10":"border-transparent text-gray-300 hover:text-white hover:bg-white/5"}`,children:"🏆 المتصدرين"}),n.jsx("button",{onClick:()=>g("voice"),className:`py-4 px-6 border-b-2 font-medium text-sm transition-all duration-300 rounded-t-lg ${l==="voice"?"border-yellow-400 text-yellow-400 bg-yellow-400/10":"border-transparent text-gray-300 hover:text-white hover:bg-white/5"}`,children:"🎤 الغرفة الصوتية"}),n.jsx("button",{onClick:()=>g("profile"),className:`py-4 px-6 border-b-2 font-medium text-sm transition-all duration-300 rounded-t-lg ${l==="profile"?"border-yellow-400 text-yellow-400 bg-yellow-400/10":"border-transparent text-gray-300 hover:text-white hover:bg-white/5"}`,children:"👤 الملف الشخصي"}),e.isAdmin&&n.jsx("button",{onClick:()=>g("admin"),className:`py-4 px-6 border-b-2 font-medium text-sm transition-all duration-300 rounded-t-lg ${l==="admin"?"border-yellow-400 text-yellow-400 bg-yellow-400/10":"border-transparent text-gray-300 hover:text-white hover:bg-white/5"}`,children:"⚙️ الإدارة"})]})})}),n.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l==="games"&&n.jsx(Gs,{setActiveTab:g}),l==="leaderboard"&&n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center mb-8",children:[n.jsx(es,{className:"w-12 h-12 text-yellow-400 mr-4"}),n.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"🏆 المتصدرين"})]}),n.jsx("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-8 border border-white/20",children:n.jsx("p",{className:"text-gray-300 text-lg",children:"قريباً سيتم إضافة قائمة المتصدرين..."})})]}),l==="voice"&&r&&n.jsx(Hp,{user:e,wsService:r}),l==="profile"&&n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center mb-8",children:[n.jsx(yr,{className:"w-12 h-12 text-blue-400 mr-4"}),n.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"👤 الملف الشخصي"})]}),n.jsx("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-8 border border-white/20",children:n.jsx("p",{className:"text-gray-300 text-lg",children:"قريباً سيتم إضافة الملف الشخصي..."})})]}),l==="admin"&&e.isAdmin&&n.jsx(xi,{userData:e,onLogout:w})]}),c&&n.jsxs("div",{className:"fixed top-20 right-4 z-50 w-80 bg-black/90 backdrop-blur-xl rounded-2xl border border-white/20 shadow-2xl",children:[n.jsx("div",{className:"p-4 border-b border-white/10",children:n.jsx("h3",{className:"text-lg font-semibold text-white",children:"الإشعارات"})}),n.jsx("div",{className:"p-4",children:n.jsx("p",{className:"text-gray-400 text-center",children:"لا توجد إشعارات جديدة"})})]})]})};function Qp(){const[e,t]=y.useState(!1),[r,s]=y.useState(null),[l,o]=y.useState(!0),[i]=y.useState(()=>new _0(`ws${window.location.protocol==="https:"?"s":""}://${window.location.host}/ws`));y.useEffect(()=>{localStorage.removeItem("activeTab");const d=localStorage.getItem("token");console.log("🔍 App: Checking token:",d?"Token exists":"No token found"),d?(console.log("🔄 App: Attempting to get current user..."),ee.getCurrentUser().then(g=>{if(console.log("✅ App: User data received:",g),g&&typeof g=="object")s(g),localStorage.setItem("isAdmin",g.isAdmin?"true":"false");else{const b=localStorage.getItem("isAdmin")==="true";s({id:"",username:"",isAdmin:b})}console.log("🔓 App: Setting authenticated to true"),t(!0);const w=localStorage.getItem("token");w&&i.connect(w).then(()=>{console.log("✅ WebSocket connected on app load")}).catch(b=>{console.error("❌ Failed to connect to WebSocket on app load:",b)})}).catch(g=>{console.log("❌ App: Error getting user:",g),g.message.includes("MULTIPLE_LOGIN")&&alert("تم تسجيل الدخول من جهاز آخر. سيتم تسجيل خروجك من هذا الجهاز."),console.log("🔒 App: Setting authenticated to false"),t(!1),s(null),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("isAdmin")}).finally(()=>{console.log("⏹️ App: Loading finished"),o(!1)})):(console.log("🔒 App: No token found, setting authenticated to false"),o(!1))},[]);const a=async d=>{s(d),t(!0);try{const g=localStorage.getItem("token");g&&await i.connect(g)}catch(g){console.error("Failed to connect to WebSocket:",g)}},c=()=>{localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("isAdmin"),i.disconnect(),t(!1),s(null)};return l?(console.log("⏳ App: Showing loading screen"),n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-800 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-white text-lg",children:"جاري التحميل..."})]})})):e?(console.log("🏠 App: Showing MainDashboard (authenticated)"),r?n.jsx(Wp,{user:r,onLogout:c,wsService:i}):null):(console.log("🔐 App: Showing AuthPage (not authenticated)"),n.jsx(np,{onAuthSuccess:a}))}o0(document.getElementById("root")).render(n.jsx(y.StrictMode,{children:n.jsx(Qp,{})}));
